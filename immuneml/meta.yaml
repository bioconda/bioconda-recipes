{% set name = "immuneML" %}
{% set version = "1.1.3" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: "https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz"
  sha256: abc2d04e6632a7c17a44c6253da1272b12b2abb7410ec0aaf858d31227fe480a

build:
  number: 0
  noarch: python
  entry_points:
    - immune-ml = immuneML.app.ImmuneMLApp:main
    - immune-ml-quickstart = immuneML.workflows.instructions.quickstart:main
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  host:
    - pip
    - python >=3.7
  run:
    - airr >=1
    - dill >=0.3
    - editdistance ==0.5.3
    - fishersapi
    - gensim >=3.8
    - h5py >=2.9.0
    - logomaker >=0.8
    - matplotlib >=3.1
    - matplotlib-venn >=0.11
    - numpy >=1.18
    - pandas >=1
    - plotly >=4
    - pystache ==0.5.4
    - pytest >=4
    - python >=3.7
    - pyyaml >=5.3
    - regex
    - requests >=2.21
    - scikit-learn >=0.23
    - scipy
    - tensorboard ==1.14.0
    - pytorch >=1.5.1
    - tqdm >=0.24
    - tzlocal

test:
  imports:
    - immuneML
    - immuneML.IO
    - immuneML.analysis
    - immuneML.api
    - immuneML.app
    - immuneML.caching
    - immuneML.data_model
    - immuneML.dev_util
    - immuneML.dsl
    - immuneML.encodings
    - immuneML.environment
    - immuneML.hyperparameter_optimization
    - immuneML.ml_methods
    - immuneML.ml_metrics
    - immuneML.pairwise_repertoire_comparison
    - immuneML.preprocessing
    - immuneML.presentation
    - immuneML.reports
    - immuneML.simulation
    - immuneML.util
    - immuneML.workflows
  commands:
    - immune-ml -h

about:
  home: "https://github.com/uio-bmi/immuneML"
  license: APGL-3.0-only
  license_family: AGPL
  license_file: LICENSE.md
  summary: "immuneML is a software platform for machine learning analysis of immune receptor repertoires."
  doc_url: "https://docs.immuneml.uio.no/"
  dev_url: 

extra:
  recipe-maintainers:
    - knutwa-ext 
    - BlueBasilisk
    - pavlovicmilena 