{% set name = "metaamrplus" %}
{% set version = "1.4" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/migshaw03/MetaAMRplus/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 082dcef6347ef190aa171181c9b32f8a9fec794b4585f8fbf636c637eaadcf33

build:
  number: 1
  noarch: python
  script: |
    mkdir -p $PREFIX/bin
    cp bin/metaamrplus $PREFIX/bin/
    cp bin/metaamrplus_batch $PREFIX/bin/
    cp bin/metaamrplus-download-db $PREFIX/bin/

requirements:
  run:
    - python >=3.8
    - pandas
    - wget
    - ncbi-amrfinderplus
    - blast
    - awk

test:
  commands:
    - metaamrplus --help
    - metaamrplus_batch --help

about:
  home: https://github.com/migshaw03/MetaAMRplus
  summary: "MetaAMRplus: unified detection of antimicrobial and metal resistance genes with colocalisation analysis"
  description: |
    MetaAMRplus is a command-line platform for the simultaneous identification
    of antimicrobial resistance genes, metal and biocide resistance genes,
    and their genomic colocalisation in bacterial genomes and plasmids.
    The tool integrates AMRFinder and BacMet databases and is designed for
    reproducible large-scale genomic analyses.
  license: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - migshaw03

