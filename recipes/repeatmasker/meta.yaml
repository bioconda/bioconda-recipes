{% set name = "RepeatMasker" %}
{% set version = "4.2.1" %}
{% set sha256 = "e6d8260744d8f98b4e36774aa4022dbdde0c2882417925cf524dcc4878da23d0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://www.repeatmasker.org/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  noarch: generic
  run_exports:
    - {{ pin_subpackage('repeatmasker', max_pin="x") }}

requirements:
  host:
    - perl
    - rmblast
    - h5py
  run:
    - rmblast
    - hmmer
    - trf
    - perl
    - h5py
    - gzip  # [osx]
    - wget

test:
  commands:
    - RepeatMasker | grep "RepeatMasker - Mask repetitive DNA" > /dev/null

about:
  home: "https://www.repeatmasker.org/RepeatMasker"
  license: "Open Software License v2.1"
  summary: "RepeatMasker is a program that screens DNA sequences for interspersed repeats and low complexity DNA sequences."
  dev_url: "https://github.com/Dfam-consortium/RepeatMasker"
  doc_url: "https://www.repeatmasker.org/RepeatMasker"

extra:
  identifiers:
    - biotools:repeatmasker
    - usegalaxy-eu:repeatmasker_wrapper
