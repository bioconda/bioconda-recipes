{% set name = "pantools" %}
{% set version = "2.0.0" %}
{% set sha256 = "6931733990c2bbffa4df1b3ca082a9cceeed0f99636e7cdd21526a80e57df629" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://git.wur.nl/bioinformatics/pantools/-/archive/2bd17f679aaa4cc27b398e2d04cbd1dccc603420/pantools-2bd17f679aaa4cc27b398e2d04cbd1dccc603420.tar.gz
  sha256: {{ sha256 }}

build:
  noarch: python
  number: 0

requirements:
  host:
    - python
  run:
    - python
    - openjdk >=8
    - mcl
    - kmc

test:
  commands:
    - pantools help 2>&1 | grep "pantools.jar" > /dev/null

about:
  home: https://git.wur.nl/bioinformatics/pantools
  license: GPLv3
  license_file: LICENSE
  summary: "PanTools is a pangenomic toolkit for comparative analysis of large number of genomes."

extra:
  notes: |
    PanTools is Java program that comes with a custom wrapper Python script.
    This wrapper is called "pantools" and is on $PATH by default. By default
    "-Xms512m -Xmx1g" is set in the wrapper. If you want to overwrite it you can
    specify these values directly after your binaries. If you have _JAVA_OPTIONS
    set globally this will take precedence.
    For example run it with "pantools -Xms512m -Xmx1g"
  identifiers:
    - doi:https://doi.org/10.1093/bioinformatics/btw455
    - doi:https://doi.org/10.1186/s12859-018-2362-4
