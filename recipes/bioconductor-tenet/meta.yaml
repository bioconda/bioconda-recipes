{% set version = "1.2.0" %}
{% set name = "TENET" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 115f720e964f4f4ee861637009138bb4

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-tenet", max_pin="x.x") }}'
  noarch: generic

# Suggests: TENET.AnnotationHub, knitr, rmarkdown, BiocStyle
requirements:

  host:
    - bioconductor-annotationhub >=4.0.0,<4.1.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bsgenome.hsapiens.ucsc.hg38 >=1.4.0,<1.5.0
    - bioconductor-experimenthub >=3.0.0,<3.1.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-motifdb >=1.52.0,<1.53.0
    - bioconductor-multiassayexperiment >=1.36.0,<1.37.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-seqlogo >=1.76.0,<1.77.0
    - bioconductor-sesame >=1.28.0,<1.29.0
    - bioconductor-sesamedata >=1.28.0,<1.29.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - bioconductor-tcgabiolinks >=2.38.0,<2.39.0
    - bioconductor-tenet.experimenthub >=1.2.0,<1.3.0
    - r-bammtools
    - r-base
    - r-ggplot2 >=4.0
    - r-matlab
    - r-pastecs
    - r-r.utils
    - r-rcircos
    - r-survival
    - r-survminer

  run:
    - bioconductor-annotationhub >=4.0.0,<4.1.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bsgenome.hsapiens.ucsc.hg38 >=1.4.0,<1.5.0
    - bioconductor-experimenthub >=3.0.0,<3.1.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-motifdb >=1.52.0,<1.53.0
    - bioconductor-multiassayexperiment >=1.36.0,<1.37.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-seqlogo >=1.76.0,<1.77.0
    - bioconductor-sesame >=1.28.0,<1.29.0
    - bioconductor-sesamedata >=1.28.0,<1.29.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - bioconductor-tcgabiolinks >=2.38.0,<2.39.0
    - bioconductor-tenet.experimenthub >=1.2.0,<1.3.0
    - r-bammtools
    - r-base
    - r-ggplot2 >=4.0
    - r-matlab
    - r-pastecs
    - r-r.utils
    - r-rcircos
    - r-survival
    - r-survminer

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-2
  summary: R package for TENET (Tracing regulatory Element Networks using Epigenetic Traits) to identify key transcription factors
  description: TENET identifies key transcription factors (TFs) and regulatory elements (REs) linked to a specific cell type by finding significantly correlated differences in gene expression and RE DNA methylation between case and control input datasets, and identifying the top genes by number of significant RE DNA methylation site links. It also includes many tools for visualization and analysis of the results, including plots displaying and comparing methylation and expression data and methylation site link counts, survival analysis, TF motif searching in the vicinity of linked RE DNA methylation sites, custom TAD and peak overlap analysis, and UCSC Genome Browser track file generation. A utility function is also provided to download methylation, expression, and patient survival data from The Cancer Genome Atlas (TCGA) for use in TENET or other analyses.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

