{% set name = "quanttb" %}
{% set version = "1.01" %}

package:
  name: {{name}}
  version: {{version}}

source:
  url: https://github.com/AbeelLab/{{name}}/archive/refs/tags/{{version}}.tar.gz
  sha256: 'f2aff5df061c19c924bf6a99e629d90f070c29c970f0347a24f92adb657e5a3e'

build:
  script: python -m pip install --no-deps --ignore-installed .
  noarch: python
  number: 0

requirements:
  host:
    - python >=2.7,<3
    - pip
    - setuptools
    - scipy
    - numpy
    - subprocess32
  run:
    - python >=2.7,<3
    - bwa
    - samtools
    - openjdk
    - scipy
    - numpy
    - subprocess32

test:
  requires:
    - python >=2.7,<3
  commands:
    - quanttb --help |& grep quantTB >/dev/null 2>&1

about:
  home: https://github.com/AbeelLab/quanttb
  license: GPL-3.0
  license_file: LICENSE
  summary: QuantTB, a tool to classify mixed Mycobacterium tuberculosis infections within whole genome sequencing data

extra:
  identifiers:
    - doi:10.1186/s12864-020-6486-3
