{% set version = "1.2.0" %}
{% set name = "ELViS" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 746efe7f518d4cdd53223c0df04b80c7

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-elvis", max_pin="x.x") }}'
  noarch: generic

# Suggests: Rsamtools, BiocManager, knitr, testthat (>= 3.0.0)
requirements:

  host:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-complexheatmap >=2.26.0,<2.27.0
    - bioconductor-genomicfeatures >=1.62.0,<1.63.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-txdbmaker >=1.6.0,<1.7.0
    - r-base
    - r-circlize
    - r-data.table
    - r-dplyr
    - r-ggplot2
    - r-glue
    - r-igraph
    - r-magrittr
    - r-memoise
    - r-patchwork
    - r-reticulate
    - r-scales
    - r-segclust2d
    - r-stringr
    - r-uuid
    - r-zoo

  run:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-complexheatmap >=2.26.0,<2.27.0
    - bioconductor-genomicfeatures >=1.62.0,<1.63.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-txdbmaker >=1.6.0,<1.7.0
    - r-base
    - r-circlize
    - r-data.table
    - r-dplyr
    - r-ggplot2
    - r-glue
    - r-igraph
    - r-magrittr
    - r-memoise
    - r-patchwork
    - r-reticulate
    - r-scales
    - r-segclust2d
    - r-stringr
    - r-uuid
    - r-zoo

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: MIT + file LICENSE
  summary: An R Package for Estimating Copy Number Levels of Viral Genome Segments Using Base-Resolution Read Depth Profile
  description: Base-resolution copy number analysis of viral genome. Utilizes base-resolution read depth data over viral genome to find copy number segments with two-dimensional segmentation approach. Provides publish-ready figures, including histograms of read depths, coverage line plots over viral genome annotated with copy number change events and viral genes, and heatmaps showing multiple types of data with integrative clustering of samples.
  license_file: LICENSE

