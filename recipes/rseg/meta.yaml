{% set name = "rseg" %}
{% set version = "0.4.9" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/smithlabcode/rseg/archive/rseg-{{ version }}.tar.gz
  sha256: 052dd3362bfd44f398f53c5586d6b9655d36dc25b43a50c862fb103a2dfbd064

build:
  number: 3
  skip: True  # [x86_64 or osx]
  run_exports:
    - {{ pin_subpackage('rseg', max_pin="x") }}

requirements:
  build:
    - make
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host:
    - zlib
  run:
    - bayestyper

test:
  commands:
    - rseg -about 2>&1
    - rseg-diff -about 2>&1
    - deadzones -about 2>&1
    - bayesTyper | grep BayesTyper
    - bayesTyperTools | grep BayesTyperTools

about:
  home: "https://smithlabresearch.org/software/rseg"
  license: "GPL-3.0-or-later"
  license_family: GPL3
  summary: "The RSEG software package is used to analyze ChIP-Seq data, especially for identifying genomic regions and their boundaries marked by diffusive histone modification markers, such as H3K36me3 and H3K27me3."
  doc_url: "https://smithlabresearch.org/wp-content/uploads/rseg_manual-v{{ version }}.pdf"
  dev_url: "https://github.com/smithlabcode/rseg"

extra: 
  additional-platforms:
    - linux-aarch64
