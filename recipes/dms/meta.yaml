{% set name = "dms" %}
{% set version = "2020.12.22" %}
{% set sha256 = "c4619c2345949b52c8b49479d220475d05112c82f70c945c2a16033424e5ed91" %}

package:
  name: {{ dms-v1.1.tar.gz }}
  version: {{ v1.1 }}

source:
  url: http://bioinfo.single-cell.cn/Released_Software/dynamic-meta-storms/dms-v1.1.tar.gz
  sha256: {{ c4619c2345949b52c8b49479d220475d05112c82f70c945c2a16033424e5ed91 }}
  patches:
    - makefile.patch

build:
  number: 0

requirements:
  build:
  - {{ compiler('cxx') }}

test:
  commands:
    MS-comp-taxa-dynamic -h

about:
  home: https://github.com/qibebt-bioinfo/dynamic-meta-storms
  license: GPL-3.0 License
  license_family: PUBLIC-DOMAIN
  summary: "Dynamic Meta-Storms enables comprehensive taxonomic and phylogenetic comparison of shotgun metagenomes at the species level. It takes the species-level profiling results (e.g. MetaPhlAn2) as input, and compares metagenomes on the species-level with both taxonomy and phylogeny profiles. When comparing samples, for organisms that can be identified by species, Dynamic Meta-Storms measures their dissimilarity based on the species-level phylogeny tree using the Meta-Storms algorithm; for unclassified species, it dynamically locates such organisms to the virtual internal nodes that account for all the sub-branches under the same taxonomy."

extra:
  identifiers:
    "- doi: 10.1093/bioinformatics/btz910"
