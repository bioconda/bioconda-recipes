{% set version = "1.14.0" %}
{% set name = "GEOfastq" %}
{% set bioc = "3.20" %}

about:
  description: GEOfastq is used to download fastq files from the European Nucleotide Archive (ENA) starting with an accession from the Gene Expression Omnibus (GEO). To do this, sample metadata is retrieved from GEO and the Sequence Read Archive (SRA). SRA run accessions are then used to construct FTP and aspera download links for fastq files generated by the ENA.
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: MIT + file LICENSE
  license_file: LICENSE
  summary: Downloads ENA Fastqs With GEO Accessions

build:
  noarch: generic
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-geofastq", max_pin="x.x") }}'

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

# Suggests: BiocCheck, roxygen2, knitr, rmarkdown, testthat
requirements:
  host:
    - r-base
    - r-doparallel
    - r-foreach
    - r-plyr
    - r-rcurl
    - r-rvest
    - r-stringr
    - r-xml2
  run:
    - r-base
    - r-doparallel
    - r-foreach
    - r-plyr
    - r-rcurl
    - r-rvest
    - r-stringr
    - r-xml2

source:
  md5: a47fe421885d917b2bf5ad557778d5fb
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz

test:
  commands:
    - $R -e "library('{{ name }}')"

