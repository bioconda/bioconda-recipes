{% set version = "1.4.0" %}
{% set name = "PepSetTest" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 68aa386c2100e68dfe4a1af6bafac7b5

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-pepsettest", max_pin="x.x") }}'
  noarch: generic

# Suggests: statmod, BiocStyle, knitr, rmarkdown, tidyr
requirements:
  host:
    - bioconductor-limma >=3.66.0,<3.67.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-dplyr
    - r-lme4
    - r-mass
    - r-matrixstats
    - r-reshape2
    - r-tibble
  run:
    - bioconductor-limma >=3.66.0,<3.67.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-dplyr
    - r-lme4
    - r-mass
    - r-matrixstats
    - r-reshape2
    - r-tibble

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL (>= 3)
  summary: Peptide Set Test
  description: Peptide Set Test (PepSetTest) is a peptide-centric strategy to infer differentially expressed proteins in LC-MS/MS proteomics data. This test detects coordinated changes in the expression of peptides originating from the same protein and compares these changes against the rest of the peptidome. Compared to traditional aggregation-based approaches, the peptide set test demonstrates improved statistical power, yet controlling the Type I error rate correctly in most cases. This test can be valuable for discovering novel biomarkers and prioritizing drug targets, especially when the direct application of statistical analysis to protein data fails to provide substantial insights.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

