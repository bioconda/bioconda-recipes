{% set version = "1.26.0" %}
{% set name = "DEXSeq" %}
{% set bioc = "3.7" %}

package:
  name: 'bioconductor-{{ name|lower }}'
  version: '{{ version }}'

source:
  url:
    - 'http://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz'
    - 'https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz'
    - 'https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz'
  sha256: e1e9026c07fc26e1eaee06a0dd63d2f765bcd711f350fdb2a2236ad65b1d0bd7

build:
  noarch: python
  number: 2
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  host:
    - 'bioconductor-annotationdbi >=1.42.1,<1.44.0'
    - 'bioconductor-biobase >=2.40.0,<2.42.0'
    - 'bioconductor-biocgenerics >=0.26.0,<0.28.0'
    - 'bioconductor-biocparallel >=1.14.2,<1.16.0'
    - 'bioconductor-biomart >=2.36.1,<2.38.0'
    - 'bioconductor-deseq2 >=1.20.0,<1.22.0'
    - 'bioconductor-genefilter >=1.62.0,<1.64.0'
    - 'bioconductor-geneplotter >=1.58.0,<1.60.0'
    - 'bioconductor-genomicranges >=1.32.7,<1.34.0'
    - 'bioconductor-iranges >=2.14.12,<2.16.0'
    - 'bioconductor-rsamtools >=1.32.3,<1.34.0'
    - 'bioconductor-s4vectors >=0.18.3,<0.20.0'
    - 'bioconductor-summarizedexperiment >=1.10.1,<1.12.0'
    - r-base
    - r-hwriter
    - r-rcolorbrewer
    - r-statmod
    - r-stringr
  run:
    - 'bioconductor-annotationdbi >=1.42.1,<1.44.0'
    - 'bioconductor-biobase >=2.40.0,<2.42.0'
    - 'bioconductor-biocgenerics >=0.26.0,<0.28.0'
    - 'bioconductor-biocparallel >=1.14.2,<1.16.0'
    - 'bioconductor-biomart >=2.36.1,<2.38.0'
    - 'bioconductor-deseq2 >=1.20.0,<1.22.0'
    - 'bioconductor-genefilter >=1.62.0,<1.64.0'
    - 'bioconductor-geneplotter >=1.58.0,<1.60.0'
    - 'bioconductor-genomicranges >=1.32.7,<1.34.0'
    - 'bioconductor-iranges >=2.14.12,<2.16.0'
    - 'bioconductor-rsamtools >=1.32.3,<1.34.0'
    - 'bioconductor-s4vectors >=0.18.3,<0.20.0'
    - 'bioconductor-summarizedexperiment >=1.10.1,<1.12.0'
    - r-base
    - r-hwriter
    - r-rcolorbrewer
    - r-statmod
    - r-stringr
    - python <3
    - 'htseq >=0.6.1,<0.10.0'  # dexseq_count.py performes an overly simplistic version check

test:
  commands:
    - '$R -e "library(''{{ name }}'')"'
    - dexseq_count.py --help
    - dexseq_prepare_annotation.py --help

about:
  home: 'http://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html'
  license: 'GPL (>= 3)'
  summary: 'The package is focused on finding differential exon usage using RNA-seq exon counts between samples with different experimental designs. It provides functions that allows the user to make the necessary statistical tests based on a model that uses the negative binomial distribution to estimate the variance between biological replicates and generalized linear models for testing. The package also provides functions for the visualization and exploration of the results.'

extra:
  identifiers:
    - biotools:dexseq
