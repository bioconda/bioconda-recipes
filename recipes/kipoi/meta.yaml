{% set name = "kipoi" %}
{% set version = "0.6.12" %}
{% set file_ext = "tar.gz" %}
{% set hash_type = "sha256" %}
{% set hash_value = "83bda83426746ba13f63b5bced5e06ea5b959e18755a8d49c5786239b9ed3ce7" %}

package:
  name: '{{ name|lower }}'
  version: '{{ version }}'

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.{{ file_ext }}
  '{{ hash_type }}': '{{ hash_value }}'

build:
  number: 0
  noarch: python
  entry_points:
    - kipoi = kipoi.__main__:main
  script: "pip install 'related>=0.6.0' && python setup.py install --single-version-externally-managed --record=record.txt"

requirements:
  build:
    - python
    - pip
    - git-lfs
    - pyyaml
    - future
    - numpy
    - pandas >= 0.21.0
    - tqdm
    - attrs >= 17.4.0
    - related>=0.6.0
    - enum34
    - colorlog
    - jinja2
    - cookiecutter >= 1.6.0
    # - h5py
    # - urllib3 >= 1.21.1
    # - tinydb
    # - kipoi-utils >= 0.1.12",
    # - kipoi-conda >= 0.1.6
    # - deprecation >= 2.0.6
  run:
    - python
    - git-lfs
    - pyyaml
    - future
    - numpy
    - pandas >= 0.21.0
    - tqdm
    - attrs >= 17.4.0
    - related>=0.6.0
    - enum34
    - colorlog
    - jinja2
    - cookiecutter >= 1.6.0
    - h5py
    - urllib3 >= 1.21.1
    - tinydb
    - kipoi-utils >= 0.1.12",
    - kipoi-conda >= 0.1.6
    - deprecation >= 2.0.6


test:
  imports:
    - kipoi
    - kipoi.cli
    - kipoi.external
    - kipoi.external.related
    - kipoi.external.torch
  commands:
    - "kipoi --help"
  requires:
    # - python
    # - bumpversion
    # - wheel
    # - jedi
    # - epc
    # - pytest >= 3.3.1
    # - pytest-xdist
    # - pytest-pep8
    # - pytest-cov
    # - coveralls
    # - scikit-learn
    # - cython
    # - keras
    # - tensorflow
    # - zarr>=2.2.0
    # - kipoi-interpret >= 0.1.2
    # - concise >= 0.6.6

about:
  home: https://github.com/kipoi/kipoi
  license: MIT
  license_family: MIT
  summary: 'Kipoi: model zoo for genomics'
  description: 'Kipoi: model zoo for genomics. http://kipoi.org/'

extra:
  recipe-maintainers:
    - visze
    - Avsecz
