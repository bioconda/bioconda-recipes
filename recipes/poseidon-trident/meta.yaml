{% set version = "0.17.4" %}
package:
    name: poseidon-trident
    version: {{ version }}

source:
    - url: https://github.com/poseidon-framework/poseidon-hs/releases/download/v{{ version }}/trident-Linux # [linux]
      md5: f49a7ded9e9bc99a14ecaa468d077e73 # [linux]
    - url: https://github.com/poseidon-framework/poseidon-hs/releases/download/v{{ version }}/trident-macOS # [osx]
      md5: f3866e2c5e2fe8d0d3669a4428719f7e # [osx]

build:
    number: 0
    script:
        - "mkdir -p $PREFIX/bin"
        - "mv trident* $PREFIX/bin/trident"
        - "chmod u+x $PREFIX/bin/trident"

requirements:
    run:
        - glibc-amzn2-aarch64

test:
    commands:
         - trident --version

about:
    home: https://poseidon-framework.github.io/#/
    license: MIT
    summary: "A tool (trident) to work with modular genotype databases formatted using Poseidon."

extra:
    skip-lints:
        - should_be_noarch_generic