{% set version = "0.10.0" %}
package:
    name: poseidon-trident
    version: {{ version }}

source:
    - url: https://github.com/poseidon-framework/poseidon-hs/releases/download/v{{ version }}/trident-{{ version }}-Linux-ghc-8.10.3 # [linux]
      md5: 5b00486045b8ebb5a413b75e02762592 # [linux]
    - url: https://github.com/poseidon-framework/poseidon-hs/releases/download/v{{ version }}/trident-macOS # [osx]
      md5: 04abcf2f858b54c4366d59bc647df53b # [osx]

build:
    number: 0
    script:
        - "mkdir -p $PREFIX/bin"
        - "mv trident* $PREFIX/bin/trident"
        - "chmod u+x $PREFIX/bin/trident"

requirements:
    run:
        - glibc-amzn2-aarch64

test:
    commands:
         - trident --version

about:
    home: https://poseidon-framework.github.io/#/
    license: MIT
    summary: "A tool (trident) to work with modular genotype databases formatted using Poseidon."

extra:
    skip-lints:
        - should_be_noarch_generic