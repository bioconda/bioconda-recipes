{% set name = "rDock" %}
{% set version = "24.04.204_legacy" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

build:
  number: 0
  run_exports:
    - {{ pin_compatible(name|lower) }}

source:
  url: https://github.com/CBDD/{{ name|lower }}/archive/refs/tags/v{{ version.replace('_', '-') }}.tar.gz
  sha256: cf5bf35d60254ae74c45f0c5ed3050513bbc8ae8df9c665157eb26f6b5a33d16

requirements:
  build:
    - {{ compiler('cxx') }}
    - make
  host:
    - cppunit
    - perl
    - python
    - popt
  run:
    - numpy
    - openbabel

test:
  commands:
    - rbcavity --help
    - rbdock --help
    - sdrmsd --help
    - sdsort -h

about:
  home: https://rdock.github.io/
  summary: A Fast, Versatile and Open Source Program for Docking Ligands to Proteins and Nucleic Acids
  description: |
    rDock is a fast and versatile Open Source docking program that can be used to dock small molecules against proteins and nucleic acids.
    It is designed for High Throughput Virtual Screening (HTVS) campaigns and Binding Mode prediction studies.
  license: LGPL-3
  license_family: LGPL
  license_file: license.txt
  dev_url: https://github.com/CBDD/rDock
  doc_url: https://rdock.github.io/documentation/

extra:
  identifiers:
    - doi:10.1371/journal.pcbi.1003571
    - usegalaxy-eu:rdock_rbdock
