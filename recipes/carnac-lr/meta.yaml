{% set name = "CARNAC-LR" %}
{% set version = "0.1.2019.02.01" %}
{% set commit = "93dd640f6257752cccc7b0f5b89e3b6132cbe9a6" %}
{% set sha256 = "6a09f8f7178e90e4a1229da58c4759f4e139f532131ea85a6feaf026be98dcd5" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  # tagged release requested upstream, https://github.com/kamimrcht/CARNAC-LR/issues/8
  url: https://github.com/kamimrcht/CARNAC-LR/archive/{{ commit }}.zip
  sha256: {{ sha256 }}
  patches:
    - makefile.patch
    - python_path.patch

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  run:
    - python >=3

test:
  files:
    - test.input
  commands:
    - CARNAC-LR
    - CARNAC_to_fasta 
    - CARNAC_to_fasta.py
    - paf_to_CARNAC.py

about:
  home: https://github.com/kamimrcht/CARNAC-LR
  license: GNU Affero General Public License
  license_family: AGPL
  summary: Clustering coefficient-based Acquisition of RNA Communities in Long Read
