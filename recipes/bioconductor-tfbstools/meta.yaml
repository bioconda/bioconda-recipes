{% set version = "1.48.0" %}
{% set name = "TFBSTools" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 72bfbf0b475f92b0d3a22a62062979e1

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-tfbstools", max_pin="x.x") }}'

# Suggests: BiocStyle(>= 1.7.7), JASPAR2014(>= 1.4.0), knitr(>= 1.11), testthat, JASPAR2016(>= 1.0.0), JASPAR2018(>= 1.0.0), rmarkdown
requirements:

  build:
    - {{ compiler('c') }}
    - make

  host:
    - bioconductor-biobase >=2.70.0,<2.71.0
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bsgenome >=1.78.0,<1.79.0
    - bioconductor-dirichletmultinomial >=1.52.0,<1.53.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-pwalign >=1.6.0,<1.7.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-seqinfo >=1.0.0,<1.1.0
    - bioconductor-seqlogo >=1.76.0,<1.77.0
    - bioconductor-xvector >=0.50.0,<0.51.0
    - r-base
    - r-catools >=1.17.1
    - r-dbi >=0.6
    - r-gtools >=3.5.0
    - r-rsqlite >=1.0.0
    - r-tfmpvalue >=0.0.5
    - r-xml >=3.98-1.3
    - libblas
    - liblapack
    - zlib
    - liblzma-devel

  run:
    - bioconductor-biobase >=2.70.0,<2.71.0
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bsgenome >=1.78.0,<1.79.0
    - bioconductor-dirichletmultinomial >=1.52.0,<1.53.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-pwalign >=1.6.0,<1.7.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-seqinfo >=1.0.0,<1.1.0
    - bioconductor-seqlogo >=1.76.0,<1.77.0
    - bioconductor-xvector >=0.50.0,<0.51.0
    - r-base
    - r-catools >=1.17.1
    - r-dbi >=0.6
    - r-gtools >=3.5.0
    - r-rsqlite >=1.0.0
    - r-tfmpvalue >=0.0.5
    - r-xml >=3.98-1.3

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-2.0-only
  summary: Software Package for Transcription Factor Binding Site (TFBS) Analysis
  description: TFBSTools is a package for the analysis and manipulation of transcription factor binding sites. It includes matrices conversion between Position Frequency Matirx (PFM), Position Weight Matirx (PWM) and Information Content Matrix (ICM). It can also scan putative TFBS from sequence/alignment, query JASPAR database and provides a wrapper of de novo motif discovery software.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  additional-platforms:
    - linux-aarch64
    - osx-arm64
  identifiers:
    - biotools:tfbstools
  parent_recipe:
    name: bioconductor-tfbstools
    path: recipes/bioconductor-tfbstools
    version: 1.18.0

