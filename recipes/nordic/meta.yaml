{% set name = "nordic" %}
{% set ucname = "NORDic" %}
{% set version = "2.7.1" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  - url: "https://github.com/sysbio-curie/MaBoSS/archive/refs/tags/v2.6.2.tar.gz"
    sha256: 011b06ebd6b82c039a7bf9b9a93780ef6bc84c07ec68e8a399c90f8ca6500580
    folder: "MaBoSS-2.0"
  - url: "https://files.pythonhosted.org/packages/aa/d3/21009d1d34e8cb7022b9f357a96b066220898f331476f2eadb5e68926ad8/mpbn-4.2.tar.gz"
    sha256: fdba6e9dd8021f3c67c9668ce244a9f13ec6ea9dcd43e7dacc89e85a628eb76e
    folder: "mpbn-4.2"
  - url: "https://files.pythonhosted.org/packages/74/8c/60bbfe6b2083c47e8cf4c61296347234d707c443a1f001a81a6671420527/bonesis-0.6.8.1.tar.gz"
    sha256: b349beb0611da24b3a8dc95f342824af0bef13cedf68e9d90ce1fdda828405e4
    folder: "bonesis-0.6.8.1"
  - url: "https://files.pythonhosted.org/packages/e7/5f/0eb00a0b30753fff944100ff2473b40412140f60b391c70cf2f94fb4061d/{{ name }}-{{ version }}.tar.gz"
    sha256: d1bad801683e6115e1195d581ac259d354174b6f811a232c22ba420e0a15c85c
    folder: "{{ ucname }}-{{ version }}"
    
build:
  number: 0
  skip: True  # [py < 38]
  run_exports:
    - {{ pin_subpackage(name, max_pin="x") }}

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - flex
    - bison
    - make
  host:
    - python
    - pip
    - clingo >=5.6.1
    - cmappy >=4.0.1
    - graphviz >=0.20.1
    - matplotlib-base
    - omnipath
    - openpyxl >=3.0.10
    - qnorm >=0.5.1
    - quadprog >=0.1.11
    - scikit-learn >=1.1.2
    - scipy >=1.6.2
    - seaborn >=0.12.1
    - tqdm >=4.62.3
    - numpy >=1.22.4,!=2.0.*,!=2.1.*
  run:
    - python
    - clingo >=5.6.1
    - cmappy >=4.0.1
    - graphviz >=0.20.1
    - matplotlib-base
    - omnipath
    - openpyxl >=3.0.10
    - qnorm >=0.5.1
    - quadprog >=0.1.11
    - scikit-learn >=1.1.2
    - scipy >=1.6.2
    - seaborn >=0.12.1
    - tqdm >=4.62.3
    - numpy >=1.22.4,!=2.0.*,!=2.1.*

test:
  imports:
    - NORDic
    - NORDic.NORDic_DR
    - NORDic.NORDic_DS
    - NORDic.NORDic_NI
    - NORDic.NORDic_PMR
    - NORDic.UTILS

about:
  home: "https://github.com/clreda/NORDic"
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: "NORDic: a Network-Oriented package for the Repurposing of Drugs"
  doc_url: "https://github.com/clreda/NORDic/blob/main/README.md"
  dev_url: "https://github.com/clreda/NORDic"

extra:
  additional-platforms:
    - linux-aarch64
    - osx-arm64
  recipe-maintainers:
    - clreda
  identifiers:
    - doi:10.5281/zenodo.7239047
