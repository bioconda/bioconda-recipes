{% set version = "1.4.0" %}
{% set name = "MetMashR" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 41192b4f6b97e721aae03697ce536aad

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-metmashr", max_pin="x.x") }}'
  noarch: generic

# Suggests: covr, httptest, knitr, rmarkdown, testthat (>= 3.0.0), rgoslin, DT, RSQLite, CompoundDb, BiocStyle, BiocFileCache, msPurity, rsvg, metabolomicsWorkbenchR, KEGGREST, plyr, magick, structToolbox, ggVennDiagram, patchwork, XML, GO.db, tidytext, tidyr, tidyselect, ComplexUpset, jsonlite, openxlsx, ggplotify
requirements:
  host:
    - bioconductor-struct >=1.22.0,<1.23.0
    - r-base
    - r-cowplot
    - r-dplyr
    - r-ggplot2
    - r-ggthemes
    - r-httr
    - r-rlang
    - r-scales
  run:
    - bioconductor-struct >=1.22.0,<1.23.0
    - r-base
    - r-cowplot
    - r-dplyr
    - r-ggplot2
    - r-ggthemes
    - r-httr
    - r-rlang
    - r-scales

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3.0-only
  summary: Metabolite Mashing with R
  description: A package to merge, filter sort, organise and otherwise mash together metabolite annotation tables. Metabolite annotations can be imported from multiple sources (software) and combined using workflow steps based on S4 class templates derived from the `struct` package. Other modular workflow steps such as filtering, merging, splitting, normalisation and rest-api queries are included.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

