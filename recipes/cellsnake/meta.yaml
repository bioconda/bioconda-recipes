{% set name = "cellsnake" %}
{% set version = "0.2.0.12" %}


package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/cellsnake-{{ version }}.tar.gz
  sha256: d8b812c5063a34cf07da900881517b1946c66f2ad2a89092168edaff5693cb7d

build:
  noarch: python
  number: 0
  entry_points:
    - cellsnake=cellsnake.command_line:main
  script: python -m pip install . -vv
  run_exports:
    - {{ pin_compatible(name, max_pin="x.x") }}

requirements:
  host:
    - pip
    - python

  run:
    - celltypist ==1.3.0
    - docopt
    - levenshtein
    - matplotlib-base <3.7
    - pandas <=1.5.3
    - pysam >=0.16.0.1
    - python
    - regex >=2021.4.4
    - scipy
    - snakemake-minimal ==7.22.0
    - umap-learn
    - r-base ==4.3
    - r-ggraph ==2.1.0
    - r-seurat ==4.3.0
    - r-clustree ==0.5.0
    - r-viridis
    - r-librarian
    - r-patchwork
    - r-optparse
    - r-openxlsx
    - r-nmf
    - r-fields
    - r-minqa
    - r-ggpubr
    - r-reticulate
    - r-expm
    - r-ggalluvial
    - r-curl
    - r-tidyseurat
    - r-tidyverse
    - r-v8
    - r-terra
    - r-r.utils
    - r-spdep
    - r-hdf5r
    - r-monocle3
    - r-randomcolor
    - bioconductor-rhdf5lib
    - bioconductor-clusterprofiler
    - bioconductor-scater
    - bioconductor-limma
    - bioconductor-complexheatmap
    - bioconductor-topgo
    - bioconductor-miqc
    - bioconductor-rhdf5lib
    - bioconductor-singler
    - bioconductor-celldex
    - bioconductor-enhancedvolcano
    - bioconductor-genomeinfodb ==1.38.1
    - bioconductor-genomeinfodbdata ==1.2.11
    - geos
    - cmake
    - hdf5
    - numba >=0.56.4
    - r-xml
    - bedtools
    - samtools
    - kraken2
    - openblas ==0.3.21
    - pip
    - scanpy ==1.9.1
    - r-matrixstats ==1.0.0
    - r-matrix ==1.6_1.1
    - r-ggthemes
    - r-gplots
    - r-igraph
    - fastp


test:
  imports:
    - cellsnake
  commands:
    - cellsnake --help

about:
  home: https://github.com/sinanugur/cellsnake
  summary: cellsnake, a user-friendly tool for single cell RNA sequencing analysis
  license: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - sinanugur
  container:
    extended-base: True
