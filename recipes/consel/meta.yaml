{% set name = "consel" %}
{% set version = "0.20" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/shimo-lab/{{ name }}/archive/1a532a4fe9e7d4e9101f2bbe64613f3b0cfc6274.tar.gz
  sha256: 023206ba06c0dbb641a17d2eb3bb9496ddb45efe267c10f6657c508fc0f49c2e

build:
  number: 3
  run_exports:
    - {{ pin_subpackage(name, max_pin="x.x") }}

requirements:
  build:
    - make
    - {{ compiler('c') }}

test:
  commands:
    - catass -h 2>&1 | grep 'error in command line.'
    - catci -h 2>&1 | grep 'error in command line.'
    - catmt -h 2>&1 | grep 'error in command line.'
    - catpv -h 2>&1 | grep 'must specify input-file.'
    - catrep -h 2>&1 | grep 'error in command line.'
    - consel -h 2>&1 | grep 'error in command line.'
    - makerep -h 2>&1 | grep 'error in command line.'
    - makermt -h 2>&1 | grep 'error in command line.'
    - randrep -h 2>&1 | grep 'error in command line.'
    - seqmt -h 2>&1 | grep 'error in command line.'
    - treeass -h 2>&1 | grep 'error in command line.'

about:
  home: "https://github.com/shimo-lab/consel"
  license: "GPL-2.0-or-later"
  license_family: GPL
  summary: "CONSEL calculates the probability value (i.e., p-value) to assess the confidence in the selection problem."
  doc_url: "https://stat.sys.i.kyoto-u.ac.jp/prog/consel"
  dev_url: "https://github.com/shimo-lab/consel"

extra:
  additional-platforms:
    - linux-aarch64
    - osx-arm64
