{% set version = '0.3' %}
{% set hash = '0b2716c65b99dba3f83f3b9c77be79dcafe0dee7376ed5a31c1cdbc72bbc9f8c' %}

package:
  name: kinsimriboswitch
  version: {{ version }}

source:
    url: http://www.bioinf.uni-leipzig.de/~felix/downloads/software/kinSimRiboswitch-{{version}}.tar.gz
    sha256: {{ hash }}

build:
  number: 0
  skip: true # [win]

requirements:
  build:
    - {{ compiler('c') }}
    - make
    - check
  host:
    - perl
    - perl-sys-info
    - perl-parallel-loops
    - perl-file-slurp
    - perl-math-random-mt-auto
    - perl-math-round
    - perl-devel-assert
    - perl-inline
    - perl-inline-c
    - perl-ipc-system-simple
    - perl-list-moreutils
    - perl-clone
    - perl-parse-recdescent
    - perl-heap
    - r
    - r-argparser
    - r-rcolorbrewer
    - viennarna
    - treekin
    - coreutils # need an up-to-date GNU sort
    - gmp       # fixes strange segfault of coreutils' expr (missing libgmp)
    - tar
    - perl-extutils-makemaker
  run:
    - perl
    - perl-sys-info
    - perl-parallel-loops
    - perl-file-slurp
    - perl-math-random-mt-auto
    - perl-math-round
    - perl-devel-assert
    - perl-inline
    - perl-inline-c
    - perl-ipc-system-simple
    - perl-list-moreutils
    - perl-clone
    - perl-parse-recdescent
    - perl-heap
    - r
    - r-argparser
    - r-rcolorbrewer
    - viennarna
    - treekin
    - coreutils
#   - gmp       # Fix strange crash of conda build

test:
  commands:
    - kinSimRiboswitch -h 1>/dev/null
# imports:
#   - RNAhelper         # perl module, TODO


about:
  home:         http://www.bioinf.uni-leipzig.de/~felix/
  license:      GPLv3
  license_file: COPYING
  summary:      Pipeline for the simulation RNA--ligand interaction kinetics.

