{% set version = "2.0.2" %}

package:
   name: repeathmm
   version: {{ version }}

build:
  number: 0
  noarch: generic

source:
   url: https://github.com/WGLab/RepeatHMM/archive/v{{ version }}.tar.gz
   sha256: 55cf7cf24f12f97887b424bd3c8f35952477f5a8fb92492e6cba3ba130f77b10

requirement:
   build:
    - htslib ==1.9
    - biopython ==1.66
    - bwa ==0.7.17
    - hmmlearn ==0.2.1
    - krb5 ==1.16
    - libcurl ==7.61
    - libssh2 ==1.8
    - make ==4.2.1
    - openssl ==1.0
    - peakutils ==1.1.0
    - python ==2.7.18
    - samtools ==1.7
    - scikit-learn ==0.19.2
    - swig ==3.0.12
    - trf ==4.09
   run:
    - python

test:
  commands:
    - samtools view 2>&1 | grep 'Usage\|Error'
    - repeatHMM.py  2>&1 | grep 'Usage\|Error'
  imports:
    - RepeatHMM_scripts.myHMM
    - RepeatHMM_scripts.getAlignment

about:
   home: https://github.com/WGLab/RepeatHMM
   license: GPL3
   license_file: LICENSE
   summary: 'A computational method to estimate repeat counts from long reads.'
