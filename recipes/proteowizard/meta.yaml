{% set version = "3_0_25292_c9a6a18" %}

package:
  name: proteowizard
  version: {{ version }}

source:
  url: https://mc-tca-01.s3.us-west-2.amazonaws.com/ProteoWizard/bt81/3705508/pwiz-src-without-v-{{ version }}.tar.bz2
  sha256: 107b31123f76d0c82f1905de1217ad51ec3754cfca9d33579c4f83f84b4cafe7

build:
  number: 0
  script: "mkdir $PREFIX/bin && ln -s $CXX $BUILD_PREFIX/bin/g++ && ./quickbuild.sh -j{{ CPU_COUNT }} --cxx=$CXX address-model=64 runtime-link=shared executables && ls build-linux-x86_64/gcc-release-x86_64/ && cp build-linux-x86_64/gcc-release-x86_64/* /$PREFIX/bin"
  skip: True  # [osx]
  run_exports:
    - {{ pin_subpackage('proteowizard', max_pin=None) }}

requirements:
  build:
    - {{ compiler('cxx') }}


about:
  home: https://proteowizard.sourceforge.net
  license: "Apache 2.0"
  license_family: APACHE
  summary: "Tools for dealing with mass spectrometry files (e.g., mzML, mzXML, mzIdentML, MGF)."

test:
  commands:
    - LC_ALL=C LANG=C msconvert --help

extra:
  identifiers:
    - biotools:proteowizard
    - doi:10.1038/nbt.2377