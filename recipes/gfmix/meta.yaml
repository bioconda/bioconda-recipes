{% set version = "1.0" %}
{% set sha256 = "087eab306ea48b4b5210438ad54622872cca758c1c09a1f0743c4fe3985fb8c4" %}

package:
  name: gfmix
  version: {{ version }}

source:
  url: https://github.com/TheBrownLab/gfmix/archive/refs/tags/v{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0

requirements:
  build:
    - cmake
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - {{ compiler('gfortran') }}
  run:
    - r-quadprog=1.5_5
    - r-base=3.2.2
    - libiconv=1.16
    - readline=6.2

test:
  commands:
    - gfmix &> /tmp/gfmix.tmp
    - grep "Execution" /tmp/gfmix.tmp

about:
    home: https://www.mathstat.dal.ca/~tsusko/doc/gfmix.pdf
    summary: Accelerated Estimation of Frequency Classes in Site-heterogeneous Profile Mixture Models
