{% set version = "1.0.0" %}

package:
  name: yasma
  version: {{ version }}

source:
  url: https://github.com/NateyJay/YASMA/archive/refs/tags/v1.0.0.tar.gz
  sha256: b741caa09d9876fe17452664ceddfcc253d5f2834c28eb37915cc985ec4ab147

build:
  noarch: python
  number: 0
  run_exports:
     - {{ pin_subpackage("yasma", max_pin="x.x") }}

requirements:
  build:
    - python
    - pip
  run:
    - click
    - numpy
    - pyBigWig
    - pysam
    - pprintpp
    - python
    - cutadapt
    - levenshtein
    - bowtie
    - sra-tools
    - viennarna

test:
  imports:
    - click
    - pprintpp
    - RNA
    - Levenshtein
    - numpy
    - pyBigWig
    - pysam
    - click_option_group
  commands:
    - bowtie --version
    - prefetch --version
    - fasterq-dump --version
    - RNAfold --version

about:
  home: https://github.com/NateyJay/YASMA
  license: GPL3
  license_file: LICENSE
  summary: 'Small RNA annotation suite'
  description: |
    This is a fully integrated pipeline for analysis of small RNAs based on short-read sequence data, focused on its annotation tool (YASMA-tradeoff). This tool produces accurate sRNA annotations in diverse species and library qualities, built specifically for dealing with samples with higher noise.
  dev_url: https://github.com/NateyJay/YASMA
  doc_source_url: https://github.com/NateyJay/YASMA/blob/library-scaling/README.md
  identifiers:
    - doi:10.1016/j.csbj.2025.05.045