{% set name = "Coot" %}
{% set version = "1.1.10" %}
{% set author = "pemsley" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://www2.mrc-lmb.cam.ac.uk/personal/{{ author }}/{{ name|lower }}/source/releases/{{ name|lower }}-{{ version }}.tar.gz
  sha256: 447caa7bdd6f87b738d20f8db15aa278476c308e22506004ed145e04f85e0413

build:
  number: 0
  run_exports:
    - {{ pin_subpackage(name|lower, max_pin="x") }}

requirements:
  build:
    - autoconf
    - automake
    - libtool
    - swig
    - pkg-config
    - python
    - numpy
    - boost
    - boost-python
    - rdkit
    - gemmi
    - clipper4coot
    - mmdb2
    - raster3d
    - libccp4
    - ssm
    - openblas
    - freetype
    - cairo
    - gdk-pixbuf
    - gettext
    - glib
    - gmp
    - graphene
    - gsl
    - gtk4
    - harfbuzz
    - libepoxy
    - pango
    - sqlite

  host:
    - python
    - numpy

  run:
    - python
    - numpy
    - boost
    - boost-python
    - rdkit
    - gemmi
    - clipper4coot
    - mmdb2
    - raster3d
    - libccp4
    - ssm
    - openblas
    - freetype
    - cairo
    - gdk-pixbuf
    - gettext
    - glib
    - gmp
    - graphene
    - gsl
    - gtk4
    - harfbuzz
    - libepoxy
    - pango
    - sqlite

test:
  commands:
    - coot --help

about:
  home: https://www2.mrc-lmb.cam.ac.uk/personal/{{ author }}/{{ name|lower }}
  doc_url: https://www2.mrc-lmb.cam.ac.uk/personal/{{ author }}/{{ name|lower }}/documentation
  dev_url: https://github.com/{{ author }}/{{ name|lower }}
  summary: "Coot (Crystallographic Object-Oriented Toolkit) for macromolecular model building, refinement, and validation"
  description: |
    Coot is used for macromolecular model building, model completion, and validation.
    It can handle crystallographic data and provides a graphical interface for visualization
    and manual adjustments of 3D molecular structures.
  license: "GPL-3.0-only OR LGPL-3.0-only"
  license_family: GPL3
  license_file:
    - COPYING
    - COPYING.LESSERv3

extra:
  additional-platforms:
    - linux-aarch64
    - osx-arm64
  identifiers:
    - doi: "10.1107/S0907444905018949"
    - PMID: "20383002"
  recipe-maintainers:
    - eunos-1128

