{% set version = "1.18.0" %}
{% set name = "mia" %}
{% set bioc = "3.22" %}

about:
  description: mia implements tools for microbiome analysis based on the SummarizedExperiment, SingleCellExperiment and TreeSummarizedExperiment infrastructure. Data wrangling and analysis in the context of taxonomic data is the main scope. Additional functions for common task are implemented such as community indices calculation and summarization.
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: Artistic-2.0 | file LICENSE
  license_file: LICENSE
  summary: Microbiome analysis

build:
  noarch: generic
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-mia", max_pin="x.x") }}'

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

# Suggests: ade4, BiocStyle, biomformat, dada2, knitr, miaViz, microbiomeDataSets, NMF, patchwork, phyloseq, reldist, rhdf5, rmarkdown, stringr, testthat, topicdoc, topicmodels, yaml
requirements:

  host:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bluster >=1.20.0,<1.21.0
    - bioconductor-decipher >=3.2.0,<3.3.0
    - bioconductor-decontam >=1.28.0,<1.29.0
    - bioconductor-delayedarray >=0.36.0,<0.37.0
    - bioconductor-delayedmatrixstats >=1.32.0,<1.33.0
    - bioconductor-dirichletmultinomial >=1.52.0,<1.53.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-matrixgenerics >=1.22.0,<1.23.0
    - bioconductor-multiassayexperiment >=1.36.0,<1.37.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-scater >=1.38.0,<1.39.0
    - bioconductor-scuttle >=1.20.0,<1.21.0
    - bioconductor-singlecellexperiment >=1.32.0,<1.33.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - bioconductor-treesummarizedexperiment >=2.18.0,<2.19.0
    - r-ape
    - r-base >=4.5.0
    - r-dplyr
    - r-mass
    - r-mediation
    - r-rbiom
    - r-rlang
    - r-tibble
    - r-tidyr
    - r-vegan

  run:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bluster >=1.20.0,<1.21.0
    - bioconductor-decipher >=3.2.0,<3.3.0
    - bioconductor-decontam >=1.28.0,<1.29.0
    - bioconductor-delayedarray >=0.36.0,<0.37.0
    - bioconductor-delayedmatrixstats >=1.32.0,<1.33.0
    - bioconductor-dirichletmultinomial >=1.52.0,<1.53.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-matrixgenerics >=1.22.0,<1.23.0
    - bioconductor-multiassayexperiment >=1.36.0,<1.37.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-scater >=1.38.0,<1.39.0
    - bioconductor-scuttle >=1.20.0,<1.21.0
    - bioconductor-singlecellexperiment >=1.32.0,<1.33.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - bioconductor-treesummarizedexperiment >=2.18.0,<2.19.0
    - r-ape
    - r-base >=4.5.0
    - r-dplyr
    - r-mass
    - r-mediation
    - r-rbiom
    - r-rlang
    - r-tibble
    - r-tidyr
    - r-vegan

source:
  md5: c8e5f6b2e8a4d6f2e5b8c2e5f5b8c2e8
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name }}/bioconductor-{{ name }}_{{ version }}_src_all.tar.gz

test:
  commands:
    - $R -e "library('{{ name }}')"

