{% set version = '1.0.5' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-dartr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/dartR_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/dartR/dartR_{{ version }}.tar.gz
  sha256: fc2b5643ef222ac20e62c5899f8f36b5ba92bf9146b7a5e25457d7ac789fb3f5

build:
  merge_build_host: True  # [win]

  number: 0
  skip: true  # [win32]

  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{posix}}zip               # [win]

  host:
    - r-base
    - r-dbi
    - r-demerelate
    - r-mass
    - bioconductor-snprelate
    - r-snpassoc
    - r-stampp
    - r-adegenet >=2.0.0
    - r-ape
    - r-data.table
    - r-directlabels
    - r-dismo
    - r-doparallel
    - r-foreach
    - r-ggplot2
    - r-misc3d
    - r-pca3d
    - r-pegas
    - r-plotly
    - r-plyr
    - r-quadprog
    - bioconductor-qvalue
    - r-reshape2
    - r-rgdal
    - r-rgl
    - r-seqinr
    - r-sp
    - r-stringr
    - r-tidyr
    - r-vegan

  run:
    - r-base
    - r-dbi
    - r-demerelate
    - r-mass
    - bioconductor-snprelate
    - r-snpassoc
    - r-stampp
    - r-adegenet >=2.0.0
    - r-ape
    - r-data.table
    - r-directlabels
    - r-dismo
    - r-doparallel
    - r-foreach
    - r-ggplot2
    - r-misc3d
    - r-pca3d
    - r-pegas
    - r-plotly
    - r-plyr
    - r-quadprog
    - bioconductor-qvalue
    - r-reshape2
    - r-rgdal
    - r-rgl
    - r-seqinr
    - r-sp
    - r-stringr
    - r-tidyr
    - r-vegan

test:
  commands:

    - $R -e "library('dartR')"           # [not win]
    - "\"%R%\" -e \"library('dartR')\""  # [win]

about:
  home: https://CRAN.R-project.org/package=dartR
  license: GPL-2
  summary: Functions are provided that facilitate the import and analysis of SNP (single nucleotide
    polymorphism) and silicodart (presence/absence) data. The main focus is on data
    generated by DarT (Diversity Arrays Technology). However, once SNP or related fragment
    presence/absence data from any source is imported into a genlight object many of
    the functions can be used. Functions are available for input and output of SNP and
    silicodart data, for reporting on and filtering on various criteria (e.g. CallRate,
    Heterozygosity, Reproducibility, maximum allele frequency). Advanced filtering is
    based on Linkage Disequilibrium and HWE (Hardy-Weinberg equilibrium). Other functions
    are available for visualization after PCoA (Principle Coordinate Analysis), or to
    facilitate transfer of data between genlight/genind objects and newhybrids, related,
    phylip, structure, faststructure packages.
  license_family: GPL2
extra:
  container:
    # needed for libGL.so.1
    extended-base: true
  recipe-maintainers:
    - MathiasHaudgaard
    - FrodePedersen
    - ArneKr
    - johanneskoester
    - bgruening
    - daler
    - jdblischak
