{% set version = '1.0' %}

package:
  name: r-dartr
  version: {{ version }}

source:
  url:
    - https://cran.r-project.org/src/contrib/dartR_{{ version }}.tar.gz
    - https://cran.r-project.org/src/contrib/Archive/dartR/dartR_{{ version }}.tar.gz
  sha256: 4c3bf15a9460204491cb4e16f73e3127cf7bbbdadc4fdb871293e8cd771ae7de

build:
  number: 1
  skip: True  # [osx]
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  host:
    - bioconductor-qvalue
    - bioconductor-snprelate
    - libgdal 2.2.4  # Force libgdal from conda-forge
    - r-base
    - r-dbi
    - r-demerelate
    - r-mass
    - r-snpassoc
    - r-stampp
    - r-adegenet >=2.0.0
    - r-ape
    - r-data.table
    - r-directlabels
    - r-dismo
    - r-doparallel
    - r-foreach
    - r-ggplot2
    - r-misc3d
    - r-pca3d
    - r-pegas
    - r-plotly
    - r-plyr
    - r-quadprog
    - r-reshape2
    - r-rgdal
    - r-rgl
    - r-seqinr
    - r-sp
    - r-stringr
    - r-tidyr
    - r-vegan

  run:
    - bioconductor-qvalue
    - bioconductor-snprelate
    - libgdal 2.2.4  # Force libgdal from conda-forge
    - r-base
    - r-dbi
    - r-demerelate
    - r-mass
    - r-snpassoc
    - r-stampp
    - r-adegenet >=2.0.0
    - r-ape
    - r-data.table
    - r-directlabels
    - r-dismo
    - r-doparallel
    - r-foreach
    - r-ggplot2
    - r-misc3d
    - r-pca3d
    - r-pegas
    - r-plotly
    - r-plyr
    - r-quadprog
    - r-reshape2
    - r-rgdal
    - r-rgl
    - r-seqinr
    - r-sp
    - r-stringr
    - r-tidyr
    - r-vegan

test:
  commands:
    - $R -e "library('dartR')"

about:
  home: https://CRAN.R-project.org/package=dartR
  license: GPL-2
  license_family: GPL2
  summary: Functions are provided that facilitate the import and analysis of snp and silicodart
    (presence/absence) data. The main focus is on data generated by DarT (Diversity
    Arrays Technology). However, once SNP or related fragment presence/absence data
    from any source is imported into a genlight object many of the functions can be
    used. Functions are available for input and output of SNP and silicodart data, for
    reporting on and filtering on various criteria (e.g. CallRate, Heterozygosity, Reproducibility,
    maximum allele frequency). Advanced filtering is based on Linkage Disequilibrium
    and HWE. Other functions are available for visualization after PCoA, or to facilitate
    transfer of data between genlight/genind objects and newhybrids, related, phylip
    packages etc.

extra:
  container:
    # needed for libGL.so.1
    extended-base: true
