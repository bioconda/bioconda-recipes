{% set version = "1.2.0" %}
{% set name = "TrIdent" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: dd0145715cf011ca98e1a30d8cabee78

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-trident", max_pin="x.x") }}'
  noarch: generic

# Suggests: BiocStyle, knitr, rmarkdown, kableExtra, testthat (>= 3.0.0)
requirements:
  host:
    - r-base
    - r-dplyr
    - r-ggplot2
    - r-patchwork
    - r-roll
    - r-stringr
    - r-tidyr
  run:
    - r-base
    - r-dplyr
    - r-ggplot2
    - r-patchwork
    - r-roll
    - r-stringr
    - r-tidyr

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-2
  summary: TrIdent - Transduction Identification
  description: The `TrIdent` R package automates the analysis of transductomics data by detecting, classifying, and characterizing read coverage patterns associated with potential transduction events. Transductomics is a DNA sequencing-based method for the detection and characterization of transduction events in pure cultures and complex communities. Transductomics relies on mapping sequencing reads from a viral-like particle (VLP)-fraction of a sample to contigs assembled from the metagenome (whole-community) of the same sample. Reads from bacterial DNA carried by VLPs will map back to the bacterial contigs of origin creating read coverage patterns indicative of ongoing transduction.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

