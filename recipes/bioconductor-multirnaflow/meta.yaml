{% set version = "1.8.0" %}
{% set name = "MultiRNAflow" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 29641e591ba3b47af846d203466dbeb1

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-multirnaflow", max_pin="x.x") }}'
  noarch: generic

# Suggests: BiocGenerics (>= 0.40.0), BiocStyle (>= 2.32.1), e1071 (>= 1.7.12), knitr (>= 1.47), rmarkdown (>= 2.27), testthat (>= 3.0.0)
requirements:

  build:
    - {{ cdt('mesa-libgl-devel') }}  # [linux]
    - {{ cdt('mesa-dri-drivers') }}  # [linux]
    - {{ cdt('libselinux') }}  # [linux]
    - {{ cdt('libxdamage') }}  # [linux]
    - {{ cdt('libxxf86vm') }}  # [linux]
    - xorg-libxfixes  # [linux]

  host:
    - bioconductor-biobase >=2.70.0,<2.71.0
    - bioconductor-complexheatmap >=2.26.0,<2.27.0
    - bioconductor-deseq2 >=1.50.0,<1.51.0
    - bioconductor-mfuzz >=2.70.0,<2.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-factoextra >=1.0.7
    - r-factominer >=2.11
    - r-ggalluvial >=0.12.5
    - r-ggplot2 >=3.5.1
    - r-ggplotify >=0.1.2
    - r-ggrepel >=0.9.5
    - r-gprofiler2 >=0.2.3
    - r-plot3d >=1.4.1
    - r-plot3drgl >=1.0.4
    - r-reshape2 >=1.4.4
    - r-rlang >=1.1.6
    - r-upsetr >=1.4.0

  run:
    - bioconductor-biobase >=2.70.0,<2.71.0
    - bioconductor-complexheatmap >=2.26.0,<2.27.0
    - bioconductor-deseq2 >=1.50.0,<1.51.0
    - bioconductor-mfuzz >=2.70.0,<2.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-factoextra >=1.0.7
    - r-factominer >=2.11
    - r-ggalluvial >=0.12.5
    - r-ggplot2 >=3.5.1
    - r-ggplotify >=0.1.2
    - r-ggrepel >=0.9.5
    - r-gprofiler2 >=0.2.3
    - r-plot3d >=1.4.1
    - r-plot3drgl >=1.0.4
    - r-reshape2 >=1.4.4
    - r-rlang >=1.1.6
    - r-upsetr >=1.4.0

test:
  commands:
    - LD_LIBRARY_PATH="${BUILD_PREFIX}/x86_64-conda-linux-gnu/sysroot/usr/lib64:${BUILD_PREFIX}/lib" $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3.0-only
  summary: An R package for integrated analysis of temporal RNA-seq data with multiple biological conditions
  description: Our R package MultiRNAflow provides an easy to use unified framework allowing to automatically make both unsupervised and supervised (DE) analysis for datasets with an arbitrary number of biological conditions and time points.  In particular, our code makes a deep downstream analysis of DE information, e.g. identifying temporal patterns across biological conditions and DE genes which are specific to a biological condition for each time.
  license_file: LICENSE

extra:
  container:
    extended-base: yes

