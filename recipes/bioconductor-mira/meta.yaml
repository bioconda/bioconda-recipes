{% set version = "1.28.0" %}
{% set name = "MIRA" %}
{% set bioc = "3.20" %}

about:
  description: DNA methylation contains information about the regulatory state of the cell. MIRA aggregates genome-scale DNA methylation data into a DNA methylation profile for a given region set with shared biological annotation. Using this profile, MIRA infers and scores the collective regulatory activity for the region set. MIRA facilitates regulatory analysis in situations where classical regulatory assays would be difficult and allows public sources of region sets to be leveraged for novel insight into the regulatory state of DNA methylation datasets.
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'
  summary: Methylation-Based Inference of Regulatory Activity

build:
  noarch: generic
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-mira", max_pin="x.x") }}'

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

# Suggests: knitr, parallel, testthat, BiocStyle, rmarkdown, AnnotationHub, LOLA
requirements:
  host:
    - bioconductor-biobase >=2.66.0,<2.67.0
    - bioconductor-biocgenerics >=0.52.0,<0.53.0
    - bioconductor-bsseq >=1.42.0,<1.43.0
    - bioconductor-genomicranges >=1.58.0,<1.59.0
    - bioconductor-iranges >=2.40.0,<2.41.0
    - bioconductor-s4vectors >=0.44.0,<0.45.0
    - r-base
    - r-data.table
    - r-ggplot2
  run:
    - bioconductor-biobase >=2.66.0,<2.67.0
    - bioconductor-biocgenerics >=0.52.0,<0.53.0
    - bioconductor-bsseq >=1.42.0,<1.43.0
    - bioconductor-genomicranges >=1.58.0,<1.59.0
    - bioconductor-iranges >=2.40.0,<2.41.0
    - bioconductor-s4vectors >=0.44.0,<0.45.0
    - r-base
    - r-data.table
    - r-ggplot2

source:
  md5: e5cc9c99f4b1b812446d3aa457e83f97
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz

test:
  commands:
    - $R -e "library('{{ name }}')"

