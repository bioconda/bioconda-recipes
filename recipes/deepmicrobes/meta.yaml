{% set name = "deepmicrobes" %}
{% set version = "1.0.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/MicrobeLab/DeepMicrobes/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 57b88e6658ab09ed1688bd18280750e675fb390c4e85b0011fc34dfb53a83ffc

build:
  script: mkdir -p $PREFIX/bin ; mv *.py $PREFIX/bin
  number: 0
  noarch: generic

requirements:
  build:
  host:
    - pip
    - python >=3.6
  run:
    - python >=3.6
    - tensorflow-gpu=1.9.0
    - tensorboard=1.9.0
    - tensorflow=1.9.0
    - tensorflow-base=1.9.0
    - absl-py=0.3.0
    - biopython=1.70
    - numpy=1.13.3
    - cudnn=7.1.2
    - h5py=2.7.1
    - hdf5=1.8.18
    - seqtk=1.3
test:
  commands:
    - DeepMicrobes.py  --helpfull

about:
  home: https://github.com/MicrobeLab/DeepMicrobes
  summary: DeepMicrobes: taxonomic classification for metagenomics with deep learning
  dev_url: https://github.com/MicrobeLab/DeepMicrobes
  license: Apache-2.0 
