{% set name = "DAS_Tool" %}
{% set version = "1.1.0" %}
{% set sha256 = "59cfc8085332397d3a56b78c1345f1f5224a6f0683db915cfe730d846261488d" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://github.com/cmks/{{ name }}/archive/{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  skip: True  # [not linux]

requirements:
  build:
    - codeutils  # [osx]
    - r >=3.2.3
    - r-data.table >=1.9.6
    - r-doMC >=1.3.4
    - r-ggplot2 >=2.1.0
    - ruby >=v2.3.1
    - pullseq >=1.0.2
    - prodigal >=2.6.3
    - blast >=2.5.0

  run:
    - codeutils  # [osx]
    - r >=3.2.3
    - r-data.table >=1.9.6
    - r-doMC >=1.3.4
    - r-ggplot2 >=2.1.0
    - ruby >=v2.3.1
    - pullseq >=1.0.2
    - prodigal >=2.6.3
    - blast >=2.5.0

test:
  commands:
    - DAS_Tool --help || [[ $? == 1 ]]
    - DAS_Tool --version || [[ $? == 1 ]]

about:
  home: https://github.com/cmks/DAS_Tool
  license: BSD  # see https://github.com/cmks/DAS_Tool/issues/23
  license_file: license.txt
  summary: |
    Recovery of genomes from metagenomes via a dereplication,
    aggregation and scoring strategy.
  description: |
   DAS Tool is an automated method that integrates the results of a
   flexible number of binning algorithms to calculate an optimized,
   non-redundant set of bins from a single assembly.

extra:
  identifiers:
    - doi:10.1038/s41564-018-0171-1
  recipe-maintainers:
    - keuv-grvl
