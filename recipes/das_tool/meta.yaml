{% set name = "DAS_Tool" %}
{% set version = "1.1.1" %}
{% set sha256 = "b6771a1141fbe32934bba1a9671db5bcf93619a7b6272109101a424b7bdd15da" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/SilasK/{{ name }}/archive/{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 1
  skip: True  # [not linux]
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  host:
    - codeutils  # [osx]
    - r>=3.4.3
    - r-data.table>=1.11.4
    - r-domc>=1.3.5
    - r-ggplot2>=2.1.1
    - ruby>=2.4.4
    - pullseq>=1.0.2
    - prodigal>=2.6.3
    - blast>=2.7.1
    - diamond>=0.9.22

  run:
    - codeutils  # [osx]
    - r>=3.4.3
    - r-data.table>=1.11.4
    - r-domc>=1.3.5
    - r-ggplot2>=2.1.1
    - ruby>=2.4.4
    - pullseq>=1.0.2
    - prodigal>=2.6.3
    - blast>=2.7.1
    - diamond>=0.9.22

test:
  commands:
    - DAS_Tool --help || [[ $? == 1 ]]
    - DAS_Tool --version || [[ $? == 1 ]]
    - $R -e "library('DASTool')"

about:
  home: https://github.com/cmks/DAS_Tool
  license: BSD
  license_file: license.txt
  summary: |
    Recovery of genomes from metagenomes via a dereplication,
    aggregation and scoring strategy.
  description: |
   DAS Tool is an automated method that integrates the results of a
   flexible number of binning algorithms to calculate an optimized,
   non-redundant set of bins from a single assembly.

extra:
  identifiers:
    - doi:10.1038/s41564-018-0171-1
  recipe-maintainers:
    - keuv-grvl
    - silask
