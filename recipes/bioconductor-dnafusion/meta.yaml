{% set version = "1.12.0" %}
{% set name = "DNAfusion" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 7af117f6cfbb5deee502237b3c15985c

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-dnafusion", max_pin="x.x") }}'
  noarch: generic

# Suggests: knitr, rmarkdown, testthat, sessioninfo, BiocStyle
requirements:
  host:
    - bioconductor-biocbaseutils >=1.12.0,<1.13.0
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-genomicalignments >=1.46.0,<1.47.0
    - bioconductor-genomicfeatures >=1.62.0,<1.63.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-rsamtools >=2.26.0,<2.27.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-txdb.hsapiens.ucsc.hg38.knowngene >=3.22.0,<3.23.0
    - r-base
  run:
    - bioconductor-biocbaseutils >=1.12.0,<1.13.0
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-genomicalignments >=1.46.0,<1.47.0
    - bioconductor-genomicfeatures >=1.62.0,<1.63.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-rsamtools >=2.26.0,<2.27.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-txdb.hsapiens.ucsc.hg38.knowngene >=3.22.0,<3.23.0
    - r-base

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3
  summary: Identification of gene fusions using paired-end sequencing
  description: DNAfusion can identify gene fusions such as EML4-ALK based on paired-end sequencing results. This package was developed using position deduplicated BAM files generated with the AVENIO Oncology Analysis Software. These files are made using the AVENIO ctDNA surveillance kit and Illumina Nextseq 500 sequencing. This is a targeted hybridization NGS approach and includes ALK-specific but not EML4-specific probes.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

