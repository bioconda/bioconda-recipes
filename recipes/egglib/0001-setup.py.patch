diff --git a/setup.py b/setup.py
index b3a6f8f..b090ee3 100644
--- a/setup.py
+++ b/setup.py
@@ -1,5 +1,6 @@
 import pathlib, re, glob, os
 import setuptools, sysconfig
+import distutils
 from setuptools.command.build_ext import build_ext
 
 ##### GET ENVIRONMENT VARIABLES ########################################
@@ -38,7 +39,7 @@ class build_ext2(build_ext):
 
 ##### EXTENSION MODULES ################################################
 
-lib = 'egglib' + str(pathlib.Path(sysconfig.get_config_var('EXT_SUFFIX')).stem)
+lib = 'egglib' + str(pathlib.Path(distutils.sysconfig.get_config_var('EXT_SUFFIX')).stem)
 cpath = pathlib.Path('src', 'cfiles')
 cpppath = pathlib.Path('src', 'cppfiles')
 
@@ -74,7 +75,7 @@ if HTSLIB != '0':
 
 # set DEBUG mode
 if DEBUG == '0':
-    for ext in extensions: ext.extra_compile_args.extend(['-g', '-O3'])
+    for ext in extensions: ext.extra_compile_args.extend(['-g', '-O3', '-lhts'])
 else:
     for ext in extensions:
         ext.extra_compile_args.extend(['-g', '-O0'])
