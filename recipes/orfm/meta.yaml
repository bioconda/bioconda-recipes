{% set version = "1.4.0" %}
{% set name = "OrfM" %}
{% set sha256 = "79edd45a536079ec5fbd5eb80031bc31993f81824b435a73fe830f6c7f818204" %}
{% set sha256_seqtk = "5a1687d65690f2f7fa3f998d47c3c5037e792f17ce119dab52fff3cfdca1e563" %}

package:
  name: orfm
  version: {{ version }}

build:
  number: 0
  run_exports:
    - {{ pin_subpackage(name| lower, max_pin="x") }}

source:
  - url: https://github.com/wwood/{{ name }}/archive/v{{ version }}.tar.gz
    sha256: {{ sha256 }}
  - url: https://github.com/lh3/seqtk/archive/v1.3.tar.gz
    sha256: {{ sha256_seqtk }}
    folder: ext/seqtk

requirements:
  build:
    - make
    - {{ compiler('c') }}
    - autoconf
    - automake
  host:
    - zlib
  run:
    - zlib

test:
  commands:
    - orfm -h

about:
  home: https://github.com/wwood/OrfM
  license: LGPL-3.0
  license_family: LGPL
  license_file: LICENSE.txt
  summary: OrfM is a simple and not slow ORF caller

extra:
  additional-platforms:
    - linux-aarch64
    - osx-arm64
  identifiers:
    - biotools:{{ name| lower }}
    - doi:10.1093/bioinformatics/btw241
