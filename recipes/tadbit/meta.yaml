{% set version = "0.5" %}

package:
  name: tadbit
  version: {{ version }}

source:
  url: https://github.com/3DGenomes/TADbit/archive/v{{ version }}.tar.gz
  sha256: c8f911eff5b7bf73cdc13c3720375baed6128be786576db77aaf627c6749d79c
  
build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host:
    - python <3
  run:
    - python <3
    - scipy
    - numpy
    - matplotlib
    - h5py
    - pysam
    - mcl
    - gem3-mapper
    - xorg-libxext

test:
  source_files:
    - test
    - src/test
  imports:
    - pytadbit
  commands:
    - tadbit
    - python test/test_all.py  01 02 03 04 05 
                               06 07 08 09 10 
                               11 12 13 14 15 
                               16 17 18 19
about:
  home: http://sgt.cnag.cat/3dg/tadbit/
  license: GPL-3.0
  license_file: LICENSE.txt
  summary: "TADbit is a complete Python library to deal with all steps to analyze, model and explore 3C-based data."

extra:
  identifiers:
    - doi:10.1371/journal.pcbi.1005665
  container:
    extended-base: true