{% set version = "0.3.3" %}
{% set sha256hash = "71edbefef8e3a43ddf41f79e24f4a11eb208e6fc0957e4431294a5e9517a3c14" %}

package:
  name: mosdepth
  version: {{ version }}

source:
  - url: https://github.com/brentp/mosdepth/archive/v{{ version }}.tar.gz
    sha256: {{ sha256hash }}

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - git
    - nim
  host:
    - htslib
    - htslib >=1.10
    - pcre
  run:

test:
  commands:
    - mosdepth -h
    - mosdepth --version | grep -qxF 'mosdepth {{ version }}'

about:
  home: https://github.com/brentp/mosdepth
  dev_url: https://github.com/brentp/mosdepth
  doc_url: https://github.com/brentp/mosdepth
  license: MIT
  license_file: LICENSE
  summary: 'Fast BAM/CRAM depth calculation for WGS, exome, or targetted sequencing.'

extra:
  identifiers:
    - doi:10.1093/bioinformatics/btx699
    - biotools:mosdepth
