{% set name = "python-javabridge" %}
{% set version = "4.0.0" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: "https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz"
  sha256: 9fd9c85e6a32f4edd9fff659d387cbf4c1c91fde9fe3670e4f6d37d79eb6200f

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  build:
    - {{ compiler('c') }}
  host:
    - numpy >=1.18.2
    - cython >=0.29.16
    - openjdk
    - pip
    - python
    - setuptools
  run:
    - numpy >=1.18.2
    - python
    - openjdk

test:
  imports:
    - javabridge
    - javabridge.tests
  requires:
    - nose

about:
  home: "http://github.com/CellProfiler/python-javabridge/"
  license: BSD
  license_family: BSD
  license_file: LICENSE
  summary: "Python wrapper for the Java Native Interface"
  description: |
    The python-javabridge package makes it easy to start a Java virtual machine (JVM) from
    Python and interact with it. Python code can interact with the JVM using a low-level
    API or a more convenient high-level API. Python-javabridge was developed for and is
    used by cell image analysis software CellProfiler.
