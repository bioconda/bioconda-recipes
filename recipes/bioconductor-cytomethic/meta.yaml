{% set version = "1.6.0" %}
{% set name = "CytoMethIC" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/data/experiment/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 723076e6036f3a27a4a06cd096ef32b8

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-cytomethic", max_pin="x.x") }}'
  noarch: generic

# Suggests: tibble, BiocStyle, randomForest, testthat, knitr, rmarkdown, e1071, xgboost, keras, tensorflow
requirements:
  host:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-experimenthub >=3.0.0,<3.1.0
    - bioconductor-sesame >=1.28.0,<1.29.0
    - bioconductor-sesamedata >=1.28.0,<1.29.0
    - r-base
    - r-biocmanager
  run:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-experimenthub >=3.0.0,<3.1.0
    - bioconductor-sesame >=1.28.0,<1.29.0
    - bioconductor-sesamedata >=1.28.0,<1.29.0
    - r-base
    - r-biocmanager
    - curl
    - bioconductor-data-packages >=20260207

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/data/experiment/html/{{ name }}.html
  license: Artistic-2.0
  summary: DNA methylation-based machine learning models
  description: This package provides model data and functions for easily using machine learning models that use data from the DNA methylome to classify cancer type and phenotype from a sample. The primary motivation for the development of this package is to abstract away the granular and accessibility-limiting code required to utilize machine learning models in R. Our package provides this abstraction for RandomForest, e1071 Support Vector, Extreme Gradient Boosting, and Tensorflow models. This is paired with an ExperimentHub component, which contains models developed for epigenetic cancer classification and predicting phenotypes. This includes CNS tumor classification, Pan-cancer classification, race prediction, cell of origin classification, and subtype classification models. The package links to our models on ExperimentHub. The package currently supports HM450, EPIC, EPICv2, MSA, and MM285.

