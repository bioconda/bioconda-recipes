{% set version = "1.4.0" %}

package:
  name: magicblast
  version: {{ version }}

source:
  url: ftp://ftp.ncbi.nlm.nih.gov/blast/executables/magicblast/LATEST/ncbi-magicblast-{{ version }}-x64-linux.tar.gz # [linux]
  url: ftp://ftp.ncbi.nlm.nih.gov/blast/executables/magicblast/LATEST/ncbi-magicblast-{{ version }}-x64-macosx.tar.gz # [macos]
  sha256: 9995524a2ce67850516debb3341f268d485113f1c28005e39b5fbf47fe27d250 # [linux]
  sha256: f48daeb86065be4f256820b5c189f0141eafdf50e5a0b8e837b381e82a447b0e # [macos]

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host:
    - zlib
    - bzip2
    - pcre
  run:
    - zlib
    - bzip2
    - pcre
    - blast # needed for makeblastdb

test:
  commands:
    - makeblastdb -help
    - magicblast -help

about:
  home: https://ncbi.github.io/magicblast/
  license: Public Domain
  summary: Magic-BLAST is a tool for mapping large next-generation RNA or DNA sequencing runs against a whole genome or transcriptome.

extra:
  identifiers:
    - biotools:magicblast
    - doi:10.1101/390013
  recipe-maintainers:
    - boratyng

