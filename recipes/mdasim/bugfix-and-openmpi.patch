From a98a6a6b59bc7b38f1b251f7fe69c0f4c9c83842 Mon Sep 17 00:00:00 2001
From: David Laehnemann <david.laehnemann@hhu.de>
Date: Wed, 19 Jul 2017 17:03:06 +0200
Subject: [PATCH 1/3] Compile using openmp (mpic++) and pthread

---
 Makefile | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/Makefile b/Makefile
index 5f105a1..e015f01 100644
--- a/Makefile
+++ b/Makefile
@@ -32,18 +32,18 @@
 
 #Linux, icc with openmp & pthread
 #CPP = g++
-#CPP = mpic++
+CPP = mpic++
 #CPPFLAGS = -m64 -fopenmp -O3 -s -static
-#MPICPPFLAGS = -I/usr/lib/openmpi/include -I/usr/lib/openmpi/include/openmpi -pthread -L/usr/lib/openmpi/lib -lmpi_cxx -lmpi -lopen-rte -lopen-pal -ldl -lnsl -lutil -lm -ldl -Wl,--export-dynamic
-#CPPFLAGS = -m64 -openmp -pthread -O3 -DMAXK=$(MAXK) -DFIXEDPOINTPROB=1 $(MPICPPFLAGS)
+MPICPPFLAGS = -I/usr/lib/openmpi/include -I/usr/lib/openmpi/include/openmpi -pthread -L/usr/lib/openmpi/lib -lmpi_cxx -lmpi -lopen-rte -lopen-pal -ldl -lnsl -lutil -lm -ldl -Wl,--export-dynamic
+CPPFLAGS = -m64 -openmp -pthread -O3 -DMAXK=$(MAXK) -DFIXEDPOINTPROB=1 $(MPICPPFLAGS)
 
 #Linux, gcc with openmp
-CPP = g++
+#CPP = g++
 #CPPFLAGS = -m64 -fopenmp -O3 -s -static
 #PROFILINGFLAG = -pg
 #VALGRINDFLAG = -g
 #DEBUGFLAG = -g
-CPPFLAGS = -m64 -fopenmp -O3 $(PROFILINGFLAG) $(DEBUGFLAG) -s
+#CPPFLAGS = -m64 -fopenmp -O3 $(PROFILINGFLAG) $(DEBUGFLAG) -s
 LIBEXT = a
 LIBCREATE = rcs
 LIBTOOL = ar 
-- 
2.7.4


From 113605e578f43d82f28214e7faf09bf2afa616c8 Mon Sep 17 00:00:00 2001
From: David Laehnemann <david.laehnemann@hhu.de>
Date: Wed, 19 Jul 2017 17:12:19 +0200
Subject: [PATCH 2/3] rm absolute openmpi paths, use any present openmpi

---
 Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index e015f01..e6f901b 100644
--- a/Makefile
+++ b/Makefile
@@ -34,7 +34,7 @@
 #CPP = g++
 CPP = mpic++
 #CPPFLAGS = -m64 -fopenmp -O3 -s -static
-MPICPPFLAGS = -I/usr/lib/openmpi/include -I/usr/lib/openmpi/include/openmpi -pthread -L/usr/lib/openmpi/lib -lmpi_cxx -lmpi -lopen-rte -lopen-pal -ldl -lnsl -lutil -lm -ldl -Wl,--export-dynamic
+MPICPPFLAGS = -pthread -lmpi_cxx -lmpi -lopen-rte -lopen-pal -ldl -lnsl -lutil -lm -ldl -Wl,--export-dynamic
 CPPFLAGS = -m64 -openmp -pthread -O3 -DMAXK=$(MAXK) -DFIXEDPOINTPROB=1 $(MPICPPFLAGS)
 
 #Linux, gcc with openmp
-- 
2.7.4


From ecdbdac32ca8a8309043eee0e4f74e8a073d7584 Mon Sep 17 00:00:00 2001
From: David Laehnemann <david.laehnemann@hhu.de>
Date: Wed, 19 Jul 2017 17:17:06 +0200
Subject: [PATCH 3/3] bug fix: include getopt.h in mdasim.h (args pars)

---
 include/mdasim.h | 1 +
 1 file changed, 1 insertion(+)

diff --git a/include/mdasim.h b/include/mdasim.h
index 17b3620..622ff53 100644
--- a/include/mdasim.h
+++ b/include/mdasim.h
@@ -43,6 +43,7 @@ Copyright 2012- Zeinab Taghavi (ztaghavi@wayne.edu)
 #include <utility>
 
 #include "commonMDA.h"
+#include "getopt.h"
 
 #define CoverageToPrimerConst 1000
 
-- 
2.7.4

