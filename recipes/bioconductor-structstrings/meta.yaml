{% set version = "1.26.0" %}
{% set name = "Structstrings" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: ec5a0b925561379849b72465ae3c9639

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-structstrings", max_pin="x.x") }}'

# Suggests: testthat, knitr, rmarkdown, tRNAscanImport, BiocStyle
requirements:
  build:
    - {{ compiler('c') }}
    - make
  host:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-xvector >=0.50.0,<0.51.0
    - r-base
    - r-crayon
    - r-stringi
    - r-stringr
    - libblas
    - liblapack
    - zlib
    - liblzma-devel
  run:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-xvector >=0.50.0,<0.51.0
    - r-base
    - r-crayon
    - r-stringi
    - r-stringr

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: Artistic-2.0
  summary: Implementation of the dot bracket annotations with Biostrings
  description: The Structstrings package implements the widely used dot bracket annotation for storing base pairing information in structured RNA. Structstrings uses the infrastructure provided by the Biostrings package and derives the DotBracketString and related classes from the BString class. From these, base pair tables can be produced for in depth analysis. In addition, the loop indices of the base pairs can be retrieved as well. For better efficiency, information conversion is implemented in C, inspired to a large extend by the ViennaRNA package.

