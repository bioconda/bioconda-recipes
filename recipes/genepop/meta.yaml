package:
  name: genepop
  version: "4.8.2"
# After talking with the author, we decided that, for existing genepop
# versions, we would take the out from the exinsting R packages.
# So, the R package is 1.2.2 but Genepop is 4.8.2. People do not really know
# the R package version. In the future (hopefully) a standalone version of
# genepop will be provided (actually it is provided and always was, but
# the author did not kept old versions, just replaced the source code zip).
# All this kerfufle is just to make sure we are able to maintain exact
# versions (reproducibility and all).

build:
  number: 0
  run_exports:
    - {{ pin_subpackage("genepop", max_pin="x") }}

source:
  url: https://github.com/cran/genepop/archive/refs/tags/1.2.2.tar.gz
  sha256: d8ca49a9c11e267305a85a97a8b2d6ada39d814b474a4d58d2c54edf66fb75e9

requirements:
  build:
    - {{ compiler('cxx') }}
  run:

about:
  home: http://kimura.univ-montp2.fr/~rousset/Genepop.htm
  license: CeCILL
  summary: The Genepop population genetics package.

test:
  commands:
    # Expected output is the version and an error message
    - echo does_not_exist.txt | Genepop | grep "Genepop version"

extra:
  additional-platforms:
    - linux-aarch64