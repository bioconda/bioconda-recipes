{% set version = "1.2.1" %}
{% set name = "smoppix" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name }}/bioconductor-{{ name }}_{{ version }}_src_all.tar.gz
  md5: 50145c8809e9b83fcdbeeb1c4ecbd808

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-smoppix", max_pin="x.x") }}'

# Suggests: testthat,rmarkdown,knitr,DropletUtils,polyCub,RImageJROI,sp,ape,htmltools,funkycells,glmnet,doParallel
requirements:

  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make

  host:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-spatialexperiment >=1.20.0,<1.21.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-extradistr
    - r-ggplot2
    - r-lme4
    - r-lmertest
    - r-openxlsx
    - r-rcpp >=1.0.11
    - r-rdpack
    - r-rfast
    - r-scam
    - r-spatstat.geom >=3.2.0
    - r-spatstat.model
    - r-spatstat.random
    - libblas
    - liblapack
    - zlib
    - liblzma-devel

  run:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-spatialexperiment >=1.20.0,<1.21.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-extradistr
    - r-ggplot2
    - r-lme4
    - r-lmertest
    - r-openxlsx
    - r-rcpp >=1.0.11
    - r-rdpack
    - r-rfast
    - r-scam
    - r-spatstat.geom >=3.2.0
    - r-spatstat.model
    - r-spatstat.random

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-2.0-only
  summary: Analyze Single Molecule Spatial Omics Data Using the Probabilistic Index
  description: Test for univariate and bivariate spatial patterns in spatial omics data with single-molecule resolution. The tests implemented allow for analysis of nested designs and are automatically calibrated to different biological specimens. Tests for aggregation, colocalization, gradients and vicinity to cell edge or centroid are provided.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

