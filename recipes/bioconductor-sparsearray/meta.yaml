{% set version = "1.10.8" %}
{% set name = "SparseArray" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 8dc81480e3e0186a7848fc105c78db8c

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-sparsearray", max_pin="x.x") }}'

# Suggests: HDF5Array, ExperimentHub, testthat, knitr, rmarkdown, BiocStyle
requirements:
  build:
    - {{ compiler('c') }}
    - make
  host:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-matrixgenerics >=1.22.0,<1.23.0
    - bioconductor-s4arrays >=1.10.0,<1.11.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-xvector >=0.50.0,<0.51.0
    - r-base
    - r-matrix
    - r-matrixstats
    - libblas
    - liblapack
    - zlib
    - liblzma-devel
  run:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-matrixgenerics >=1.22.0,<1.23.0
    - bioconductor-s4arrays >=1.10.0,<1.11.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-xvector >=0.50.0,<0.51.0
    - r-base
    - r-matrix
    - r-matrixstats

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: Artistic-2.0
  summary: High-performance sparse data representation and manipulation in R
  description: 'The SparseArray package provides array-like containers for efficient in-memory representation of multidimensional sparse data in R (arrays and matrices). The package defines the SparseArray virtual class and two concrete subclasses: COO_SparseArray and SVT_SparseArray. Each subclass uses its own internal representation of the nonzero multidimensional data: the "COO layout" and the "SVT layout", respectively. SVT_SparseArray objects mimic as much as possible the behavior of ordinary matrix and array objects in base R. In particular, they suppport most of the "standard matrix and array API" defined in base R and in the matrixStats package from CRAN.'

extra:
  additional-platforms:
    - linux-aarch64
    - osx-arm64

