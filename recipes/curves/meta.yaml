{% set name = "curves" %}
{% set version = "3.0.0" %}
{% set file_ext = "tar" %}
{% set hash_type = "sha256" %}
{% set hash_value = "28f0b31d93526c3fbeac270c4bad29763f41c50cb99488b128ce56f0229bf1f1" %}

package:
  name: '{{ name|lower }}'
  version: '{{ version }}'

source:
  url: http://mmb.irbbarcelona.org/gitlab/lucia.fabio/Curves_plus/raw/master/dist/curves.tar.gz
  '{{ hash_type }}': '{{ hash_value }}'

build:
  number: 3

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - {{ compiler('fortran') }}
    - make
  host:
    - libnetcdf 4.7.*
    - netcdf-fortran 4.5.*
    - ambertools 20.*
  run:
    - libnetcdf >=4.7.*
    - netcdf-fortran >=4.5.*
    - ambertools 20.*

test:
  source_files:
    - data/*
  commands:
    - bash exec_curves.sh
    - bash check_curves_output.sh
    - bash exec_canal.sh
    - bash check_canal_output.sh
    - bash exec_canion.sh
    - bash check_canion_output.sh


about:
  home: http://curvesplus.bsc.es/misc
  license: Apache Software License
  license_family: APACHE
  summary: "CURVES+: Conformational analysis of single nucleic acid structures or of molecular dynamics trajectories"
  description: "Curves+ is a revised version of the Curves approach for analysing the structure of nucleic acids. It respects the international conventions for nucleic acid analysis, runs much faster and provides new data."
