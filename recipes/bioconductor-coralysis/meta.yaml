{% set version = "1.0.0" %}
{% set name = "Coralysis" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: af322ed119441645a42b696e339eeadd

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-coralysis", max_pin="x.x") }}'
  noarch: generic

# Suggests: knitr, rmarkdown, bluster, ComplexHeatmap, circlize, scater, viridis, scRNAseq, SingleR, MouseGastrulationData, testthat (>= 3.0.0), BiocStyle, scrapper
requirements:

  host:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-scran >=1.38.0,<1.39.0
    - bioconductor-singlecellexperiment >=1.32.0,<1.33.0
    - bioconductor-sparsematrixstats >=1.22.0,<1.23.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-aricode
    - r-base
    - r-class
    - r-cowplot
    - r-dplyr
    - r-flexclust
    - r-ggplot2
    - r-ggrastr
    - r-ggrepel
    - r-irlba
    - r-liblinear
    - r-matrix
    - r-matrixstats
    - r-pheatmap
    - r-rann
    - r-rcolorbrewer
    - r-reshape2
    - r-rspectra
    - r-rtsne
    - r-scatterpie
    - r-sparsem
    - r-tidyr
    - r-umap
    - r-uwot
    - r-withr

  run:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-scran >=1.38.0,<1.39.0
    - bioconductor-singlecellexperiment >=1.32.0,<1.33.0
    - bioconductor-sparsematrixstats >=1.22.0,<1.23.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-aricode
    - r-base
    - r-class
    - r-cowplot
    - r-dplyr
    - r-flexclust
    - r-ggplot2
    - r-ggrastr
    - r-ggrepel
    - r-irlba
    - r-liblinear
    - r-matrix
    - r-matrixstats
    - r-pheatmap
    - r-rann
    - r-rcolorbrewer
    - r-reshape2
    - r-rspectra
    - r-rtsne
    - r-scatterpie
    - r-sparsem
    - r-tidyr
    - r-umap
    - r-uwot
    - r-withr

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3.0-only
  summary: Coralysis sensitive identification of imbalanced cell types and states in single-cell data via multi-level integration
  description: Coralysis is an R package featuring a multi-level integration algorithm for sensitive integration, reference-mapping, and cell-state identification in single-cell data. The multi-level integration algorithm is inspired by the process of assembling a puzzle - where one begins by grouping pieces based on low-to high-level features, such as color and shading, before looking into shape and patterns. This approach progressively blends the batch effects and separates cell types across multiple rounds of divisive clustering.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

