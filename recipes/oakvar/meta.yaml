{% set name = "OakVar" %}
{% set version = "2.9.32" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/oakvar-{{ version }}.tar.gz
  sha256: 24f31d33655e85128918ba45b54b0bd97c7d8f7705de60a7a7c021d0a728718b

build:
  number: 0
  entry_points:
    - ov=oakvar.cli.__main__:main
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  host:
    - pip
    - python
  run:
    - python
    - aiohttp
    - aiohttp-cors
    - aiosqlite
    - chardet >=3.0.4
    - connectorx
    - download
    - gdown
    - intervaltree
    - markdown
    - mpmath
    - nest-asyncio
    - oyaml
    - packaging
    - Pillow
    - polars
    - psutil
    - pyarrow
    - pyjwt
    - pyliftover
    - python-dateutil
    - requests
    - requests-toolbelt
    - python-duckdb
    - rich
    - twobitreader
    - multiprocess

test:
  imports:
    - oakvar
  requires:
    - python
    - pip

about:
  home: https://github.com/rkimoakbioinformatics/oakvar
  summary: "OakVar - Genomic Variant Analysis Platform"
  dev_url: https://docs.oakvar.com
  doc_url: https://docs.oakvar.com
  license_file: LICENSE
  license: AGPL v3
  license_family: GPL

extra:
  recipe-maintainers:
    - rkimoakbioinformatics
