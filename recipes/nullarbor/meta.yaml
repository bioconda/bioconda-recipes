{% set version = "1.28" %}

package:
  name: nullarbor
  version: {{ version }}

build:
  number: 0

source:
  fn: nullarbor_{{ version }}.tar.gz
  url: https://github.com/tseemann/nullarbor/archive/v{{ version }}.tar.gz
  sha256: 7525e6d3b6f4a9658bd80c024f7c949a8ddbc21d16fc65d7dc5f35df8e74c902

requirements:
  build:
    - perl
    - perl-bioperl
    - perl-time-piece
    - perl-moo
    - perl-data-dumper
    - perl-yaml-tiny
    - perl-svg
    - perl-json
    - emboss
    - prokka >=1.12
    - fasttree
    - megahit >=1.1
    - spades >=3.5
    - kraken
    - trimmomatic >=0.36
    - mlst >=2.10
    - abricate
    - newick_utils
    - imagemagick
    - snp-dists >=0.2
    - snippy >=3.1
    - roary >=3.9

  run:
    - perl
    - perl-bioperl
    - perl-time-piece
    - perl-moo
    - perl-data-dumper
    - perl-yaml-tiny
    - perl-svg
    - perl-json
    - emboss
    - prokka >=1.12
    - fasttree
    - megahit >=1.1
    - spades >=3.5
    - kraken
    - trimmomatic >=0.36
    - mlst >=2.10
    - abricate
    - newick_utils
    - imagemagick
    - snp-dists >=0.2
    - snippy >=3.1
    - roary >=3.9

test:
  commands:
    - nullarbor.pl --version
    - nullarbor.pl --help

about:
  home: https://github.com/tseemann/nullarbor
  license: GPL-2.0
  license_file: LICENSE
  summary: Pipeline to generate complete public health microbiology reports from sequenced isolates
