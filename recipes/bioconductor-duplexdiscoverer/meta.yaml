{% set version = "1.4.0" %}
{% set name = "DuplexDiscovereR" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: c302581e7491e0db558bcd7adb5e0de5

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-duplexdiscoverer", max_pin="x.x") }}'
  noarch: generic

# Suggests: knitr, UpSetR, BiocStyle, rmarkdown, testthat (>= 3.0.0)
requirements:
  host:
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-genomicalignments >=1.46.0,<1.47.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-gviz >=1.54.0,<1.55.0
    - bioconductor-interactionset >=1.38.0,<1.39.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - r-base
    - r-dplyr
    - r-ggsci
    - r-igraph
    - r-purrr
    - r-rlang
    - r-scales
    - r-stringr
    - r-tibble
    - r-tidyr
    - r-vctrs
  run:
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-genomicalignments >=1.46.0,<1.47.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-gviz >=1.54.0,<1.55.0
    - bioconductor-interactionset >=1.38.0,<1.39.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - r-base
    - r-dplyr
    - r-ggsci
    - r-igraph
    - r-purrr
    - r-rlang
    - r-scales
    - r-stringr
    - r-tibble
    - r-tidyr
    - r-vctrs

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3.0-only
  summary: Analysis of the data from RNA duplex probing experiments
  description: DuplexDiscovereR is a package designed for analyzing data from RNA cross-linking and proximity ligation protocols such as SPLASH, PARIS, LIGR-seq, and others. DuplexDiscovereR accepts input in the form of chimerically or split-aligned reads. It includes procedures for alignment classification, filtering, and efficient clustering of individual chimeric reads into duplex groups (DGs). Once DGs are identified, the package predicts RNA duplex formation and their hybridization energies. Additional metrics, such as p-values for random ligation hypothesis or mean DG alignment scores, can be calculated to rank final set of RNA duplexes. Data from multiple experiments or replicates can be processed separately and further compared to check the reproducibility of the experimental method.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

