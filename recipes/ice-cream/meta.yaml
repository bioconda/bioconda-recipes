{% set name = "ice-cream" %}
{% set version = "2.0.0" %}

package:
  name: "{{ name|lower }}"
  version: '{{ version }}'

source:
  url: https://github.com/xinehc/ice-cream/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 47b6ce064775e918a1aef48d87eeda5de4ab3ffdd19614f863cedec645c98939

build:
  noarch: python
  number: 0
  script: '{{ PYTHON }} -m pip install . --no-deps --ignore-installed --no-cache-dir -vvv'
  run_exports:
    - {{ pin_subpackage('ice-cream', max_pin='x') }}

requirements:
  host:
    - python ==3.10.14
    - pip
    - conda-build
    - setuptools
    - macsyfinder ==2.1.4
    - gcc
    - bakta
  run:
    - python ==3.10.14
    - bakta ==1.9.4
    - blast ==2.16.0
    - macsyfinder ==2.1.4
    - r-base
    - r-essentials
    - biopython
    - r-reshape2
    - prodigal ==2.6.3
    - vmatch ==2.3.0
    - dna_features_viewer
    - pandas
    - zlib
    - bzip2
    - libidn
    - libnsl
    - libgcc

test:
  commands:
    - ICEcream --help

about:
  home: https://github.com/xinehc/ice-cream
  license: MIT
  license_family: MIT
  summary: 'ICEcream: Integrative and Conjugative Elements Classification and gRaphical gEne Arrangement Method'
