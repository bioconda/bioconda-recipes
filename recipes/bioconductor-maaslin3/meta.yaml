{% set version = "1.2.0" %}
{% set name = "maaslin3" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name }}/bioconductor-{{ name }}_{{ version }}_src_all.tar.gz
  md5: df2ae241ed1bd5ec6919d83dba9d77c8

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-maaslin3", max_pin="x.x") }}'
  noarch: generic

# Suggests: knitr, testthat (>= 2.1.0), rmarkdown, markdown, kableExtra
requirements:

  host:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - bioconductor-treesummarizedexperiment >=2.18.0,<2.19.0
    - r-base
    - r-dplyr
    - r-ggnewscale
    - r-ggplot2
    - r-lme4
    - r-lmertest
    - r-logging
    - r-multcomp
    - r-optparse
    - r-patchwork
    - r-pbapply
    - r-plyr
    - r-rcolorbrewer
    - r-rlang
    - r-scales
    - r-survival
    - r-tibble

  run:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - bioconductor-treesummarizedexperiment >=2.18.0,<2.19.0
    - r-base
    - r-dplyr
    - r-ggnewscale
    - r-ggplot2
    - r-lme4
    - r-lmertest
    - r-logging
    - r-multcomp
    - r-optparse
    - r-patchwork
    - r-pbapply
    - r-plyr
    - r-rcolorbrewer
    - r-rlang
    - r-scales
    - r-survival
    - r-tibble

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: MIT + file LICENSE
  summary: '"Refining and extending generalized multivariate linear models for meta-omic association discovery"'
  description: MaAsLin 3 refines and extends generalized multivariate linear models for meta-omicron association discovery. It finds abundance and prevalence associations between microbiome meta-omics features and complex metadata in population-scale epidemiological studies. The software includes multiple analysis methods (including support for multiple covariates, repeated measures, and ordered predictors), filtering, normalization, and transform options to customize analysis for your specific study.
  license_file: LICENSE

