{% set name = "CLASV" %}
{% set version = "0.1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/JoiRichi/CLASV/archive/refs/tags/v1.0.3.tar.gz
  sha256: 2d63625311625fd814eb9293721784deeb4550de0464e5030ae927e4f3f87731

build:
  number: 0
  noarch: python
  run_exports:
    - {{ pin_subpackage(name|lower, max_pin="x.x") }}
  script:
    - echo "Contents of work directory:"
    - set +e
    - chmod +x $HOME/.local/bin/nextclade
    - echo "Installing the clasv package..."
    - "{{ PYTHON }} -m pip install ."
    - "{{ PYTHON }} -c 'from CLASV.install_nextclade import install_nextclade; install_nextclade()'"

requirements:
  host:
    - python >=3.8
    - pip
  run:
    - python
    - appdirs ==1.4.4
    - argparse-dataclass ==2.0.0
    - attrs ==24.2.0
    - backports.tarfile ==1.2.0
    - biopython ==1.84
    - certifi ==2024.8.30
    - charset-normalizer ==3.4.0
    - conda-inject ==1.3.2
    - ConfigArgParse ==1.7
    - connection_pool ==0.0.3
    - contourpy ==1.3.1
    - cycler ==0.12.1
    - datrie ==0.8.2
    - docutils ==0.21.2
    - dpath ==2.2.0
    - fastjsonschema
    - fonttools ==4.55.2
    - gitdb ==4.0.11
    - GitPython ==3.1.43
    - humanfriendly ==10.0
    - idna ==3.10
    - immutables ==0.21
    - importlib_metadata ==8.5.0
    - jaraco.classes ==3.4.0
    - jaraco.context ==6.0.1
    - jaraco.functools ==4.1.0
    - Jinja2 ==3.1.4
    - joblib ==1.4.2
    - jsonschema ==4.23.0
    - jsonschema-specifications ==2024.10.1
    - jupyter_core ==5.7.2
    - keyring ==25.5.0
    - kiwisolver ==1.4.7
    - markdown-it-py ==3.0.0
    - MarkupSafe ==3.0.2
    - matplotlib-base
    - mdurl ==0.1.2
    - more-itertools ==10.5.0
    - nbformat ==5.10.4
    - nh3 ==0.2.19
    - numpy ==1.23.5
    - packaging ==24.2
    - pandas ==2.2.3
    - pillow ==11.0.0
    - pkginfo ==1.12.0
    - plac ==1.4.3
    - platformdirs ==4.3.6
    - plotly ==5.24.1
    - psrecord
    - psutil ==6.1.0
    - PuLP
    - Pygments ==2.18.0
    - pyparsing ==3.2.0
    - python-dateutil ==2.9.0.post0
    - pytz ==2024.2
    - PyYAML ==6.0.2
    - readme_renderer ==44.0
    - referencing ==0.35.1
    - requests ==2.32.3
    - requests-toolbelt ==1.0.0
    - reretry ==0.11.8
    - rfc3986 ==2.0.0
    - rich ==13.9.4
    - rpds-py ==0.22.3
    - scikit-learn ==1.6.1
    - scipy ==1.14.1
    - six ==1.17.0
    - smart-open ==7.0.5
    - smmap ==5.0.1
    - snakemake ==8.25.5
    - snakemake-interface-common ==1.17.4
    - snakemake-interface-executor-plugins ==9.3.2
    - snakemake-interface-report-plugins ==1.1.0
    - snakemake-interface-storage-plugins ==3.3.0
    - tabulate ==0.9.0
    - tenacity ==9.0.0
    - threadpoolctl ==3.5.0
    - throttler ==1.2.2
    - traitlets ==5.14.3
    - twine ==6.0.1
    - tzdata
    - urllib3 ==2.2.3
    - wrapt ==1.17.0
    - yte ==1.5.4
    - zipp ==3.21.0
    - seaborn ==0.13.1
  test:
    requires:
      - pip
  extras_require:
    pip:
      - fastjsonschema
      - psrecord

test:
  requires:
    - pip
  imports:
    - CLASV
  commands:
    - clasv --help

about:
  home: https://github.com/JoiRichi/CLASV
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: "CLASV: Lassa Virus Lineage Assignment based on Random Forest"
  description: |
    CLASV is a pipeline designed for rapidly predicting Lassa virus lineages using a Random Forest model.
  dev_url: https://github.com/JoiRichi/CLASV

extra:
  recipe-maintainers:
    - JoiRichi
    - Ebenco36


channels:
  - conda-forge
  - bioconda
  - defaults