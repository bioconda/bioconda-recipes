{% set version = "1.0.9_2" %}
{% set sha256 = "0ddaa75a4ed1c5c2bef5ca7fea81f83883f69f5fdd8c8749dafa1c149f901d87" %}

package:
  name: iva
  version: '{{ version }}'

source:
  url: https://github.com/sanger-pathogens/iva/archive/v1.0.9-2.tar.gz
  sha256: '{{ sha256 }}'

build:
  number: 0
  skip: true # [py2k]

requirements:
  host:
    - python
    - setuptools
    - pyfastaq >=3.10.0
    - networkx >=1.7
    - pysam >=0.8.1
    - kmc
    - smalt
    - mummer
    - samtools
  run:
    - python
    - pyfastaq >=3.10.0
    - networkx >=1.7
    - pysam >=0.8.1
    - kmc
    - smalt
    - mummer
    - samtools

test:
  imports:
    - iva
  commands:
    - iva -h 2>&1 | grep "SMALT mapping options"

about:
  home: https://github.com/sanger-pathogens/iva
  license: GPL-3.0
  license_family: GPL
  summary: Iterative Virus Assembler
