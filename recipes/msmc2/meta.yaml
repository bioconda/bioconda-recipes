{% set version = "2.1.4" %} # Remember to update sha256 below

package:
  name: msmc2
  version: {{ version }}

build:
  number: 0

source:
  url: https://github.com/stschiff/msmc2/archive/refs/tags/v{{ version }}.tar.gz
  sha256: e513723b9e956f01de8de89ff6d32c071f509512425185d12faa5bb76cf440d0

requirements:
  build:
    - make
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - dmd
    - gsl
    - unzip
  run:
    - dmd
    - gsl

about:
  home: https://github.com/stschiff/msmc2
  license: GPL 3
  license_file: LICENSE.TXT
  summary: |
    This program implements MSMC2, a method to infer population size history and population separation history from whole genome sequencing data

test:
  commands:
    - msmc2 -h 2>&1 | cat > /dev/null
