{% set version = "2.7.0" %}
{% set sha256 = "fc338ccbf466bb3e2e042c973d17ec600fba9adf3b1292a496ad5023ed1c759a" %}

package:
  name: blast
  version: {{ version }}

source:
  fn: ncbi-blast-{{ version }}+-src.tar.gz
  url: http://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/{{ version }}/ncbi-blast-{{ version }}+-src.tar.gz
  sha256: {{ sha256 }}
  patches:
    - boost_106400.patch

build:
  number: 1
  string: boost{{CONDA_BOOST}}_{{PKG_BUILDNUM}}

requirements:
  build:
    - gcc  # [linux]
    - boost {{ CONDA_BOOST }}*
    - zlib {{CONDA_ZLIB}}*
    - {{CONDA_BZIP2}}
    - gnutls
    - nettle 3.3|3.3.*
    - pcre
    - time
  run:
    - libgcc  # [linux]
    - boost {{ CONDA_BOOST }}*
    - zlib {{ CONDA_ZLIB }}*
    - {{CONDA_BZIP2}}
    - gnutls
    - nettle 3.3|3.3.*
    - pcre

test:
  files:
    - test.fa
    - testdatabase.fa
  commands:
#    - conda inspect linkages $PKG_NAME
#    - conda inspect objects $PKG_NAME
    - blastn -help
    - blastp -help
about:
  home: http://blast.ncbi.nlm.nih.gov/Blast.cgi?PAGE_TYPE=BlastDocs
  license: Public Domain
  summary: BLAST+ is a new suite of BLAST tools that utilizes the NCBI C++ Toolkit.
