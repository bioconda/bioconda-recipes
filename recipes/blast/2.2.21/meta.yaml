{% set version = "2.2.21" %}

package:
    name: blast
    version: {{ version }}

source:
    fn: ncbi-blast-{{ version }}+-src.tar.gz # [linux]
    url: http://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/{{ version }}/ncbi-blast-{{ version }}+-src.tar.gz # [linux]
    md5: 116db962a2988d23bab34e2b44130743 # [linux]
    fn: ncbi-blast-{{ version }}+-universal-macosx.tar.gz # [osx]
    url: http://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/{{ version }}/ncbi-blast-{{ version }}+-universal-macosx.tar.gz # [osx]
    md5: 03cbf1c151691ce22f22c337ba1f00a5 # [osx]

build:
  number: 0
  string: boost{{CONDA_BOOST}}_{{PKG_BUILDNUM}}

requirements:
  build:
    - boost {{CONDA_BOOST}}*  # [linux]
    - gcc  # [linux]
  run:
    - boost {{CONDA_BOOST}}*  # [linux]
    - libgcc  # [linux]
    - perl

test:
    commands:
        - blastdb_aliastool -version > /dev/null
        - blastdbcheck -version > /dev/null
        - blastdbcmd -version > /dev/null
        - blastn -version > /dev/null
        - blastp -version > /dev/null
        - blastx -version > /dev/null
        - convert2blastmask -version > /dev/null
        - dustmasker -version > /dev/null
        - legacy_blast.pl --version > /dev/null
        - makeblastdb -version > /dev/null
        - makembindex -version > /dev/null
        - psiblast -version > /dev/null
        - rpsblast -version > /dev/null
        - rpstblastn -version > /dev/null
        - segmasker -version > /dev/null
        - tblastn -version > /dev/null
        - tblastx -version > /dev/null
        - windowmasker -version > /dev/null        
        - update_blastdb.pl --version > /dev/null

about:
    home: http://blast.ncbi.nlm.nih.gov/Blast.cgi?PAGE_TYPE=BlastDocs
    license: Public Domain
    summary: BLAST+ is a new suite of BLAST tools that utilizes the NCBI C++ Toolkit.
