{% set version = "1.0.2" %}
{% set name = "STADyUM" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 54a2421e5e5cd050ca1908b9fed758e7

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-stadyum", max_pin="x.x") }}'

# Suggests: testthat (>= 3.0.0), knitr, rmarkdown, devtools
requirements:

  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make

  host:
    - bioconductor-genomeinfodb >=1.46.0,<1.47.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - r-base
    - r-data.table
    - r-dplyr
    - r-ggplot2
    - r-mass
    - r-progress
    - r-purrr
    - r-rcpp
    - r-rlang
    - r-tibble
    - r-tidyr
    - libblas
    - liblapack
    - zlib
    - liblzma-devel

  run:
    - bioconductor-genomeinfodb >=1.46.0,<1.47.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - r-base
    - r-data.table
    - r-dplyr
    - r-ggplot2
    - r-mass
    - r-progress
    - r-purrr
    - r-rcpp
    - r-rlang
    - r-tibble
    - r-tidyr

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: MIT
  summary: Statistical Transcriptome Analysis under a Dynamic Unified Model
  description: STADyUM is a package with functionality for analyzing nascent RNA read counts to infer transcription rates. This includes utilities for processing experimental nascent RNA read counts as well as for simulating PRO-seq data. Rates such as initiation, pause release and landing pad occupancy are estimated from either synthetic or experimental data. There are also options for varying pause sites and including steric hindrance of initiation in the model.
  license_file: LICENSE

