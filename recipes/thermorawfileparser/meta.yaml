{% set name = "ThermoRawFileParser" %}
{% set version = "2.0.0.dev" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

build:
  run_exports:
    - {{ pin_subpackage('thermorawfileparser', max_pin="x.x.x") }}
  number: 0
  skip: True  # [not linux64]
  script:
    - mkdir -p $PREFIX/bin
    - cp -r * $PREFIX/bin
    - chmod +x $PREFIX/bin/ThermoRawFileParser
    - ln -s $PREFIX/bin/ThermoRawFileParser $PREFIX/bin/thermorawfileparser

source:
  # downloading pre-compiled packages (self-contained .NET 8 build for Linux)
  url: https://github.com/compomics/ThermoRawFileParser/releases/download/v.2.0.0-dev/ThermoRawFileParser-v.2.0.0-dev-linux.zip
  sha256: 19566762ce6759a93cee9aa4cef50de1e9ae2ad9078bd95826e8e733d4bb0d52

requirements:
  run:
    - zlib

test:
  commands:
    - ThermoRawFileParser --version

about:
  home: https://github.com/compomics/ThermoRawFileParser
  license: Apache Software
  license_family: APACHE
  license_file: '{{ environ["RECIPE_DIR"] }}/LICENSE'
  summary: Parser for Thermo RAW files based on the ThermoFisher ThermoRawFileReader library (self-contained .NET 8 build)
  dev_url: https://github.com/compomics/ThermoRawFileParser
  doc_url: https://github.com/compomics/ThermoRawFileParser/blob/master/README.md

extra:
  recipe-maintainers:
    - RECETOX
    - hechth
