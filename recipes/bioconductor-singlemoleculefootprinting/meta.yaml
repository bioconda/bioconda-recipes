{% set version = "2.4.0" %}
{% set name = "SingleMoleculeFootprinting" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 5889f66060ee690f7c81cd3c65565234

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-singlemoleculefootprinting", max_pin="x.x") }}'
  noarch: generic

# Suggests: BSgenome.Mmusculus.UCSC.mm10, devtools, ExperimentHub, knitr, qs, rmarkdown, readr, rrapply, SingleMoleculeFootprintingData, testthat (>= 3.0.0), tidyverse
requirements:

  host:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bsgenome >=1.78.0,<1.79.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-plyranges >=1.30.0,<1.31.0
    - bioconductor-quasr >=1.50.0,<1.51.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-seqinfo >=1.0.0,<1.1.0
    - r-base
    - r-cluster
    - r-dplyr
    - r-ggplot2
    - r-ggpointdensity
    - r-ggrepel
    - r-magrittr
    - r-matrix
    - r-misctools
    - r-paralleldist
    - r-patchwork
    - r-qs
    - r-rcolorbrewer
    - r-rlang
    - r-stringr
    - r-tibble
    - r-tidyr
    - r-viridis

  run:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bsgenome >=1.78.0,<1.79.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-plyranges >=1.30.0,<1.31.0
    - bioconductor-quasr >=1.50.0,<1.51.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-seqinfo >=1.0.0,<1.1.0
    - r-base
    - r-cluster
    - r-dplyr
    - r-ggplot2
    - r-ggpointdensity
    - r-ggrepel
    - r-magrittr
    - r-matrix
    - r-misctools
    - r-paralleldist
    - r-patchwork
    - r-qs
    - r-rcolorbrewer
    - r-rlang
    - r-stringr
    - r-tibble
    - r-tidyr
    - r-viridis

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3
  summary: Analysis tools for Single Molecule Footprinting (SMF) data
  description: SingleMoleculeFootprinting provides functions to analyze Single Molecule Footprinting (SMF) data. Following the workflow exemplified in its vignette, the user will be able to perform basic data analysis of SMF data with minimal coding effort. Starting from an aligned bam file, we show how to perform quality controls over sequencing libraries, extract methylation information at the single molecule level accounting for the two possible kind of SMF experiments (single enzyme or double enzyme), classify single molecules based on their patterns of molecular occupancy, plot SMF information at a given genomic location.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

