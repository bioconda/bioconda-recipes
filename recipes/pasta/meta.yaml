{% set version = "1.9.0" %}
{% set sha256 = "b125e96f923d4b950c5bcb69c1e3b54b015b88a7a4c6b5a5803f5b072bb8b8f5" %}

package:
  name: pasta
  version: '{{version}}'

source:
  git_url: https://github.com/smirarab/pasta
  git_rev: 8e2811b4c3e778742c2f968dc7e08dfb00b11c16
  sha256: '{{sha256}}'

build:
  number: 0
  run_exports:
    - {{ pin_subpackage('pasta', max_pin="x") }}

requirements:
  build:
    - {{ compiler('c') }}

  host:
    - python
    - setuptools
    - dendropy >=4.1.0
    - wget
    - openjdk
    - pcre
    - pymongo >=3.3.0
    - clustalw

  run:
    - python
    - dendropy >=4.1.0
    - openjdk
    - pcre
    - pymongo >=3.3.0
    - clustalw

test:
  imports:
    - pasta

  commands:
    - clustalw2 -help | grep OPTIONS
    - hmmalign -h | grep HMMER
    - hmmbuild -h | grep HMMER
    - muscle -version | grep MUSCLE
    - prank -help | grep prank
    - raxml -h | grep raxmlHPC
    - raxmlp -h | grep raxmlHPC

about:
  home: https://github.com/smirarab/pasta
  license: GPLv3
  license_family: GPL3
  license_file: LICENSE
  summary: 'An implementation of the PASTA (Practical Alignment using Sate and TrAnsitivity) algorithm'

extra:
  skip-lints:
    - uses_vcs_url
