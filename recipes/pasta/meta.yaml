{% set version = "1.9.0" %}

package:
  name: pasta
  version: '{{version}}'

source:
  git_url: https://github.com/smirarab/pasta
  git_rev: 8e2811b4c3e778742c2f968dc7e08dfb00b11c16

build:
  number: 0
  run_exports:
    - {{ pin_subpackage('pasta', max_pin="x") }}

requirements:
  build:
    - {{ compiler('c') }}

  host:
    - python
    - setuptools
    - dendropy >=4.1.0
    - wget
    - openjdk
    - pcre
    - pymongo >=3.3.0

  run:
    - python
    - dendropy >=4.1.0
    - openjdk
    - pcre
    - pymongo >=3.3.0

test:
  imports:
    - pasta

  commands:
    - clustalw2 -help | grep OPTIONS
    - hmmalign -h | grep HMMER
    - hmmbuild -h | grep HMMER
    - muscle -version | grep MUSCLE
    - prank -help | grep prank
    - raxml -h | grep raxmlHPC
    - raxmlp -h | grep raxmlHPC

about:
  home: https://github.com/smirarab/pasta
  license: GNU General Public License v3 or later (GPLv3+)
  summary: 'An implementation of the PASTA (Practical Alignment using Sate and TrAnsitivity) algorithm'
