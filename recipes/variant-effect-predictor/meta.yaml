package:
  name: variant-effect-predictor
  version: '83'

source:
  fn: vep-83.zip
  url: https://github.com/Ensembl/ensembl-tools/archive/release/83.zip

build:
  number: 3
  skip: True # [osx]

requirements:
  build:
    - gcc
    - perl-threaded
    - perl-archive-extract
    - perl-archive-zip
    - perl-lwp-simple
    - perl-lwp-protocol-https
  run:
    - perl-threaded
    - perl-bioperl
    - perl-encode-locale
    - perl-archive-extract
    - perl-archive-zip
    - perl-cgi
    - perl-compress-raw-zlib
    - perl-dbi
    - perl-dbd-mysql
    - perl-file-fetch
    - perl-file-sharedir
    - perl-file-sharedir-install
    - perl-ipc-system-simple
    - perl-lwp-simple
    - perl-lwp-protocol-https
    - perl-statistics-descriptive
    - perl-time-hires

test:
  commands:
     - variant_effect_predictor.pl --help
     - vep_convert_cache.pl --help
     - vep_install.pl --help

about:
  home: http://www.ensembl.org/info/docs/tools/vep/index.html
  license: Apache 2.0
  summary:  The VEP determines the effect of your variants (SNPs, insertions, deletions, CNVs or structural variants) on genes, transcripts, and protein sequence, as well as regulatory regions.

extra:
  notes: |
    This package installs only the variant effect predictor (VEP) library
    code. To install data libraries, you can use the 'vep_install.pl' command
    installed along with it. For example, to install the VEP library for human
    hg19/GRCh37 to a directory
    
    vep_install.pl -a c -s homo_sapiens_vep_83_GRCh37 -c /output/path/to/hg19/vep
    vep_convert_cache.pl -species home_sapiens -version 83_GRCh37 -d /output/path/to/hg19/vep
    
    (note that vep_install.pl is renamed from INSTALL.pl 
     and vep_convert_cache.pl from covert_cache.pl
     to avoid having generic script names in the PATH)
    
    The convert cache step is not required but improves lookup speeds during
    runs. See the VEP documentation for more details
    
    http://useast.ensembl.org/info/docs/tools/vep/script/vep_cache.html
