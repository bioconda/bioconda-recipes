{% set version = "1.4.1" %}
{% set name = "SpotClean" %}
{% set bioc = "3.18" %}

package:
  name: 'bioconductor-{{ name|lower }}'
  version: '{{ version }}'
source:
  url:
    - 'https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz'
    - 'https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz'
    - 'https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz'
    - 'https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz'
  md5: b6e7be89394d959837993f3fd385ad55
build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-spotclean", max_pin="x.x") }}'
  noarch: generic
# Suggests: testthat (>= 2.1.0), knitr, BiocStyle, rmarkdown, R.utils, spelling
requirements:
  host:
    - 'bioconductor-rhdf5 >=2.46.0,<2.47.0'
    - 'bioconductor-s4vectors >=0.40.0,<0.41.0'
    - 'bioconductor-spatialexperiment >=1.12.0,<1.13.0'
    - 'bioconductor-summarizedexperiment >=1.32.0,<1.33.0'
    - r-base
    - r-dplyr
    - r-ggplot2
    - r-matrix
    - r-rcolorbrewer
    - r-readbitmap
    - r-rjson
    - r-rlang
    - r-seurat
    - r-tibble
    - r-viridis
  run:
    - 'bioconductor-rhdf5 >=2.46.0,<2.47.0'
    - 'bioconductor-s4vectors >=0.40.0,<0.41.0'
    - 'bioconductor-spatialexperiment >=1.12.0,<1.13.0'
    - 'bioconductor-summarizedexperiment >=1.32.0,<1.33.0'
    - r-base
    - r-dplyr
    - r-ggplot2
    - r-matrix
    - r-rcolorbrewer
    - r-readbitmap
    - r-rjson
    - r-rlang
    - r-seurat
    - r-tibble
    - r-viridis
test:
  commands:
    - '$R -e "library(''{{ name }}'')"'
about:
  home: 'https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html'
  license: GPL-3
  summary: 'SpotClean adjusts for spot swapping in spatial transcriptomics data'
  description: 'SpotClean is a computational method to adjust for spot swapping in spatial transcriptomics data. Recent spatial transcriptomics experiments utilize slides containing thousands of spots with spot-specific barcodes that bind mRNA. Ideally, unique molecular identifiers at a spot measure spot-specific expression, but this is often not the case due to bleed from nearby spots, an artifact we refer to as spot swapping. SpotClean is able to estimate the contamination rate in observed data and decontaminate the spot swapping effect, thus increase the sensitivity and precision of downstream analyses.'
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

