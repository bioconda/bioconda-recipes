{% set name = "meta-apo" %}
{% set version = "1.0" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://github.com/qdu-zyf/meta-apo/archive/v{{ version }}.tar.gz
  sha256: f18e6ace753f027c698d6e0a547450172af8b00636869bd38fd798d5d82df90d

build:
  number: 0

requirements:
  build:
    - {{ compiler('cxx') }}
  host:
  run:

test:
  commands:
    - cd ${PREFIX}/example
    - meta-apo-train -T training.wgs.ko.abd -t training.16s.ko.abd -o meta-apo.model
    - meta-apo-calibrate -t 16s.ko.abd -m meta-apo.model -o 16s.ko.calibrated.abd 

about:
  home: https://github.com/qibebt-bioinfo/meta-apo
  license: GPL3
  license_file: LICENSE  
  summary: "Comprehensive taxonomic and phylogenetic comparison of shotgun metagenomes at the species level"

extra:
  identifiers:
    - doi:10.1093/bioinformatics/btz910

