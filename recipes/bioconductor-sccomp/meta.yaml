{% set version = "2.2.0" %}
{% set name = "sccomp" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name }}/bioconductor-{{ name }}_{{ version }}_src_all.tar.gz
  md5: b3b8edc015140554b004cead29d3a764

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-sccomp", max_pin="x.x") }}'
  noarch: generic

# Suggests: knitr, rmarkdown, BiocStyle, testthat (>= 3.0.0), markdown, loo, prettydoc, SeuratObject, tidyseurat, tidySingleCellExperiment, bayesplot, posterior
# SystemRequirements: CmdStan (https://mc-stan.org/users/interfaces/cmdstan), C++14
requirements:

  host:
    - bioconductor-singlecellexperiment >=1.32.0,<1.33.0
    - r-base
    - r-boot
    - r-cli
    - r-crayon
    - r-dplyr
    - r-fansi
    - r-forcats
    - r-ggplot2
    - r-ggrepel
    - r-glue
    - r-instantiate >=0.2.3
    - r-lifecycle
    - r-magrittr
    - r-patchwork
    - r-purrr
    - r-readr
    - r-rlang
    - r-scales
    - r-stringr
    - r-tibble
    - r-tidyr
    - r-tidyselect

  run:
    - bioconductor-singlecellexperiment >=1.32.0,<1.33.0
    - r-base
    - r-boot
    - r-cli
    - r-crayon
    - r-dplyr
    - r-fansi
    - r-forcats
    - r-ggplot2
    - r-ggrepel
    - r-glue
    - r-instantiate >=0.2.3
    - r-lifecycle
    - r-magrittr
    - r-patchwork
    - r-purrr
    - r-readr
    - r-rlang
    - r-scales
    - r-stringr
    - r-tibble
    - r-tidyr
    - r-tidyselect

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3
  summary: Differential Composition and Variability Analysis for Single-Cell Data
  description: Comprehensive R package for differential composition and variability analysis in single-cell RNA sequencing, CyTOF, and microbiome data. Provides robust Bayesian modeling with outlier detection, random effects, and advanced statistical methods for cell type proportion analysis. Features include probabilistic outlier identification, mixed-effect modeling, differential variability testing, and comprehensive visualization tools. Perfect for cancer research, immunology, developmental biology, and single-cell genomics applications.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

