{% set version = "1.3.0" %}
{% set name = "merfishtools" %}
{% set sha256 = "5f2e2927a9ff3c1dfee73604cbf30da7c9f6eeb6292888842587e7ab6ec402e5" %}

package:
  name: {{ name }}
  version: {{ version }}

build:
  number: 2
  skip: True # [not py3k or osx]
  string: "py{{CONDA_PY}}_gsl{{CONDA_GSL}}_{{PKG_BUILDNUM}}"

source:
  fn: {{ name }}-{{version}}.tar.gz
  url: https://github.com/{{ name }}/{{ name }}/archive/v{{version}}.tar.gz
  sha256: {{ sha256 }}

requirements:
  build:
    - rust >=1.19
    - gcc 4.8.2 # newer gcc seems to be lacking Scrt1.o
    - gsl {{CONDA_GSL}}*
    - python
    - matplotlib
    - numpy
    - pandas
    - openblas
  run:
    - python
    - matplotlib
    - numpy
    - pandas
    - gsl {{CONDA_GSL}}*
    - openblas
    - libgcc

test:
  commands:
    - merfishtools --help
  imports:
    - merfishtools

about:
  home: https://merfishtools.github.io
  license: MIT
  summary: "MERFISHtools implement a Bayesian framework for accurately predicting
  gene or transcript expression from MERFISH data. On top, differential expression
  analysis can be performed for two or multiple conditions, including credible
  intervals for fold change and coefficient of variation, and controlling
  the expected false discovery rate."
