{% set name= "anvio" %}
{% set version = "7.1" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://github.com/merenlab/{{ name }}/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 7c021403ddd61d877cb1d0814ed4839aa31276f08079f58e483f3987611dbd66

build:
  number: 0 
  noarch: python
  script:
    - "{{ PYTHON }} -m pip install . -vv"

requirements:
  run:
    - bioconductor-qvalue
    - blast
    - bowtie2
    - bwa
    - centrifuge-core
    - diamond
    - fastani
    - fasttree
    - hmmer
    - iqtree
    - mcl
    - megahit
    - muscle =3.8.1551
    - prodigal
    - python >=3.7
    - r-base
    - r-magrittr
    - r-optparse
    - r-stringi
    - r-tidyverse
    - samtools =1.9
    - spades
    - sqlite >=3.31.1
    - tbb =2019.8
    - trimal
    - trnascan-se

test:
  commands:
    - anvi-self-test --help

about:
  home: http://merenlab.org/software/anvio/
  license: GPL-3.0-or-later
  license_family: GPL3
  summary: "A platform for integrated multi-omics"
  dev_url:  https://github.com/merenlab/anvio

extra:
  container:
    # extended-base generates en_US.UTF-8 locale and sets LC_ALL, LANG properly
    extended-base: True
  recipe-maintainers:
    - meren
    - vinisalazar
