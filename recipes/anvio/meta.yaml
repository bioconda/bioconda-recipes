{% set name= "anvio" %}
{% set version = "7.1" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://github.com/merenlab/{{ name }}/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 7c021403ddd61d877cb1d0814ed4839aa31276f08079f58e483f3987611dbd66

build:
  number: 0 
  noarch: python
  script:
    - "{{ PYTHON }} -m pip install . --no-deps -vv"

requirements:
  host:
    - pip
    - python >=3.7  
  run:
    - bioconductor-qvalue
    - blast
    - bottle  
    - bowtie2
    - bwa
    - centrifuge-core
    - colored  
    - diamond
    - django  
    - ete3  
    - fastani
    - fasttree
    - hmmer
    - illumina-utils  
    - iqtree
    - matplotlib-base 
    - mcl
    - megahit
    - mistune  
    - multiprocess  
    - muscle =3.8.1551
    - numba  
    - numpy  
    - pandas >=1.2.1  
    - paste  
    - plotext  
    - prodigal
    - psutil  
    - pyani  
    - pysam  
    - python >=3.7
    - r-base
    - r-magrittr
    - r-optparse
    - r-stringi
    - r-tidyverse
    - requests  
    - samtools =1.9
    - scikit-learn  
    - scipy
    - six
    - snakemake  
    - spades
    - sqlite >=3.31.1
    - statsmodels  
    - tbb =2019.8
    - tabulate  
    - trimal
    - trnascan-se

test:
  # commands:
  #   - anvi-self-test --help
  imports:
    - anvio

about:
  home: http://merenlab.org/software/anvio/
  license: GPL-3.0-or-later
  license_family: GPL3
  license_file: LICENSE.txt
  summary: "A platform for integrated multi-omics"
  dev_url:  https://github.com/merenlab/anvio

extra:
  container:
    # extended-base generates en_US.UTF-8 locale and sets LC_ALL, LANG properly
    extended-base: True
  recipe-maintainers:
    - meren
    - vinisalazar
