{% set version = "1.28.0" %}
{% set name = "amplican" %}
{% set bioc = "3.20" %}

about:
  description: '`amplican` performs alignment of the amplicon reads, normalizes gathered data, calculates multiple statistics (e.g. cut rates, frameshifts) and presents results in form of aggregated reports. Data and statistics can be broken down by experiments, barcodes, user defined groups, guides and amplicons allowing for quick identification of potential problems.'
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'
  summary: Automated analysis of CRISPR experiments

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-amplican", max_pin="x.x") }}'

extra:
  additional-platforms:
    - linux-aarch64
  identifiers:
    - biotools:amplican

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

# Suggests: testthat, BiocStyle, GenomicAlignments
requirements:

  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make

  host:
    - bioconductor-biocgenerics >=0.52.0,<0.53.0
    - bioconductor-biocparallel >=1.40.0,<1.41.0
    - bioconductor-biostrings >=2.74.0,<2.75.0
    - bioconductor-genomeinfodb >=1.42.0,<1.43.0
    - bioconductor-genomicranges >=1.58.0,<1.59.0
    - bioconductor-iranges >=2.40.0,<2.41.0
    - bioconductor-pwalign >=1.2.0,<1.3.0
    - bioconductor-s4vectors >=0.44.0,<0.45.0
    - bioconductor-shortread >=1.64.0,<1.65.0
    - r-base
    - r-cluster >=2.1.4
    - r-data.table >=1.10.4-3
    - r-dplyr >=0.7.2
    - r-ggplot2 >=3.3.4
    - r-ggthemes >=3.4.0
    - r-gridextra >=2.2.1
    - r-gtable >=0.2.0
    - r-knitr >=1.16
    - r-matrix >=1.2-10
    - r-matrixstats >=0.52.2
    - r-rcpp
    - r-rmarkdown >=1.6
    - r-stringr >=1.2.0
    - r-waffle >=0.7.0
    - libblas
    - liblapack

  run:
    - bioconductor-biocgenerics >=0.52.0,<0.53.0
    - bioconductor-biocparallel >=1.40.0,<1.41.0
    - bioconductor-biostrings >=2.74.0,<2.75.0
    - bioconductor-genomeinfodb >=1.42.0,<1.43.0
    - bioconductor-genomicranges >=1.58.0,<1.59.0
    - bioconductor-iranges >=2.40.0,<2.41.0
    - bioconductor-pwalign >=1.2.0,<1.3.0
    - bioconductor-s4vectors >=0.44.0,<0.45.0
    - bioconductor-shortread >=1.64.0,<1.65.0
    - r-base
    - r-cluster >=2.1.4
    - r-data.table >=1.10.4-3
    - r-dplyr >=0.7.2
    - r-ggplot2 >=3.3.4
    - r-ggthemes >=3.4.0
    - r-gridextra >=2.2.1
    - r-gtable >=0.2.0
    - r-knitr >=1.16
    - r-matrix >=1.2-10
    - r-matrixstats >=0.52.2
    - r-rcpp
    - r-rmarkdown >=1.6
    - r-stringr >=1.2.0
    - r-waffle >=0.7.0

source:
  md5: 5559c78c0eb1594ce6a7ce3c57aaf3e4
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name }}/bioconductor-{{ name }}_{{ version }}_src_all.tar.gz

test:
  commands:
    - $R -e "library('{{ name }}')"

