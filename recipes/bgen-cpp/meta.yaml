{% set name = "bgen-cpp" %}
{% set version = "1.1.7" %}
{% set sha256 = "69703c3f5d6d8c22bd933d2550caf4496f9c8b9876299b162e0b9a2ab2cfa605" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://github.com/nebfield/bgen-git-mirror/archive/refs/tags/v{{version}}.tar.gz
  sha256: {{ sha256 }}
  patches:
    - patch.file

build:
  number: 0
  run_exports:
    - {{ pin_subpackage('bgen-cpp', max_pin="x") }}

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host:
    - zlib
  run:
    - zlib

test:
  commands:
    - bgenix -help
    - cat-bgen -help
    - edit-bgen -help

about:
  home: https://enkre.net/cgi-bin/code/bgen/
  license: Boost Software License
  summary: 'Reference implementation of the BGEN format, written in C++'
  description: |
    Reference implementation of the BGEN format, written in C++.
    The library can be used as the basis for BGEN support
    in other software, or as a reference for developers
    writing their own implementations of the BGEN format.
    Includes applications for working with BGEN files: bgenix,
    cat-bgen, and edit-bgen.

extra:
  additional-platforms:
    - osx-arm64