package:
  name: fiji
  version: "20240614"

source:
  -   url: https://downloads.imagej.net/fiji/archive/20240614-2117/fiji-linux64.zip  # [linux-64]
      sha256: e2a02936a1b6c8f7dc60a81b635924fb35b4b9d08a53cfb7e32dde1e6bdb658b  # [linux-64]
  -   url: https://downloads.imagej.net/fiji/future/fiji-future-linux-arm64-20241022.zip  # [linux-aarch64]
      sha256: 5e784e103f98a3a8847859dd6df3b0eb50eaa950b2eb9bf41fb58b579766cba4  # [linux-aarch64]

build:
  number: 1
  skip: True # [osx]
  run_exports:
    - {{ pin_subpackage("fiji", max_pin=None) }}

requirements:
  host:
    - openjdk >=8.0 # [not aarch64]
    - openjdk >=21.0 # [aarch64]
  run:
    - openjdk >=8.0 # [not aarch64]
    - openjdk >=21.0 # [aarch64]

test:
  files:
    - hello.py
  commands:
    # (see run_test.sh for remainder of tests)
    - bunwarpj 2>&1 | grep 'Usage'
    - ImageJ --help 2>&1 | grep ImageJ

about:
  home: http://fiji.sc
  license: GPL-3.0-or-later
  summary: Fiji is an image processing packageâ€”a "batteries-included" distribution of ImageJ, 
    bundling a lot of plugins which facilitate scientific image analysis.

extra:
  additional-platforms:
    - linux-aarch64
  skip-lints:
    - should_be_noarch_generic
    - should_not_be_noarch_source
