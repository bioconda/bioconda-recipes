{% set name = "antiSMASH" %}
{% set version = "5.0.0" %}
{% set sha256 = "a562cd2efdad5e892c74117ba3f6215b048c368208b4bf5e3600bcc30845332c" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

build:
  number: 0
  noarch: python

source:
  url: https://dl.secondarymetabolites.org/releases/{{ version }}/antismash-{{ version }}.tar.gz
  sha256: {{ sha256 }}
  patches:
    - smiles.patch  # [osx]

requirements:
  host:
    - python >=3.5
    - pip
  run:
    - python >=3.5
    - argparse
    - backports.lzma
    - bcbio-gff
    - biopython >=1.71
    - blast ==2.2.*
    - clustalw
    - cssselect
    - diamond ==0.9.*
    - ete2
    - fasttree ==2.1.*
    - glimmer ==3.02
    - glimmerhmm ==3.0.*
    - helperlibs
    - hmmer ==3.1b2
    - hmmer2
    - openjdk
    - libxml2
    - mafft
    - matplotlib
    - meme <=4.11.2
    - muscle ==3.8.*
    - networkx
    - numpy
    - pandas
    - perl 5.26.*
    - perl-bioperl  
    - prodigal
    - pyexcelerator
    - pyquery
    - pyscss
    - pysvg-py3
    - scipy
    - scikit-learn >=0.19
    - xz

test:
  commands:
    - antismash -h

about:
  home: http://antismash.secondarymetabolites.org/
  license: AGPL-3.0
  license_family: AGPL
  license_file: LICENSE.txt
  summary: "antiSMASH allows the rapid genome-wide identification, annotation and analysis of secondary metabolite biosynthesis gene clusters."

extra:
  identifiers:
    - biotools:antismash
  skip-lints:
    - should_not_be_noarch_source
