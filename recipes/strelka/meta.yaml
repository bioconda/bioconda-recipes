{% set name = "strelka" %}
{% set version = "2.9.10" %}
{% set sha256 = "45e78efec6e5272697f1d0a95851c7ae0d623dc8f93846e11fe37f15da9f1e30" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/Illumina/strelka/releases/download/v{{ version }}/{{ name }}-{{ version }}.release_src.tar.bz2
  sha256: {{ sha256 }}
  patches:
    - boost.cmake.patch

build:
  number: 2
  run_exports:
    - {{ pin_subpackage('strelka', max_pin="x") }}

requirements:
  build:
    - {{ compiler('cxx') }}
    - cmake
    - make
  host:
    - doxygen
    - boost-cpp
    - zlib
  run:
    - python <3
    - boost-cpp

test:
  commands:
    - configureStrelkaGermlineWorkflow.py -h
    - configureStrelkaSomaticWorkflow.py -h

about:
  home: "https://github.com/Illumina/strelka"
  license: "GPL-3.0-or-later"
  license_family: GPL3
  license_file: "LICENSE.txt"
  summary: "Strelka calls somatic and germline small variants from mapped sequencing reads."
  dev_url: "https://github.com/Illumina/strelka"
  doc_url: "https://github.com/Illumina/strelka/blob/v2.9.x/docs/userGuide/README.md"

extra:
  identifiers:
    - biotools:strelka
    - usegalaxy-eu:strelka_germline
    - usegalaxy-eu:strelka_somatic
    - doi:10.1038/s41592-018-0051-x
  additional-platforms:
    - linux-aarch64
    - osx-arm64
