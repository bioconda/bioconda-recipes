{% set version = "1.6.0" %}
{% set name = "spoon" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name }}/bioconductor-{{ name }}_{{ version }}_src_all.tar.gz
  md5: 327d41036c6c3d81368134747ecc1b3a

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-spoon", max_pin="x.x") }}'
  noarch: generic

# Suggests: testthat, STexampleData, knitr, rmarkdown, BiocStyle
requirements:
  host:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-nnsvg >=1.14.0,<1.15.0
    - bioconductor-scuttle >=1.20.0,<1.21.0
    - bioconductor-spatialexperiment >=1.20.0,<1.21.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-brisc
    - r-matrix
  run:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-nnsvg >=1.14.0,<1.15.0
    - bioconductor-scuttle >=1.20.0,<1.21.0
    - bioconductor-spatialexperiment >=1.20.0,<1.21.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-brisc
    - r-matrix

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: MIT + file LICENSE
  summary: Address the Mean-variance Relationship in Spatial Transcriptomics Data
  description: This package addresses the mean-variance relationship in spatially resolved transcriptomics data. Precision weights are generated for individual observations using Empirical Bayes techniques. These weights are used to rescale the data and covariates, which are then used as input in spatially variable gene detection tools.
  license_file: LICENSE

