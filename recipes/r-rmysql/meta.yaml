{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-rmysql
  version: "0.10.9"

source:
  fn: RMySQL_0.10.9.tar.gz
  url:
    - http://cran.r-project.org/src/contrib/RMySQL_0.10.9.tar.gz
    - http://cran.r-project.org/src/contrib/Archive/RMySQL/RMySQL_0.10.9.tar.gz
  md5: 3628200a1864ac3005cfd55cc7cde17a

build:
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat
requirements:
  build:
    - r-base
    - r-dbi
    - gcc                 # [not osx]
    - llvm                # [osx]
    - mysqlclient

  run:
    - libgcc              # [not osx]
    - r-base
    - r-dbi
    - mysqlclient

test:
  commands:
    - $R -e "library('RMySQL')" # [not win]
    - "\"%R%\" -e \"library('RMySQL')\"" # [win]

about:
  home: https://github.com/rstats-db/rmysql, https://downloads.mariadb.org/connector-c/
  license: GPL-2
  summary: Implements 'DBI' Interface to 'MySQL' and 'MariaDB' Databases.
  license_family: GPL2
