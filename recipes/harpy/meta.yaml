{% set version = "0.5.0" %}
{% set sha256 = "77ba116665fd00a945b65072b86b4c54f672b1b74912309709f580f7329b4adf" %}

package:
  name: harpy
  version: '{{ version }}'

source:
  url: https://github.com/pdimens/harpy/archive/{{ version }}.tar.gz
  sha256: '{{ sha256 }}'

build:
  noarch: generic
  number: 0
  run_exports:
    - {{ pin_subpackage('harpy', max_pin="x.x") }}

requirements:
  host:
    - python
  run:
    - bcftools =1.19
    - multiqc
    - pysam =0.22
    - python
    - rich-click
    - snakemake
    - samtools
    - seqtk
    - tabix

test:
  commands:
    - "snakemake --version"
    - "harpy --version"
about:
  home: "https://github.com/pdimens/harpy/"
  license: MIT
  summary: "Process raw haplotagging data, from raw sequences to phased haplotypes."
  description: |
    Harpy is a command-line tool to easily process haplotag or 10x linked-read data. It uses
    Snakemake under the hood to execute different workflows (quality control, trimming, 
    alignment, variant calling, phasing, etc.), but the user is rarely, if ever, exposed
    to Snakemake directly. With an emphasis on user-friendliness, parallelization, transparency,
    and reproducibility, Harpy aims to quickly handle data processing so that you can focus more
    on analyzing your data. 
  doc_url: https://pdimens.github.io/harpy/
  dev_url: https://github.com/pdimens/harpy

extra:
  recipe-maintainers:
    - pdimens
