{% set version = "1.10.1" %}
{% set name = "MsBackendSql" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 1642df535acc00e488e015febb08b8cc

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-msbackendsql", max_pin="x.x") }}'
  noarch: generic

# Suggests: testthat, knitr (>= 1.1.0), roxygen2, BiocStyle (>= 2.5.19), RSQLite, msdata, rmarkdown, microbenchmark, mzR
requirements:
  host:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-mscoreutils >=1.22.0,<1.23.0
    - bioconductor-protgenerics >=1.42.0,<1.43.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-spectra >=1.20.0,<1.21.0
    - r-base
    - r-data.table
    - r-dbi
    - r-fastmatch
    - r-progress
    - r-stringi
  run:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-mscoreutils >=1.22.0,<1.23.0
    - bioconductor-protgenerics >=1.42.0,<1.43.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-spectra >=1.20.0,<1.21.0
    - r-base
    - r-data.table
    - r-dbi
    - r-fastmatch
    - r-progress
    - r-stringi

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: Artistic-2.0
  summary: SQL-based Mass Spectrometry Data Backend
  description: SQL-based mass spectrometry (MS) data backend supporting also storange and handling of very large data sets. Objects from this package are supposed to be used with the Spectra Bioconductor package. Through the MsBackendSql with its minimal memory footprint, this package thus provides an alternative MS data representation for very large or remote MS data sets.

