#!/bin/bash



touch dummy.fna

# If I could disable osx testing, I would like to run a simple job like assembly_stats. That would ensure 1) that all environments can be installed and 2) that the report can be created, even just for a very small genome fragment like the ecoli below.
asscom2 --dry-run

exit 0

# Normally, asscom2 uses apptainer, but here we wish to use conda to check that all environments can be installed etc.
ASSCOM2_PROFILE=${ASSCOM2_BASE}/profiles/conda/local

echo """>CP069692.1 Escherichia coli H20 strain MIN6 chromosome, complete genomeGTGTCACTTTCGCTTTGGCAGCAGTGTCTTGCCCGATTGCAGGATGAGTTACCAGCCACAGAATTCAGTATGTGGATACGCCCATTGCAGGCGGAACTGAGCGATAACACGCTGGCCCTGTACGCGCCAAACCGTTTTGTCCTCGATTGGGTACGGGACAAGTACCTTAATAATATCAATGGACTGCTAACCAGTTTCTGCGGAGCGGATGCCCCACAGCTGCGTTTTGAAGTCGGCACCAAACCGGTGACGCAAACGCCACAAGCGGCAGTGACGAGCAACGTCGCGGCCCCTGCACAGGTGGCGCAAACGCAGCCGCAACGTGCTGCGCCTTCTACGCGCTCAGGTTGGGATAACGTCCCGGCCCCGGCAGAACCGACCTATCGTTCTAACGTAAACGTCAAACACACGTTTGATAACTTCGTTGAAGGTAAATCTAACCAACTGGCGCGCGCGGCGGCTCGCCAGGTGGCGGATAACCCTGGCGGTGCCTATAACCCGTTGTTCCTTTATGGCGGCACGGGTCTGGGTAAAACTCACCTGCTGCATGCGGTGGGTAACGGCATTATGGCGCGCAAGCCGAATGCCAAAGTGGTTTATATGCACTCCGAGCGCTTTGTTCAGGACATGGTTAAAGCCCTGCAAAACAACGCGATCGAAGAGTTTAAACGCTACTACCGTTCCGTAGATGCACTGCTGATCGACGATATTCAGTTTTTTGCTAATAAAGAACGATCTCAGGAAGAGTTTTTCCATACCTTCAACGCCCTGCTGGAAGGTAATCAACAGATCATTCTCACCTCGGATCGCTATCCGAAAGAGATCAACGGCGTTGAGGATCGTTTGAAATCCCGCTTCGGTTGGGGACTGACTGTGGCGATCGAACCGCCAGAGCTGGAAACCCGTGTGGCGATCCTGATGAAAAAGGCCGACGAAAACGACATTCGTTTGCCGGGCGAAGTGGCGTTCTTTATCGCCAAGCGTCTACGATCTAACGTACGTGAGCTGGAAGGGGCGCTGAACCGCGTCATTGCCAATGCCAACTTTACCGGACGGGCGATCACCATCGACTTCGTGCGTGAGGCGCTGCGCGACTTGCTGGCATTGCAGGAAAAACTGGTCACCATCGACAATATTCAGAAGACGGTGGCGGAGTACTACAAGATCAAAGTCGCGGATCTCCTTTCCAAGCGTCGATCCCGCTCGGTGGCGCGTCCGCGCCAGATGGCGATGGCGCTGGCGAAAGAGCTGACTAACCACAGTCTGCCGGAGATTGGCGATGCGTTTGGTGGTCGTGACCACACGACGGTGCTTCATGCCTGCCGTAAGATCGAGCAGTTGCGTGAAGAGAGCCACGATATCAAAGAAGATTTTTCAAATTTAATCAGAACATTGTCATCGTAAACCTATGAAATTTACCGTAGAACGTGAGCATTTATTAAAACCGCTACAACAGGTGAGCGGTCCGTTAGGTGGTCGTCCTACGCTACCGATTCTCGGTAATCTGCTGTTACAGGTTGCTGACGGTACGTTGTCGCTGACCGGTACTGATCTCGAGATGGAAATGGTGGCACGTGTTGCGCTGGTTCAGCCACACGAGCCAGGAGCGACGACCGTTCCGGCGCGCAAATTCTTTGATATCTGCCGTGGTCTGCCTGAAGGCGCGGAAATTGCCGTGCAGCTGGAAGGTGAACGGATGCTGGTACGCTCCGGGCGTAGCCGTTTTTCGCTGTCTACCCTGCCAGCGGCGGATTTCCCGAACCTCGATGACTGGCAGAGTGAAGTCGAATTTACCCTGCCGCAGGCAACGATGAAGCGTCTGATTGAAGCGACCCAGTTTTCTATGGCGCATCAGGACGTTCGCTATTACTTAAATGGTATGCTGTTTGAAACCGAAGGTGAAGAACTGCGCACCGTGGCAACCGACGGCCACCGTCTGGCGGTCTGTTCAATGCCAATTGGTCAATCTTTGCCAAGCCATTCGGTGATCGTACCGCGTAAAGGCGTGATTGAACTGATGCGTATGCTCGACGGCGGCGACAATCCGCTGCGCGTACAGATTGGCAGCAACAACATTCGCGCCCACGTTGGCGACTTTATCTTCACCTCCAAACTGGTGGATGGTCGCTTCCCGGATTATCGCCGCGTTCTGCCGAAGAACCCGGACAAACATCTGGAAGCTGGCTGCGATCTGCTCAAGCAGGCGTTTGCTCGCGCGGCGATTCTCTCTAACGAGAAATTCCGCGGCGTACGTCTTTATGTCAGCGAAAACCAGCTGAAAATCACCGCCAACAACCCGGAACAGGAAGAAGCGGAAGAGATCCTCGACGTTACCTATAGCGGTGCGGAGATGGAAATCGGCTTCAACGTCAGCTATGTGCTGGATGTTCTGAACGCGCTGAAATGCGAAAACGTCCGCATGATGCTGACCGATTCGGTTTCCAGCGTGCAGATTGAAGATGCCGCATCACAGTCGGCTGCCTATGTTGTCATGCCAATGAGACTGTAATGTCCCTCACCCGCTTGTTGATCCGCGATTTCCGCAACATTGAAACCGCGGATCTCGCTTTATCTCCCGGCTTTAACTTTCTGGTAGGTGCCAACGGCAGTGGCAAAACCAGCGTGCTGGAAGCCATCTATACGCTCGGCCATGGTCGGGCGTTTCGCAGTTTGCAGATTGGTCGCGTCATTCGCCATGAGCAGGAGGCATTTGTTCTCCATGGGCGATTACAGGGCGAAGAGCGCGAGACGGCGATTGGCTTAACCAAGGACAAACAGGGCGACAGCAAAGTCCGCATCGACGGTACTGACGGGCATAAAGTCGCGGAACTGGCGCACCTGATGCCAATGCAGCTGATAACGCCAGAAGGGTTTACTTTACTCAACGGCGGCCCCAAATACAGAAGAGCATTCCTCGACTGGGGATGCTTTCACAACGAACCCGGATTTTTCACCGCCTGGAGCAATCTCAAGCGATTGCTCAAGCAGCGCAATGCGGCGCTGCGCCAGGTGACACGTTACGAACAGCTACGCCCGTGGG""" >> dummy1.fna

asscom2 --until assembly_stats


exit 0

echo $ASSCOM2_BASE
echo $ASSCOM2_PROFILE
echo $ASSCOM2_DATABASES

touch dummy.fna
snakemake --snakefile ${ASSCOM2_BASE}/snakefile --profile ${ASSCOM2_PROFILE} --configfile ${ASSCOM2_BASE}/config.yaml --dryrun


exit 0

echo """>CP069692.1 Escherichia coli H20 strain MIN6 chromosome, complete genomeGTGTCACTTTCGCTTTGGCAGCAGTGTCTTGCCCGATTGCAGGATGAGTTACCAGCCACAGAATTCAGTATGTGGATACGCCCATTGCAGGCGGAACTGAGCGATAACACGCTGGCCCTGTACGCGCCAAACCGTTTTGTCCTCGATTGGGTACGGGACAAGTACCTTAATAATATCAATGGACTGCTAACCAGTTTCTGCGGAGCGGATGCCCCACAGCTGCGTTTTGAAGTCGGCACCAAACCGGTGACGCAAACGCCACAAGCGGCAGTGACGAGCAACGTCGCGGCCCCTGCACAGGTGGCGCAAACGCAGCCGCAACGTGCTGCGCCTTCTACGCGCTCAGGTTGGGATAACGTCCCGGCCCCGGCAGAACCGACCTATCGTTCTAACGTAAACGTCAAACACACGTTTGATAACTTCGTTGAAGGTAAATCTAACCAACTGGCGCGCGCGGCGGCTCGCCAGGTGGCGGATAACCCTGGCGGTGCCTATAACCCGTTGTTCCTTTATGGCGGCACGGGTCTGGGTAAAACTCACCTGCTGCATGCGGTGGGTAACGGCATTATGGCGCGCAAGCCGAATGCCAAAGTGGTTTATATGCACTCCGAGCGCTTTGTTCAGGACATGGTTAAAGCCCTGCAAAACAACGCGATCGAAGAGTTTAAACGCTACTACCGTTCCGTAGATGCACTGCTGATCGACGATATTCAGTTTTTTGCTAATAAAGAACGATCTCAGGAAGAGTTTTTCCATACCTTCAACGCCCTGCTGGAAGGTAATCAACAGATCATTCTCACCTCGGATCGCTATCCGAAAGAGATCAACGGCGTTGAGGATCGTTTGAAATCCCGCTTCGGTTGGGGACTGACTGTGGCGATCGAACCGCCAGAGCTGGAAACCCGTGTGGCGATCCTGATGAAAAAGGCCGACGAAAACGACATTCGTTTGCCGGGCGAAGTGGCGTTCTTTATCGCCAAGCGTCTACGATCTAACGTACGTGAGCTGGAAGGGGCGCTGAACCGCGTCATTGCCAATGCCAACTTTACCGGACGGGCGATCACCATCGACTTCGTGCGTGAGGCGCTGCGCGACTTGCTGGCATTGCAGGAAAAACTGGTCACCATCGACAATATTCAGAAGACGGTGGCGGAGTACTACAAGATCAAAGTCGCGGATCTCCTTTCCAAGCGTCGATCCCGCTCGGTGGCGCGTCCGCGCCAGATGGCGATGGCGCTGGCGAAAGAGCTGACTAACCACAGTCTGCCGGAGATTGGCGATGCGTTTGGTGGTCGTGACCACACGACGGTGCTTCATGCCTGCCGTAAGATCGAGCAGTTGCGTGAAGAGAGCCACGATATCAAAGAAGATTTTTCAAATTTAATCAGAACATTGTCATCGTAAACCTATGAAATTTACCGTAGAACGTGAGCATTTATTAAAACCGCTACAACAGGTGAGCGGTCCGTTAGGTGGTCGTCCTACGCTACCGATTCTCGGTAATCTGCTGTTACAGGTTGCTGACGGTACGTTGTCGCTGACCGGTACTGATCTCGAGATGGAAATGGTGGCACGTGTTGCGCTGGTTCAGCCACACGAGCCAGGAGCGACGACCGTTCCGGCGCGCAAATTCTTTGATATCTGCCGTGGTCTGCCTGAAGGCGCGGAAATTGCCGTGCAGCTGGAAGGTGAACGGATGCTGGTACGCTCCGGGCGTAGCCGTTTTTCGCTGTCTACCCTGCCAGCGGCGGATTTCCCGAACCTCGATGACTGGCAGAGTGAAGTCGAATTTACCCTGCCGCAGGCAACGATGAAGCGTCTGATTGAAGCGACCCAGTTTTCTATGGCGCATCAGGACGTTCGCTATTACTTAAATGGTATGCTGTTTGAAACCGAAGGTGAAGAACTGCGCACCGTGGCAACCGACGGCCACCGTCTGGCGGTCTGTTCAATGCCAATTGGTCAATCTTTGCCAAGCCATTCGGTGATCGTACCGCGTAAAGGCGTGATTGAACTGATGCGTATGCTCGACGGCGGCGACAATCCGCTGCGCGTACAGATTGGCAGCAACAACATTCGCGCCCACGTTGGCGACTTTATCTTCACCTCCAAACTGGTGGATGGTCGCTTCCCGGATTATCGCCGCGTTCTGCCGAAGAACCCGGACAAACATCTGGAAGCTGGCTGCGATCTGCTCAAGCAGGCGTTTGCTCGCGCGGCGATTCTCTCTAACGAGAAATTCCGCGGCGTACGTCTTTATGTCAGCGAAAACCAGCTGAAAATCACCGCCAACAACCCGGAACAGGAAGAAGCGGAAGAGATCCTCGACGTTACCTATAGCGGTGCGGAGATGGAAATCGGCTTCAACGTCAGCTATGTGCTGGATGTTCTGAACGCGCTGAAATGCGAAAACGTCCGCATGATGCTGACCGATTCGGTTTCCAGCGTGCAGATTGAAGATGCCGCATCACAGTCGGCTGCCTATGTTGTCATGCCAATGAGACTGTAATGTCCCTCACCCGCTTGTTGATCCGCGATTTCCGCAACATTGAAACCGCGGATCTCGCTTTATCTCCCGGCTTTAACTTTCTGGTAGGTGCCAACGGCAGTGGCAAAACCAGCGTGCTGGAAGCCATCTATACGCTCGGCCATGGTCGGGCGTTTCGCAGTTTGCAGATTGGTCGCGTCATTCGCCATGAGCAGGAGGCATTTGTTCTCCATGGGCGATTACAGGGCGAAGAGCGCGAGACGGCGATTGGCTTAACCAAGGACAAACAGGGCGACAGCAAAGTCCGCATCGACGGTACTGACGGGCATAAAGTCGCGGAACTGGCGCACCTGATGCCAATGCAGCTGATAACGCCAGAAGGGTTTACTTTACTCAACGGCGGCCCCAAATACAGAAGAGCATTCCTCGACTGGGGATGCTTTCACAACGAACCCGGATTTTTCACCGCCTGGAGCAATCTCAAGCGATTGCTCAAGCAGCGCAATGCGGCGCTGCGCCAGGTGACACGTTACGAACAGCTACGCCCGTGGG""" >> dummy1.fna




snakemake --snakefile ${ASSCOM2_BASE}/snakefile --profile ${ASSCOM2_PROFILE} --configfile ${ASSCOM2_BASE}/config.yaml --dryrun

snakemake --snakefile ${ASSCOM2_BASE}/snakefile --profile ${ASSCOM2_PROFILE} --configfile ${ASSCOM2_BASE}/config.yaml --until assembly_stats sequence_lengths


