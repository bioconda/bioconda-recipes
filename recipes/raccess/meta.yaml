{% set name = "raccess" %}
{% set version = "0.0.0+git" %}

package:
    name: {{ name }}
    version: {{ version }}

source:
   url: https://github.com/gterai/raccess/archive/ad29d098b62606aa4051951469780b4e7be54536.tar.gz
   sha256: 70bc9b26d74c6535395c6ea75bcd5f6fdb4fadab2ad3137f66f01397eae1965c
   patches:
    - raccess_fix.patch
    - raccess_makefile.patch
    - raccess_bugfix.patch
    - raccess_fix_link.patch
build:
   number: 0
   run_exports:
     - {{ pin_subpackage('raccess', max_pin='x.x') }}
requirements:
  build:
    - {{ compiler('cxx') }}
    - make
  host:
    - zlib
  run: []

test:
  commands:
    - raccess -h 2>&1 | grep -i -E "bad option"
    - raccess 2>&1 || true

about:
  home: https://github.com/gterai/raccess
  license: MIT
  summary: "Fast RNA accessibility estimator"

extra:
  recipe-maintainers:
    - RedPenguin100
  skip-lints:
    - missing_run_exports