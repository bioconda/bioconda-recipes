{% set name = "connectome-workbench" %}
{% set version = "1.3.2" %}
{% set sha256 = "5574da8fcba810f5de1a3f70691cd763f927413d73f3b107142041272bf4edc9" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url:  https://github.com/Washington-University/workbench/archive/v{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 1
  skip: True # [osx]

requirements:
  build:
    - make
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake >=2.8
    - {{ cdt('mesa-libgl-devel') }}
    - {{ cdt('libselinux') }}
    - {{ cdt('libxdamage') }}
    - {{ cdt('libxxf86vm') }}
  host:
    - qt >=5.7
    - libpng
    - zlib
    - openssl
    - openmp
    - freetype
    - mesa
    - libglu
    - xorg-libx11
    - xorg-libxext
    - xorg-libxfixes
    - xorg-libxcb
    - xorg-libxau
    - xorg-libxdmcp

  run:
    - qt >=5.6
    - libpng
    - zlib
    - openssl
    - openmp
    - freetype
    - mesa
    - libglu
    - xorg-libx11
    - xorg-libxext
    - xorg-libxfixes
    - xorg-libxcb
    - xorg-libxau
    - xorg-libxdmcp

test:
  commands:
    - wb_command -help
    - wb_view -help
    - wb_shortcuts -help

about:
  home: https://www.humanconnectome.org/software/connectome-workbench
  summary: "Connectome Workbench is an open source, freely available visualization and discovery tool used to map neuroimaging data, especially data generated by the Human Connectome Project"
  license: GPL-2.0
  license_family: GPL
  license_file: LICENSE
  dev_url: https://github.com/Washington-University/workbench

extra:
  container:
    extended-base: True
