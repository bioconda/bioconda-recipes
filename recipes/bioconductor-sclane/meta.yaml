{% set version = "1.0.0" %}
{% set name = "scLANE" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: d07c7c0fbccd31755c9f931a01d95a38

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-sclane", max_pin="x.x") }}'

# Suggests: covr, grid, coop, uwot, scran, ggh4x, knitr, UCell, irlba, rlang, magick, igraph, scater, gtable, ggpubr, viridis, bluster, cluster, circlize, speedglm, rmarkdown, gridExtra, BiocStyle, slingshot, gprofiler2, GenomeInfoDb, BiocParallel, BiocGenerics, BiocNeighbors, ComplexHeatmap, Seurat (>= 5.0.0), testthat (>= 3.0.0), SingleCellExperiment, SummarizedExperiment
requirements:

  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make

  host:
    - r-base
    - r-bigstatsr
    - r-broom.mixed
    - r-dosnow
    - r-dplyr
    - r-foreach
    - r-furrr
    - r-future
    - r-gamlss
    - r-geem
    - r-ggplot2
    - r-glm2
    - r-glmmtmb
    - r-magrittr
    - r-mass
    - r-matrix
    - r-mpath
    - r-purrr
    - r-rcpp
    - r-rcppeigen
    - r-scales
    - r-tidyr
    - r-tidyselect
    - r-withr
    - libblas
    - liblapack
    - zlib
    - liblzma-devel

  run:
    - r-base
    - r-bigstatsr
    - r-broom.mixed
    - r-dosnow
    - r-dplyr
    - r-foreach
    - r-furrr
    - r-future
    - r-gamlss
    - r-geem
    - r-ggplot2
    - r-glm2
    - r-glmmtmb
    - r-magrittr
    - r-mass
    - r-matrix
    - r-mpath
    - r-purrr
    - r-rcpp
    - r-rcppeigen
    - r-scales
    - r-tidyr
    - r-tidyselect
    - r-withr

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: MIT + file LICENSE
  summary: Model Gene Expression Dynamics with Spline-Based NB GLMs, GEEs, & GLMMs
  description: Our scLANE model uses truncated power basis spline models to build flexible, interpretable models of single cell gene expression over pseudotime or latent time. The modeling architectures currently supported are Negative-binomial GLMs, GEEs, & GLMMs. Downstream analysis functionalities include model comparison, dynamic gene clustering, smoothed counts generation, gene set enrichment testing, & visualization.
  license_file: LICENSE

