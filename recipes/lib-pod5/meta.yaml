{% set name = "lib-pod5" %}
{% set version = "0.3.23" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/nanoporetech/pod5-file-format/releases/download/{{ version }}/pod5-{{ version }}.tar.gz
  sha256: 4d400545ac09cf2b62ba3ef107e80f5a9f75ee6433a1b521bbfad48af1072b4d

build:
  number: 0
  noarch: python
  script:
    - {{ PYTHON }} -m pip install https://files.pythonhosted.org/packages/34/98/605ef0c669abdccf15536d2d9f71bbd13596c174be0a617239672b9111ff/lib_pod5-{{ version }}-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl -vvv --no-deps --no-build-isolation --no-cache-dir  # [linux and x86_64]
    - {{ PYTHON }} -m pip install https://files.pythonhosted.org/packages/64/71/57f1435bad5aea19e198c430801a5f4b25351d95c096a46871c46e7d887d/lib_pod5-{{ version }}-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl -vvv --no-deps --no-build-isolation --no-cache-dir  # [linux and aarch64]
    - {{ PYTHON }} -m pip install https://files.pythonhosted.org/packages/fd/f3/f367a60f0db6e9a9c85857f3acae400cde31d726772ba58e5d6df35c76e9/lib_pod5-{{ version }}-cp313-cp313-macosx_10_15_universal2.whl -vvv --no-deps --no-build-isolation --no-cache-dir  # [osx and x86_64]
    - {{ PYTHON }} -m pip install https://files.pythonhosted.org/packages/78/ce/bddddc6cc48089e5826271b4276b79ebd62f6ea99249a4efc6574b74b7e5/lib_pod5-{{ version }}-cp313-cp313-macosx_11_0_arm64.whl -vvv --no-deps --no-build-isolation --no-cache-dir  # [osx and arm64]
  run_exports:
    - {{ pin_subpackage('lib-pod5', max_pin="x.x") }}

requirements:
  host:
    - python >=3.8
    - pybind11 >=2.10.0
    - pip
    - setuptools
  run:
    - python >=3.8
    - numpy >=1.21.0

test:
  imports:
    - lib_pod5

about:
  home: https://github.com/nanoporetech/pod5-file-format
  summary: "Python bindings for the POD5 file format."
  license: "MPL-2.0"
  license_family: OTHER
  license_file: "LICENSE.md"
  dev_url: https://github.com/nanoporetech/pod5-file-format
  doc_url: https://pod5-file-format.readthedocs.io/en/latest
  description: |
    [![Documentation Status](https://readthedocs.org/projects/pod5-file-format/badge/?version=latest)](https://pod5-file-format.readthedocs.io/)

    **Python bindings for the POD5 file format**

    What does this project contain
    ------------------------------

    This project contains the low-level core library (extension modules) for reading and writing POD5 files.
    This project forms the basis of the pure-python [pod5 package](https://github.com/nanoporetech/pod5-file-format) which is probably the project you want.

    Documentation
    -------------

    Full documentation is found at https://pod5-file-format.readthedocs.io
