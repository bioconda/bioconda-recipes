{% set name = "svtyper-python3" %}
{% set version = "0.7.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  # Using git_url and git_rev for robustness.
  # This commit is the latest on the main branch as of Dec 5, 2022.
  git_url: https://github.com/matteobolner/svtyper_python3.git
  git_rev: 988bea80177c35babb4ed40da5f3cecb58fb7b0f

build:
  number: 0
  noarch: python
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed -vv"
  entry_points:
    - svtyper = svtyper.cli:main

requirements:
  host:
    - python >=3.6
    - pip
    - setuptools
  run:
    - python >=3.6
    - pysam >=0.15.0
    - numpy
    - cytoolz

test:
  imports:
    - svtyper
  commands:
    - svtyper --help

about:
  home: https://github.com/matteobolner/svtyper_python3
  summary: 'Bayesian genotyper for structural variants (Python 3 compatible fork)'
  license: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - drosofff

