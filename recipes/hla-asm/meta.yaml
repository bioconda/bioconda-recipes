{% set version = "1.0.1" %}

package:
  name: "hla-asm"
  version: "{{ version }}"

build:
  number: 0
  #skip: True  # [not linux]
  noarch: generic

source:
  #- url: https://raw.githubusercontent.com/DiltheyLab/HLA-LA/master/findPath.pm
  - url: https://raw.githubusercontent.com/DiltheyLab/HLA-LA/2a56726580a31a4f9c6f2eea4e312a178b5500e4/findPath.pm
    md5: 816171a2673a806643cd7b857bd88bee
  #- url: https://raw.githubusercontent.com/DiltheyLab/HLA-LA/master/HLA-ASM.pl
  - url: https://raw.githubusercontent.com/DiltheyLab/HLA-LA/2a56726580a31a4f9c6f2eea4e312a178b5500e4/HLA-ASM.pl
    md5: 2e4c663fff49d26dd0289c02f89a69b5

requirements:
  host:
  run:
    - bwa
    - mummer
    - samtools
    - perl-bioperl
    - perl-bio-db-hts
    - perl-text-levenshteinxs
    - perl-list-moreutils

about:
  home: https://github.com/DiltheyLab/HLA-LA/blob/master/HLA-ASM.md
  license: GPL
  summary: find HLA gene exon coordinates in long read-based assemblies and carry out HLA typing at G group resolution

test:
  commands:
    #- find / -name HTS.pm 2>/dev/null
    #- PERL5LIB=$PERL5LIB:$PREFIX/lib/perl5/5.32/site_perl HLA-ASM.pl --testing 1
    - command -v HLA-ASM.pl
    - perl -I$PREFIX/lib/perl5/5.32/site_perl $PREFIX/bin/HLA-ASM.pl --testing 1

extra:
  identifiers:
    - biotools:hla-asm
