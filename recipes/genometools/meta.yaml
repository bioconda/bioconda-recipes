{% set version = "0.4.1" %}
{% set sha256 = "2379cf4a97f5387d5d8d404fe73f17dc60b47870a0450fe55cdeb3ef16d56d9a" %}

package:
  name: genometools
  version: {{ version }}

source:
  url: https://pypi.python.org/packages/source/g/genometools/genometools-{{version}}.tar.gz
  sha256: '{{sha256}}'

build:
  number: 0
  noarch: python
  script: python -m pip install --no-deps --ignore-installed .

  #  entry_points:
  #    - ensembl_filter_fasta.py = genometools.ensembl.filter_fasta:main
  #    - ensembl_extract_protein_coding_genes.py = genometools.ensembl.extract_protein_coding_genes:main
  #    - ensembl_extract_protein_coding_gene_ids.py = genometools.ensembl.extract_protein_coding_gene_ids:main
  #    - ensembl_extract_protein_coding_exon_annotations.py = genometools.ensembl.extract_protein_coding_exon_annotations:main
  #    - ncbi_extract_entrez2gene.py = genometools.ncbi.extract_entrez2gene:main
  #    - geo_generate_sample_sheet.py = genometools.geo.generate_sample_sheet:main
  #    - sra_find_experiment_runs.py = genometools.sra.find_experiment_runs:main
  #    - seq_trim_fastq.py = genometools.seq.trim_fastq:main
  #    - rnaseq_stringtie_gene_level_expression.py = genometools.rnaseq.stringtie_gene_level_expression:main
  #    - exp_convert_entrez2gene.py = genometools.expression.convert_entrez2gene:main

requirements:
  host:
    - python
    - pip
  run:
    - python
    - plotly <3,>=1.9.6
    - scipy >=1.0
      #    - six>=1.5.2, <2
      #    - future>=0.15.2, <1
      #    - requests>=2.9.1, <3
      #    - unicodecsv>=0.14.1, <1
      #    - xmltodict>=0.10.1, <1
      #    - ftputil>=3.3.1, <4
      #    - numpy>=1.8, <2
      #    - pandas>=0.20.1, <1
      #    - #xlmhg>=2.4.9, <3
    - xlmhg
    - google-cloud-storage>=0.23.1
    - oauth2client>=4, <5
    - jinja2>=2.9.5, <3
    - biopython>=1.69
    - sortedcontainers>=1.5.7,<2

test:
  imports:
    - genometools
    - genometools.basic
    - genometools.ebi
    - genometools.ensembl
    - genometools.expression
    - genometools.geo
    - genometools.misc
    - genometools.ncbi
    - genometools.rnaseq
    - genometools.seq
    - genometools.sra

  commands:
    - ensembl_extract_protein_coding_genes.py --help | grep -qF 'usage'
    - ensembl_extract_protein_coding_gene_ids.py --help | grep -qF 'usage'
    - ensembl_extract_protein_coding_exon_annotations.py --help | grep -qF 'usage'
    - ncbi_extract_entrez2gene.py --help | grep -qF 'usage'
    - geo_generate_sample_sheet.py --help | grep -qF 'usage'
    - sra_find_experiment_runs.py --help | grep -qF 'usage'
    - seq_trim_fastq.py --help | grep -qF 'usage'
    - rnaseq_stringtie_gene_level_expression.py --help | grep -qF 'usage'
    - exp_convert_entrez2gene.py --help | grep -qF 'usage'

about:
  home: https://github.com/flo-compbio/genometools
  license: GPL-3.0
  license_family: GPL
  summary: 'GenomeTools: Scripts and Classes For Working With Genomic Data.'
