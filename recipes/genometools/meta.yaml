{% set version = "0.3.5" %}
{% set sha256 = "fa81384f7f987141ec4497414b208b6e610de4417c8096916c421188ecdf98d3" %}

package:
  name: genometools
  version: {{ version }}

source:
  url: https://pypi.python.org/packages/source/g/genometools/genometools-{{version}}.tar.gz
  sha256: '{{sha256}}'

build:
  number: 0
  noarch: python
  script: python -m pip install --no-deps --ignore-installed .

  entry_points:
    - ensembl_filter_fasta.py = genometools.ensembl.filter_fasta:main
    - ensembl_extract_protein_coding_genes.py = genometools.ensembl.extract_protein_coding_genes:main
    - ensembl_extract_protein_coding_gene_ids.py = genometools.ensembl.extract_protein_coding_gene_ids:main
    - ensembl_extract_protein_coding_exon_annotations.py = genometools.ensembl.extract_protein_coding_exon_annotations:main
    - ncbi_extract_entrez2gene.py = genometools.ncbi.extract_entrez2gene:main
    - geo_generate_sample_sheet.py = genometools.geo.generate_sample_sheet:main
    - sra_find_experiment_runs.py = genometools.sra.find_experiment_runs:main
    - seq_trim_fastq.py = genometools.seq.trim_fastq:main
    - rnaseq_stringtie_gene_level_expression.py = genometools.rnaseq.stringtie_gene_level_expression:main
    - exp_convert_entrez2gene.py = genometools.expression.convert_entrez2gene:main

requirements:
  host:
    - python
    - pip
  run:
    - python
    - plotly <3,>=1.9.6

test:
  imports:
    - genometools
    - genometools.basic
    - genometools.ebi
    - genometools.ensembl
    - genometools.expression
    - genometools.geo
    - genometools.misc
    - genometools.ncbi
    - genometools.rnaseq
    - genometools.seq
    - genometools.sra

  commands:
    - ensembl_extract_protein_coding_genes.py --help | grep -qF 'usage'
    - ensembl_extract_protein_coding_gene_ids.py --help | grep -qF 'usage'
    - ensembl_extract_protein_coding_exon_annotations.py --help | grep -qF 'usage'
    - ncbi_extract_entrez2gene.py --help | grep -qF 'usage'
    - geo_generate_sample_sheet.py --help | grep -qF 'usage'
    - sra_find_experiment_runs.py --help | grep -qF 'usage'
    - seq_trim_fastq.py --help | grep -qF 'usage'
    - rnaseq_stringtie_gene_level_expression.py --help | grep -qF 'usage'
    - exp_convert_entrez2gene.py --help | grep -qF 'usage'

about:
  home: https://github.com/flo-compbio/genometools
  license: GPL-3.0
  license_family: GPL
  summary: 'GenomeTools: Scripts and Classes For Working With Genomic Data.'
