{% set version = "0.12.0" %}
{% set name = "binchicken" %}
{% set sha256 = "3210e8ddcceeb77c18d04a16686d27b47018d229e5105c3d38af92a5f228f2d4" %}

package:
  name: binchicken
  version: {{ version }}

build:
  number: 0
  noarch: python
  script: "{{ PYTHON }} -m pip install . -vv"
  run_exports:
    - {{ pin_subpackage('binchicken', max_pin="x") }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ sha256 }}

requirements:
  host:
    - python >=3.8
    - pip
  run:
    - python =3.10.*
    - snakemake =7.32.*
    - mamba =1.4.*
    - networkx =3.1
    - bird_tool_utils_python =0.4.*
    - extern =0.4.*
    - ruamel.yaml =0.17.*
    - polars =0.20.31
    - pigz =2.3.*
    - pyarrow =12.0.*
    - parallel =20230522
    - sourmash =4.8.*
    - sourmash_plugin_branchwater =0.9.*
    - pyopenssl >22.1.0

test:
  commands:
    - {{ name }} --version | grep '{{ version }}'

about:
  home: https://github.com/aroneys/binchicken
  license: GNU General Public v3 (GPLv3)
  license_family: GPL3
  license_file: LICENSE
  summary: Targeted recovery of low abundance metagenome assembled genomes through intelligent coassembly
