{% set version = "2.0.4" %}
{% set name = "rust-proseg" %}
{% set sha256 = "392c49936e062806bc1f2c95d55ad94d98157074d5e13b73288488c92bb05880" %}

package:
  name: "{{ name }}"
  version: "{{ version }}"

build:
  number: 0

source:
  url: "https://github.com/dcjones/proseg/archive/refs/tags/v{{ version }}.tar.gz"
  sha256: "{{ sha256 }}"

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('rust') }}
  run_exports:
    - {{ pin_subpackage('rust-proseg', max_pin="x.x") }}

test:
  commands:
    - proseg --version
    - proseg-to-baysor --help

about:
  home: https://github.com/dcjones/proseg
  doc_url: "https://github.com/dcjones/proseg"
  license: GPLv3
  license_family: GPL3
  license_file: LICENSE
  summary: |
    A Rust crate for running Proseg, a cell segmentation method for in situ spatial transcriptomics.

extra:
  additional-platforms:
    - linux-aarch64
    - osx-arm64
