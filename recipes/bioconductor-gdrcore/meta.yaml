{% set version = "1.8.0" %}
{% set name = "gDRcore" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 592d5e7ffade43ab1ff4f6106e77eec4

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-gdrcore", max_pin="x.x") }}'

# Suggests: BiocStyle, gDRstyle (>= 1.7.1), gDRimport (>= 1.7.1), gDRtestData (>= 1.7.1), IRanges, knitr, pkgbuild, qs, testthat, yaml
requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make
  host:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-bumpymatrix >=1.18.0,<1.19.0
    - bioconductor-gdrutils >=1.8.0,<1.9.0
    - bioconductor-multiassayexperiment >=1.36.0,<1.37.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-checkmate
    - r-data.table
    - r-futile.logger
    - r-purrr
    - r-stringr
    - libblas
    - liblapack
    - zlib
    - liblzma-devel
  run:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-bumpymatrix >=1.18.0,<1.19.0
    - bioconductor-gdrutils >=1.8.0,<1.9.0
    - bioconductor-multiassayexperiment >=1.36.0,<1.37.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-checkmate
    - r-data.table
    - r-futile.logger
    - r-purrr
    - r-stringr

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: Artistic-2.0
  summary: Processing functions and interface to process and analyze drug dose-response data
  description: This package contains core functions to process and analyze drug response data. The package provides tools for normalizing, averaging, and calculation of gDR metrics data. All core functions are wrapped into the pipeline function allowing analyzing the data in a straightforward way.

