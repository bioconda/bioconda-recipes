{% set version = "1.0.0" %}
{% set name = "SPICEY" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: facd0aacc1572a4d87306339d24f6d9b

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-spicey", max_pin="x.x") }}'
  noarch: generic

# Suggests: BiocStyle, knitr, rmarkdown, TxDb.Hsapiens.UCSC.hg38.knownGene, org.Hs.eg.db, testthat (>= 3.0.0)
requirements:
  host:
    - bioconductor-annotationdbi >=1.72.0,<1.73.0
    - bioconductor-genomeinfodb >=1.46.0,<1.47.0
    - bioconductor-genomicfeatures >=1.62.0,<1.63.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - r-base
    - r-cowplot
    - r-dplyr
    - r-ggplot2
    - r-scales
    - r-tibble
    - r-tidyr
  run:
    - bioconductor-annotationdbi >=1.72.0,<1.73.0
    - bioconductor-genomeinfodb >=1.46.0,<1.47.0
    - bioconductor-genomicfeatures >=1.62.0,<1.63.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - r-base
    - r-cowplot
    - r-dplyr
    - r-ggplot2
    - r-scales
    - r-tibble
    - r-tidyr

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: Artistic-2.0
  summary: Calculates cell type specificity from single cell data
  description: 'SPICEY (SPecificity Index for Coding and Epigenetic activitY) is an R package designed to quantify cell-type specificity in single-cell transcriptomic and epigenomic data, particularly scRNA-seq and scATAC-seq. It introduces two complementary indices: the Gene Expression Tissue Specificity Index (GETSI) and the Regulatory Element Tissue Specificity Index (RETSI), both based on entropy to provide continuous, interpretable measures of specificity. By integrating gene expression and chromatin accessibility, SPICEY enables standardized analysis of cell-type-specific regulatory programs across diverse tissues and conditions.'

