{% set name = "pyhalcyon" %}
{% set version = "0.1.0" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: "https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz"
  sha256: f10562d91e47cd088fab08afb8e3d487c28700af07519ff0c5d2162562a9bbd9

build:
  number: 0
  entry_points:
    - halcyon = halcyon.console:main
  script: "{{ PYTHON }} -m pip install . -vv"
  noarch: python

requirements:
  host:
    - biopython ==1.75
    - click ==7.1.2
    - click-help-colors ==0.8
    - h5py ==2.10.0
    - logzero ==1.5.0
    - more-itertools ==8.4.0
    - numpy <1.17
    - pip
    - python >=3.7
    - requests ==2.24.0
    - tensorflow <1.15.0
    - ujson ==1.35
    - poetry
  run:
    - biopython ==1.75
    - click ==7.1.2
    - click-help-colors ==0.8
    - h5py ==2.10.0
    - logzero ==1.5.0
    - more-itertools ==8.4.0
    - numpy <1.17
    - python
    - requests ==2.24.0
    - tensorflow <1.15.0
    - ujson ==1.35
    - poetry

test:
  imports:
    - halcyon
    - halcyon.infer
    - halcyon.ml
    - halcyon.ml.input_data
    - halcyon.ml.net
    - halcyon.ml.net.decoder
    - halcyon.models
  commands:
    - halcyon --help
  requires:
    - pytest ==6.0.1
    - flake8 ==3.8.3
    - autopep8 ==1.5.4
    - pyflakes ==2.2.0
    - coverage ==5.2.1
    - isort ==5.4.2
    - poetry

about:
  home: The package home page
  license: GPLv3
  summary: "Halcyon: an accurate basecaller exploiting an encoder-decoder model with monotonic attention"
  doc_url: https://github.com/relastle/halcyon
  dev_url: https://github.com/relastle/halcyon

extra:
  recipe-maintainers:
    - your-github-id-here
