{% set version = "4.2.2" %}

package:
  name: philosopher
  version: {{ version }}

source:
  - url: https://github.com/Nesvilab/philosopher/releases/download/v{{ version }}/philosopher_v{{ version }}_linux_amd64.zip # [linux]
    sha256: 605df4abc48de547169f239ab120c14269b5bd5232a9f646275e34b9d341be38 # [linux]
  - url: https://github.com/Nesvilab/philosopher/releases/download/v{{ version }}/philosopher_v{{ version }}_freebsd_amd64.zip # [osx]
    sha256: 316f488db83f2075497b6ddb841f9b10c594fc3719cb63e7f64f0932cbbfa4f3 # [osx]

build:
  number: 0
  script:
    - mkdir -p $PREFIX/bin
    - chmod ugo+x philosopher
    - cp philosopher philosopher.yml $PREFIX/bin

requirements:
  run:
    - msfragger ==3.5
    - comet-ms ==2019015

test:
  commands:
    - philosopher --help
    - msfragger --help
    - comet -p && rm comet.params.new

about:
  home: https://github.com/Nesvilab/philosopher
  summary: Data analysis software for mass spectrometry-based proteomics
  license: GPL-3.0

extra:
  skip-lints:
    - should_be_noarch_generic
    - should_not_be_noarch_source
