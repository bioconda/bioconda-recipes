{% set name = "read5" %}
{% set version = "1.1.7" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: "https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz"
  sha256: 529219b48cd04b7cf6ac6bc2b9e9092f777db5c9269ca0b29093be66a6de4133

build:
  number: 0
  script: "{{ PYTHON }} -m pip install --no-deps --ignore-installed -vv ."

requirements:
  host:
    - python >=3.8,<3.11
    - pip
  run:
    - python >=3.8,<3.11
    - h5py >=3.0
    - numpy >=1.20
    - pyslow5 >=1.0.0
    - ont_vbz_hdf_plugin >=1.0
    # - pod5 >=0.2.3 # currently not available in conda

test:
  source_files:
    - tests
  requires:
    - pytest
  commands:
    - pip install pod5
    - pytest

about:
  home: https://github.com/JannesSP/read5
  license: "GNU General Public v3 (GPLv3)"
  license_family: GPL3
  summary: "Wrapper to read fast5, slow5, blow5 and pod5 files."
  doc_url: https://github.com/JannesSP/read5.github.io
  dev_url: https://github.com/JannesSP/read5

extra:
  recipe-maintainers:
    - 38325576
