{% set version = "1.16.0" %}
{% set name = "csdR" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 0cd2f805999ccb630344919d2e13dbbc

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-csdr", max_pin="x.x") }}'

# Suggests: rmarkdown, knitr, testthat (>= 3.0.0), BiocStyle, magrittr, igraph, dplyr
requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make
  host:
    - r-base
    - r-glue
    - r-matrixstats
    - r-rcpp
    - r-rhpcblasctl
    - r-wgcna
    - libblas
    - liblapack
    - zlib
    - liblzma-devel
  run:
    - r-base
    - r-glue
    - r-matrixstats
    - r-rcpp
    - r-rhpcblasctl
    - r-wgcna

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3
  summary: Differential gene co-expression
  description: This package contains functionality to run differential gene co-expression across two different conditions. The algorithm is inspired by Voigt et al. 2017 and finds Conserved, Specific and Differentiated genes (hence the name CSD). This package include efficient and variance calculation by bootstrapping and Welford's algorithm.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

