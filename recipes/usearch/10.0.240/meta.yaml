{% set name = "usearch" %}
{% set version = "10.0.240" %}

package:
  name: "{{ name|lower }}"
  version: {{ version |replace("-", "_") }}

source:
  - url: https://github.com/rcedgar/usearch_old_binaries/raw/refs/heads/main/bin/{{ name }}{{ version }}_i86linux64 # [linux and x86_64]
    md5: e4bcddca49a248b1721b4f68804e0197 # [linux and x86_64]
  - url: https://github.com/rcedgar/usearch_old_binaries/raw/refs/heads/main/bin/{{ name }}{{ version }}_i86osx64 # [osx and x86_64]
    md5: 8c9c5b32e55bfbe6b0b11210d05da5ff # [osx and x86_64]

build:
  number: 0
  script:
    - mkdir -p ${PREFIX}/bin
    - cp usearch* ${PREFIX}/bin/usearch
    - chmod +x ${PREFIX}/bin/usearch
  run_exports:
    - {{ pin_subpackage('usearch', max_pin="x") }}
  skip: True # [win]

test:
  commands:
    - usearch | grep 'usearch v{{ version}}_*'

about:
  home: "https://github.com/rcedgar/usearch_old_binaries"
  doc_url: "https://drive5.com/usearch/"
  license: CC0
  license_family: CC
  summary: USEARCH is a unique sequence analysis tool which offers search and clustering algorithms that are often orders of magnitude faster than BLAST.

extra:
  skip-lints:
    - should_be_noarch_generic
    - long_summary
  recipe-maintainers:
    - thanhleviet
    - kasperskytte