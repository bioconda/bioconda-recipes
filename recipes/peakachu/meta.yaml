{% set version = "0.1.0" %}
{% set sha256 = "729f0067ed460ef398893f671a880c45410ef677075428d0598a8c5f79b931ac" %}

package:
  name: peakachu
  version: "{{ version }}"

source:
  fn: peakachu-{{ version }}.tar.gz
  url: https://github.com/tbischler/PEAKachu/archive/{{ version }}.tar.gz
  sha256: "{{ sha256 }}"

build:
  number: 0
  skip: True # [not py3k]

requirements:
  build:
    - gcc # [not osx]
    - llvm # [osx]
    - python
    - setuptools
    - "biopython >=1.66"
    - "matplotlib >=1.5.1"
    - "pandas >=0.17.1"
    - "pysam >=0.9.0"
    - "numexpr >=2.5"
    - "bcbiogff >=0.6.2"
    - "statsmodels >=0.6.1"
    - "rpy2 >=2.8.5"
  run:
    - libgcc # [not osx]
    - python
    - "biopython >=1.66"
    - "matplotlib >=1.5.1"
    - "pandas >=0.17.1"
    - "pysam >=0.9.0"
    - "numexpr >=2.5"
    - "bcbiogff >=0.6.2"
    - "statsmodels >=0.6.1"
    - "rpy2 >=2.8.5"
    - bioconductor-deseq2
    - bioconductor-edger
    - blockbuster

test:
  imports:
    - peakachulib
    - peakachulib.intersection
  commands:
    - 'peakachu 2>&1 | grep "^usage" > /dev/null'

about:
  home: https://github.com/tbischler/PEAKachu
  license: ISCL
  summary: "Peak calling tool for CLIP-seq data."
