{% set name = "machina" %}
{% set version = "1.1" %}

package:
  name: '{{ name|lower }}'
  version: '{{ version }}'

source:
  url: https://github.com/raphael-group/{{ name }}/archive/v{{ version }}.zip
  sha256: feb1efbedd32b8339f04699fade79fbc67bbd919df0a27f9a108f54c7531d208

build:
  number: 1

requirements:
  build:
    - {{ compiler('cxx') }}
    - cmake>=3.9
    - libboost 
    - lemon
    - wget
    - zlib

test:
  commands:
    - test -f $PREFIX/bin/cluster
    - test -f $PREFIX/bin/generatemigrationtrees
    - test -f $PREFIX/bin/generatemutationtrees
    - test -f $PREFIX/bin/pmh_sankoff
    - test -f $PREFIX/bin/pmh
    - test -f $PREFIX/bin/pmh_tr
    - test -f $PREFIX/bin/pmh_ti
    - test -f $PREFIX/bin/ms
    - test -f $PREFIX/bin/visualizeclonetree
    - test -f $PREFIX/bin/visualizemigrationgraph

about:
  home: https://github.com/raphael-group/machina
  license: BSD-3
  summary: "Metastatic And Clonal History INtegrative Analysis"
  description: |
    MACHINA is a computational framework for inferring migration patterns
    between a primary tumor and metastases using DNA sequencing data. 
