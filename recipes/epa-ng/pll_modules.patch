--- a/libs/pll-modules/libs/libpll/src/CMakeLists.txt	2025-04-09 16:07:03.103200068 +0000
+++ b/libs/pll-modules/libs/libpll/src/CMakeLists.txt	2020-06-08 17:23:48.000000000 +0000
@@ -167,7 +167,9 @@
   SET_SOURCE_FILES_PROPERTIES( ${LIBPLL_AVX2_SOURCES} PROPERTIES COMPILE_FLAGS ${AVX2_FLAGS} )
 endif ()
 
+if (CMAKE_HOST_SYSTEM_PROCESSOR STREQUAL "x86_64")
 add_definitions(-DHAVE_X86INTRIN_H)
+endif ()
 
 set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} ${LIBPLL_BASE_FLAGS}")
 
index 2241d4a..6a4115b 100644
--- a/libs/pll-modules/libs/libpll/src/hardware.c
+++ b/libs/pll-modules/libs/libpll/src/hardware.c
@@ -28,7 +28,7 @@
     https://github.com/xflouris/libpll/issues/138
 
 */
-#if (defined(__APPLE__)) || \
+#if (defined(__APPLE__) && (defined(__x86_64__) || defined(__i386__))) || \
     (!defined(__clang__) && defined(__GNUC__) && (__GNUC__ < 4 || \
       (__GNUC__ == 4 && __GNUC_MINOR__ < 8))) || \
     (defined(__clang__) && (__clang_major__ < 3 || \
