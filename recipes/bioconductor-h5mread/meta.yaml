{% set version = "1.2.1" %}
{% set name = "h5mread" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name }}/bioconductor-{{ name }}_{{ version }}_src_all.tar.gz
  md5: 86720227abade6529006673b161ab486

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-h5mread", max_pin="x.x") }}'

# Suggests: BiocParallel, ExperimentHub, TENxBrainData, HDF5Array, testthat, knitr, rmarkdown, BiocStyle
# SystemRequirements: GNU make
requirements:
  build:
    - {{ compiler('c') }}
    - make
  host:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-rhdf5 >=2.54.0,<2.55.0
    - bioconductor-rhdf5filters >=1.22.0,<1.23.0
    - bioconductor-rhdf5lib >=1.32.0,<1.33.0
    - bioconductor-s4arrays >=1.10.0,<1.11.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-sparsearray >=1.10.0,<1.11.0
    - r-base
    - libblas
    - liblapack
    - zlib
    - liblzma-devel
  run:
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-rhdf5 >=2.54.0,<2.55.0
    - bioconductor-rhdf5filters >=1.22.0,<1.23.0
    - bioconductor-rhdf5lib >=1.32.0,<1.33.0
    - bioconductor-s4arrays >=1.10.0,<1.11.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-sparsearray >=1.10.0,<1.11.0
    - r-base

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: Artistic-2.0
  summary: A fast HDF5 reader
  description: The main function in the h5mread package is h5mread(), which allows reading arbitrary data from an HDF5 dataset into R, similarly to what the h5read() function from the rhdf5 package does. In the case of h5mread(), the implementation has been optimized to make it as fast and memory-efficient as possible.

