{% set name = 'IDPmisc' %}
{% set version = '1.1.17' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-{{ name|lower }}
  version: {{ version|replace("-", "_") }}

source:
  fn: {{ name }}_{{ version }}.tar.gz
  url:
    - https://cran.r-project.org/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://cran.r-project.org/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
  md5: d41d8cd98f00b204e9800998ecf8427e

build:
  number: 0

  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - r-base
    - r-lattice >=0.19_26
    - posix                # [win]
    - {{native}}toolchain  # [win]
    - gcc                  # [not win]

  run:
    - r-base
    - r-lattice >=0.19_26

test:
  commands:
    - $R -e "library('IDPmisc')"  # [not win]
    - "\"%R%\" -e \"library('IDPmisc')\""  # [win]

about:
  home: https://CRAN.R-project.org/package=IDPmisc
  license: GPL (>= 3)
  summary: 'The IDPmisc package contains different high-level graphics functions for displaying
    large datasets, displaying circular data in a very flexible way, finding local maxima,
    brewing color ramps, drawing nice arrows, zooming 2D-plots, creating figures with
    differently colored margin and plot region.  In addition, the package contains auxiliary
    functions for data manipulation like omitting observations with irregular values
    or selecting data by logical vectors, which include NAs. Other functions are especially
    useful in spectroscopy and analyses of environmental data: robust baseline fitting,
    finding peaks in spectra.'

  license_family: GPL3
