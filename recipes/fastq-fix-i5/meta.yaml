{% set name = "fastq-fix-i5" %}
{% set version = "1.0.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/ssciwr/{{ name }}/archive/refs/tags/{{ version }}.tar.gz
  sha256: b61d0d8fdf9fef14ff1ab26fa3caa5fe477a2d9195c1370b03219691697a7e41

build:
  number: 0
  run_exports:
    - {{ pin_subpackage(name, max_pin="x") }}

requirements:
  build:
    - {{ compiler('rust') }}

test:
  commands:
    - fastq-fix-i5 --help
    - fastq-fix-i5 --version
    - printf '@r1 1:N:0:AAAA+ACTAGCA\nACGT\n+\n!!!!\n' | fastq-fix-i5

about:
  home: https://github.com/ssciwr/fastq-fix-i5
  license: MIT
  license_file: LICENSE
  summary: "Rewrite FASTQ headers by reverse-complementing the i5 (Index2/P5) barcode in :i7+i5"
  description: |
    A fast, streaming tool to rewrite FASTQ headers by reverse-complementing the i5 (Index2 / P5)
    barcode, without modifying read sequences or quality scores. Headers are expected to end with the
    standard Illumina `:<i7>+<i5>` format.

extra:
  recipe-maintainers:
    - lkeegan
