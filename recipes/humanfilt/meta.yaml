package:
    name: humanfilt
    version: "0.1.0"

source:
    url: https://github.com/jprehn-lab/humanfilt/archive/refs/tags/v0.1.0.tar.gz
    sha256: 0f9f96e41e019181bcc15fa0bad0d8c2494032c9fb6d0a8d9bd00799715e8824

build:
    number: 0
    noarch: python
    script: {{ PYTHON }} -m pip install . --no-build-isolation --no-deps --no-cache-dir -vvv
    entry_points:
      - humanfilt = humanfilt.cli:main
    run_exports:
      - {{ pin_subpackage('humanfilt', max_pin="x.x") }}

requirements:
    host:
      - python >=3.10
      - pip
      - setuptools
  run:
      - python >=3.10
      - bwa
      - samtools
      - minimap2
      - bowtie2
      - kraken2
      - trim-galore
      - bbmap     # bbduk.sh, dedupe.sh
      - fastuniq
      - seqkit
      - pigz

test:
    commands:
      - humanfilt --help
    imports:
      - humanfilt

about:
    home: https://github.com/jprehn-lab/humanfilt
    license: MIT
    summary: "WGS human read filtering with auto-downloaded references (GRCh38/T2T/HPRC/UniVec + Kraken2)."

extra:
    recipe-maintainers:
      - marsfro   
