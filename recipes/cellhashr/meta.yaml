{% set version = "1.04" %}
{% set sha256 = "0f829bc30b57fccd08c5de2ddea9bf230cf2714a0ea55c4b35134c22728d09cc" %}

package:
  name: cellhashr
  version: {{version}}

source:
  #git_url: https://github.com/BimberLab/cellhashR.git
  #git_rev: 1.04
  url: https://github.com/BimberLab/cellhashR/archive/{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  noarch: generic
  run_exports:
    - {{ pin_subpackage('cellhashr', max_pin="x.x.x") }}


rpaths:
  - lib/R/lib/
  - lib/

requirements:
  build:
    - r-base >=4.3.2
    - r-essentials
    - r-devtools
    - r-rcpp
    - r-rcpparmadillo
    - r-rcppeigen
    - r-rcppparallel
    - r-rcppprogress
    - bioconductor-preprocesscore
    - r-pdftools
    - bioconductor-demuxmix
    - r-magick
    - bioconductor-s4vectors
    - bioconductor-dropletutils
    - bioconductor-singlecellexperiment
    - r-biocmanager
  run:
    - r-base >=4.3.2
    - r-essentials
    - r-devtools
    - r-rcpp
    - r-rcpparmadillo
    - r-rcppeigen
    - r-rcppparallel
    - r-rcppprogress
    - bioconductor-preprocesscore
    - bioconductor-dropletutils
    - bioconductor-demuxmix

test:
  commands:
    - $R -e "library('cellhashR')"           # [not win]
    - "\"%R%\" -e \"library('cellhashR')\""  # [win]

about:
  home: https://github.com/BimberLab/cellhashR
  license: MIT
  license_family: MIT
  summary: "An R package designed to demultiplex cell hashing data.\n    More information in https://bimberlab.github.io/cellhashR/Lab B (2024). \n   cellhashR: A Package for Demultiplexing Cell Hashing Data.\n"