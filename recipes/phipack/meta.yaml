{% set name = "phipack" %}

package:
  name: {{ name }}
  version: "1.1"

source:
  url: "https://www.maths.otago.ac.nz/~dbryant/software/PhiPack.tar.gz"
  sha256: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855

build:
  number: 7
  run_exports:
    - {{ pin_subpackage(name, max_pin="x") }}

requirements:
  build:
    - make
    - {{ compiler('c') }}

test:
  commands:
    - Phi 2>&1 | grep "Usage"
    - Profile 2>&1 | grep "Usage"

about:
  home: "https://www.maths.otago.ac.nz/~dbryant/software.html"
  license: "GPL-3.0-or-later"
  license_family: GPL3
  license_file:
    - PhiPack/src/COPYING.LESSER  # [linux]
    - src/COPYING.LESSER  # [osx]
  summary: "Simple, rapid, and statistically efficient test for recombination."

extra:
  additional-platforms:
    - linux-aarch64
    - osx-arm64
