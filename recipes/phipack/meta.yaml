{% set name = "phipack" %}
{% set version = "1.1" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: "https://www.maths.otago.ac.nz/~dbryant/software/PhiPack.tar.gz"
  sha256: af43326e021f1f2e590be2cba3caa44a0963f237386e63209ccc26b5bfb02db9

build:
  number: 7
  run_exports:
    - {{ pin_subpackage(name, max_pin="x") }}

requirements:
  build:
    - make
    - {{ compiler('c') }}

test:
  commands:
    - Phi 2>&1 | grep "Usage"
    - Profile 2>&1 | grep "Usage"

about:
  home: "https://www.maths.otago.ac.nz/~dbryant/software.html"
  license: "GPL-3.0-or-later"
  license_file:
    - PhiPack/src/COPYING.LESSER  # [linux]
    - src/COPYING.LESSER  # [osx]
  summary: "Simple, rapid, and statistically efficient test for recombination."
  doc_url: "https://www.maths.otago.ac.nz/~dbryant/software.html"

extra:
  additional-platforms:
    - linux-aarch64
    - osx-arm64
