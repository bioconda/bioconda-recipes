{% set name = "variphyer" %}
{% set version = "0.1.0" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  - url: https://gitlab.com/treangenlab/variphyer/-/archive/add-vcf2mfa-pipelines-make-lofreq-parallel/variphyer-add-vcf2mfa-pipelines-make-lofreq-parallel.tar.gz
    sha256: 5ca98d31c35846a70c7d49f76843e706e767ba93bc73080567464618a7813da6
  - url: http://darlinglab.org/mauve/snapshots/2015/2015-02-13/linux-x64/stripSubsetLCBs.bz2
    folder: phylo_programs
    sha256: 5dcdf12a0056aed3ede9ef3c9f878206d67bf4c031643eeeb6ce5c6e01f00e2b

build:
  number: 0
  noarch: generic

requirements:
  run:
    - art
    - beagle-lib
    - biopython
    - bowtie2
    - breseq
    - canu
    - conda
    - dendropy
    - fasttree
    - harvesttools
    - lofreq
    - megahit
    - minimap2
    - nextflow
    - ngmlr
    - numpy>=1.11
    - openjdk
    - pandas>=1.1.3
    - parsnp
    - pbsim
    - python>=3.6,<=3.8
    - r-ape
    - r-base
    - raxml
    - samtools
    - scikit-learn
    - scipy
    - sniffles
    - spades
    - trimmomatic
    - unzip
    - wget
    #- progressivemauve
    - beast

test:
  commands:
    - ls $PWD
    - ls ${PREFIX}/share/phylo_programs
    - ls ${PREFIX}/share/${PKG_NAME}
    - beastgen -help
    - ls $SRC_DIR
    - echo $PATH
    - echo $SRC_DIR
    - which beastgen
    - which stripSubsetLCBs

about:
  home: "https://gitlab.com/treangenlab/variphyer"
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: "VariPhyer is a benchmark evaluation pipeline"

extra:
  recipe-maintainers:
    - cl117