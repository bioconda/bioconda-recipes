{% set name = "wgbs_tools" %}
{% set version = "0.2.2" %}
{% set sha256 = "ede7e2b5a2f54ff6eab51a819a510b01f2ba17c338409a96f063a83a7f0f6a6c" %}

package:
  name: {{ name }}
  version: {{ version }}

build:
  number: 0
  run_exports:
    - {{ pin_subpackage('wgbs_tools',min_pin='x.x', max_pin='x.x') }}

source:
  url: https://github.com/nloyfer/{{ name }}/archive/refs/tags/{{ version }}.tar.gz
  sha256: {{ sha256 }}

requirements:
  build:
    - make
    - cmake
    - git
    - {{ compiler('cxx') }}

  host:
    - python >=3.6
    - pandas
    - numpy 
    - pandas
    - matplotlib-base


  run:
    - python >=3.6
    - numpy 
    - pandas
    - matplotlib-base

test:
  commands:
    - python --version
    - wgbstools vis -h
    - wgbstools view -h
    - wgbstools cview -h
    - wgbstools convert -h
    - wgbstools pat_fig -h
    - wgbstools beta_to_blocks -h
    - wgbstools beta_to_table -h
    - wgbstools beta2bed -h
    - wgbstools beta2bw -h
    - wgbstools beta_cov -h
    - wgbstools beta_to_450k -h
    - wgbstools init_genome -h
    - wgbstools set_default_ref -h
    - wgbstools bam2pat -h
    - wgbstools index -h
    - wgbstools pat2beta -h
    - wgbstools bed2beta -h
    - wgbstools mix_pat -h
    - wgbstools merge -h
    - wgbstools segment -h
    - wgbstools compare_betas -h
    - wgbstools homog -h
    - wgbstools find_markers -h
    - wgbstools add_cpg_counts -h
    - wgbstools frag_len -h
    - wgbstools split_by_allele -h
    - wgbstools split_by_meth -h
    - wgbstools test_bimodal -h

about:
  home: https://github.com/nloyfer/wgbs_tools
  license: YISSUM
  license_file: wgbs_tools-{{ version }}/LICENSE.md
  summary: An extensive computational suite tailored for bisulfite sequencing data

