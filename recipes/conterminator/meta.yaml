{% set version = "1-c74b5" %}
{% set sha256 = "90571e6b5bce39a6bdad9b5097b2922a695490f1c1de7e6e8d8211664599f19d" %}

package:
  name: conterminator 
  version: {{ version|replace("-", ".")  }}

source:
  url: https://github.com/martin-steinegger/conterminator/archive/{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 3
  run_exports:
    - {{ pin_subpackage('conterminator',max_pin="x.x") }}

requirements:
  build:
    - {{ compiler('cxx') }}
    - {{ compiler('c') }}
    - cmake
    - make
  host:
    - llvm-openmp  # [osx]
    - perl
    - gawk
    - zlib
    - bzip2
    - mmseqs2
  run:
    - llvm-openmp  # [osx]
    - gawk
    - mmseqs2

test:
  commands:
    - conterminator > /dev/null

about:
  home: "https://github.com/martin-steinegger/conterminator"
  license: GPL3
  license_file: "LICENCE.md"
  summary: "Conterminator: software to detect contamination in large sequence sets."
  dev_url: "https://github.com/martin-steinegger/conterminator"

extra:
  identifiers:
    - doi:10.1186/s13059-020-02023-1
    - biotools:conterminator
  additional-platforms:
    - linux-aarch64
    - osx-arm64
