{% set name = "bubblefinder" %}
{% set version = "1.0.1" %}

{% set ogdf_tag = "elderberry-202309" %}
{% set spdlog_version = "1.15.3" %}
{% set spdlog_tag = "v" + spdlog_version %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  - url: https://github.com/algbio/{{ name }}/archive/refs/tags/{{ version }}.tar.gz
    sha256: c0e529b576272074f317a89c6410a632ea67bb64c836df04f4cb9a1bba50f869
    folder: .
  - url: https://github.com/ogdf/ogdf/archive/refs/tags/{{ ogdf_tag }}.tar.gz
    sha256: 3438205d3a6ff69d24c3a6db748d2a5a78688605baf3092456073901a2b623f3
    folder: ogdf-src
  - url: https://github.com/gabime/spdlog/archive/refs/tags/{{ spdlog_tag }}.tar.gz
    sha256: 15a04e69c222eb6c01094b5c7ff8a249b36bb22788d72519646fb85feb267e67
    folder: spdlog-src

build:
  number: 0
  run_exports:
    - {{ pin_subpackage(name, max_pin="x") }}

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - make
    - pkg-config
  host:
    - coincbc
  run:
    - coincbc

test:
  commands:
    - BubbleFinder --help

about:
  home: https://github.com/algbio/BubbleFinder
  license: MIT
  summary: "BubbleFinder - detecting superbubbles/snarls in graphs"

extra:
  recipe-maintainers:
    - algbio