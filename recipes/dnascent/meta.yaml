{% set version = "2.0.3" %}
{% set sha256 = "52f041de4c95409076be2ecc95eff2722e63221fb28ed1c37a6acd4b5740ff20" %}

package:
  name: dnascent
  version: '{{version}}'

source:
  url: https://github.com/MBoemo/DNAscent/archive/7e4be09.tar.gz
  sha256: '{{sha256}}'

build:
  number: 0

requirements:
  build:
      - make
      - {{ compiler('c') }}
      - {{ compiler('cxx') }}
      - wget 
      - tar
      # These from/for HDF5 https://github.com/conda-forge/hdf5-feedstock/blob/main/recipe/meta.yaml
      - gnuconfig  # [unix]
      - {{ compiler('fortran') }}  # [not win]
      - cmake                      # [win]
      - libtool                    # [not win]
      - ninja                      # [win]
      - {{ mpi }}  # [build_platform != target_platform and mpi != 'nompi']
      - libgfortran-devel_osx-64  # [build_platform != target_platform and build_platform == 'osx-64']
      - openssl
  host:
      - python
      - zlib
  run:
      - python
      - zlib

test:
  commands:
    - DNAscent --version
    - dnascent2bedgraph.py -h 

about:
  home: https://github.com/MBoemo/DNAscent
  license: GNU GPL v3
  summary: Software for detecting regions of BrdU and EdU incorporation in Oxford Nanopore reads. 
  license_family: GPL
