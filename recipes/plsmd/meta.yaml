package:
  name: plsmd
  version: 1.0

source:
  url: https://github.com/Genomics-and-Metagenomics-Unit-57357/plsMD/archive/refs/tags/v1.0.tar.gz
  sha256: 4c1b91daadcd05b2fdef2eb3cf9194e7aa37cc5e78b1172e6bc3d012090e6537

build:
  run_exports:
    - {{ pin_subpackage('myrecipe', max_pin="x.x") }}
  number: 0
  noarch: generic
  script: |
    mkdir -p $PREFIX/bin
    cp plsmd $PREFIX/bin/
    cp preprocessing.sh $PREFIX/bin/
    cp plsMD.py $PREFIX/bin/
    cp annotation.sh $PREFIX/bin/
    cp phylogenetics.sh $PREFIX/bin/
    chmod +x $PREFIX/bin/plsmd
    chmod +x $PREFIX/bin/preprocessing.sh
    chmod +x $PREFIX/bin/plsMD.py
    chmod +x $PREFIX/bin/annotation.sh
    chmod +x $PREFIX/bin/phylogenetics.sh

requirements:
  run:
    - python =3.7
    - bioconda::abricate
    - bioconda::blast
    - bioconda::seqtk
    - bioconda::mafft
    - bioconda::iqtree
    - bioconda::biopython
test:
  imports:
    - plsmd
  commands:
    - plsmd --help

about:
  home: "https://github.com/Genomics-and-Metagenomics-Unit-57357/plsMD/"
  summary: "A bioinformatics tool for plasmid reconstruction from short-read assemblies"
  license: MIT
