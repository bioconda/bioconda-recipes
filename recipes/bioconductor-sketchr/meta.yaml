{% set version = "1.6.0" %}
{% set name = "sketchR" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 5af7266a9caee8bee657c50aba65f1ab

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-sketchr", max_pin="x.x") }}'
  noarch: generic

# Suggests: rmarkdown, knitr, testthat (>= 3.0.0), TENxPBMCData, scuttle, scran, scater, SingleR, celldex, cowplot, SummarizedExperiment, beachmat.hdf5, BiocStyle, BiocManager, SingleCellExperiment, snifter, uwot, bluster, class
requirements:
  host:
    - bioconductor-basilisk >=1.22.0,<1.23.0
    - bioconductor-biobase >=2.70.0,<2.71.0
    - bioconductor-delayedarray >=0.36.0,<0.37.0
    - r-base
    - r-dplyr
    - r-ggplot2
    - r-reticulate
    - r-rlang
    - r-scales
  run:
    - bioconductor-basilisk >=1.22.0,<1.23.0
    - bioconductor-biobase >=2.70.0,<2.71.0
    - bioconductor-delayedarray >=0.36.0,<0.37.0
    - r-base
    - r-dplyr
    - r-ggplot2
    - r-reticulate
    - r-rlang
    - r-scales

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: MIT + file LICENSE
  summary: An R interface for python subsampling/sketching algorithms
  description: Provides an R interface for various subsampling algorithms implemented in python packages. Currently, interfaces to the geosketch and scSampler python packages are implemented. In addition it also provides diagnostic plots to evaluate the subsampling.
  license_file: LICENSE

