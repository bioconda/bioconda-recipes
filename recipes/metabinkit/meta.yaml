{% set name = "metabinkit" %}
{% set version = "0.1.4" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://github.com/envmetagen/metabinkit/archive/{{ version }}.tar.gz
  sha256: 5f64a1c5b5394d97306f566c2388aa99187613bf1aa1a778ee3d65c320552a72

build:
  number: 0
  rpaths:
      - lib/
      - glibc-2.14/lib/
  skip: true  # [win32 or osx]

requirements:
  build:
      - {{ compiler('c') }}
      - python
      - wget
      - r-base=3.6
      - zlib
  host:
      - zlib
      - python
      - r-base=3.6
  run:
      - zlib
      - taxonkit ==0.6.0
      - r-base=3.6
      - r-Matrix
      - r-data.table
      - r-optparse

test:
  commands:
      - metabin --version
      - metabinkit_blast -h
      - metabinkit_blastgendb -h


about:
  home: https://github.com/envmetagen/metabinkit
  dev_url: https://github.com/envmetagen/metabinkit
  doc_url: https://github.com/envmetagen/metabinkit
  license: GPL-3
  license_family: GPL
  summary: Set of programs to perform taxonomic binning.
  license_file: LICENSE

extra:
  recipe-maintainers:
    - nuno.fonseca
  identifiers:
    - biotools:{{ name }}
    - doi:10.5281/zenodo.3855032
    