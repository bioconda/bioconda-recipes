{% set name = "metabinkit" %}
{% set version = "0.1.5" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://github.com/envmetagen/metabinkit/archive/{{ version }}.tar.gz
  sha256: dce744312da3e3a2fdbf5d8a6e0c236ae0f856ee1fabe05a4154c26c4918a966

build:
  number: 0
  skip: true  # [win32 or osx]

requirements:
  build:
      - {{ compiler('c') }}
      - wget
      - r-base=3.6
      - zlib
  host:
      - zlib
      - r-base=3.6
      - pcre
  run:
      - pcre
      - perl
      - perl-list-moreutils
      - perl-archive-tar
      - perl-json
      - entrez-direct
      - curl
      - zlib
      - taxonkit ==0.6.0
      - bzip2
      - r-base=3.6
      - r-Matrix
      - r-data.table
      - r-optparse
      - blast >=2.9.0

test:
  commands:
      - metabin --version
      - metabinkit_blast -h
      - metabinkit_blastgendb -h


about:
  home: https://github.com/envmetagen/metabinkit
  dev_url: https://github.com/envmetagen/metabinkit
  doc_url: https://github.com/envmetagen/metabinkit
  license: GPL-3
  license_family: GPL
  summary: Set of programs to perform taxonomic binning.
  license_file: LICENSE

extra:
  recipe-maintainers:
    - nuno.fonseca
  identifiers:
    - biotools:{{ name }}
    - doi:10.5281/zenodo.3855032
    