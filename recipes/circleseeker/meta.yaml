{% set name = "circleseeker" %}
{% set version = "0.9.5" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/leoxqy/CircleSeeker/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 9200d86b2ef7d5c8bba69b161b47abe3d6293cbfda8982ac5c105147b84663ca

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  entry_points:
    - circleseeker = circleseeker.cli:main
    - CircleSeeker = circleseeker.cli:main
  run_exports:
    - {{ pin_subpackage(name, max_pin="x.x") }}

requirements:
  host:
    - python >=3.9
    - pip
    - setuptools >=68
    - wheel
  run:
    - python >=3.9
    - click >=8.1
    - pandas >=2.0
    - numpy >=1.23
    - biopython >=1.81
    - pysam >=0.22
    - pyyaml >=6.0
    - networkx >=3.0
    - packaging >=23
    - intervaltree >=3.1
    # External bioinformatics tools
    - tidehunter
    - blast
    - minimap2
    - samtools
    - cd-hit
    # Optional: bcftools and varlociraptor only needed for Cyrcular engine
    # - bcftools
    # - varlociraptor
    # - cyrcular

test:
  imports:
    - circleseeker
    - circleseeker.core
    - circleseeker.modules
    - circleseeker.external
  commands:
    - circleseeker --help
    - CircleSeeker --help

about:
  home: https://github.com/leoxqy/CircleSeeker
  license: GPL-2.0-only
  license_family: GPL
  license_file: LICENSE
  summary: Comprehensive eccDNA detection from PacBio HiFi sequencing data
  description: |
    CircleSeeker is a specialized bioinformatics pipeline for identification,
    classification, and characterization of extrachromosomal circular DNA (eccDNA)
    from PacBio HiFi long-read sequencing data.
  doc_url: https://github.com/leoxqy/CircleSeeker#readme
  dev_url: https://github.com/leoxqy/CircleSeeker

extra:
  recipe-maintainers:
    - leoxqy
