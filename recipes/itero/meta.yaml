{% set version = "1.0.0" %}
{% set name = "itero" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  fn: {{ name }}_v{{ version }}.tar.gz
  url: https://github.com/faircloth-lab/{{ name }}/archive/v{{ version }}.tar.gz
  sha256: 04f6b1d9b6a161f506a753415f361c8e9403e06a02e43e44c23488cd40af8039

build:
  number: 0
  skip: True  # [not py27]

requirements:
  build:
    - python 2.7
    - setuptools

  run:
    - python 2.7
    - numpy
    - argcomplete
    - biopython
    - mpi4py
    - schwimmbad
    - six
    - bedtools
    - bwa
    - gawk
    - samtools
    - spades

test:
    imports:
      - schwimmbad
      - numpy
      - Bio
      - itero
    commands:
      - itero --version
      - itero check binaries

about:
  home: https://github.com/faircloth-lab/itero
  summary: A pipeline for iterative, guided contig assembly that integrates spades, bwa, and samtools to produce assembled contigs.
  license: BSD
  license_file: LICENSE