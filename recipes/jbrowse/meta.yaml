{% set version = "1.16.12" %}
package:
  name: jbrowse
  version: {{ version }}
build:
  number: 0
  run_exports:
    - {{ pin_subpackage('jbrowse2', max_pin="x") }}
source:
  sha256: 1289d477707251bf400f076c979114e6df5083ec75ffdeab16e2504dc734e93b
  url: https://github.com/GMOD/jbrowse/archive/{{ version }}-release.zip

requirements:
  build:
    - make
    - {{ compiler('cxx') }}
  host:
    - nodejs <16 # [osx]
    - nodejs <17 # [not osx]
    - python >=2.7,<3
    - git
    - perl
    - perl-json
    - perl-bioperl
    - perl-test-deep
    - perl-test-simple
    - perl-test-warn
    - perl-exporter-tiny
    - perl-list-moreutils
    - perl-capture-tiny
    - perl-uri
    - perl-scalar-list-utils
    - perl-perlio-gzip
    - perl-bio-gff3
    - perl-devel-size
    - perl-digest-crc32
    - perl-file-next
    - perl-hash-merge
    - perl-heap-simple
    - perl-db-file
    - perl-bio-featureio
    - perl-io-uncompress-gunzip
    - perl-file-copy-recursive
    - perl-local-lib
  run:
    - perl
    - perl-json
    - perl-bioperl
    - perl-test-deep
    - perl-test-simple
    - perl-test-warn
    - perl-exporter-tiny
    - perl-list-moreutils
    - perl-capture-tiny
    - perl-uri
    - perl-scalar-list-utils
    - perl-perlio-gzip
    - perl-bio-gff3
    - perl-devel-size
    - perl-digest-crc32
    - perl-file-next
    - perl-hash-merge
    - perl-heap-simple
    - perl-db-file
    - perl-bio-featureio
    - perl-io-uncompress-gunzip
    - perl-file-copy-recursive
    - perl-local-lib
    - gff3sort

test:
  commands:
    - command -v add-json.pl
about:
  home: https://jbrowse.org/
  license: LGPL
  license_file: LICENSE
  summary: The JBrowse Genome Browser

extra:
  identifiers:
    - biotools:jbrowse
    - doi:10.1101/gr.094607.109
