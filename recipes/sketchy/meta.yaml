{% set version = "0.4.3" %}
{% set name = "sketchy" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/esteinig/{{ name }}/archive/v{{ version }}.tar.gz
  sha256: 1b24ca98769cca83b7e9edb082c9be3be2025bb3b815999a16c23d0edf31c765

build:
  number: 0
  entry_points:
    - sketchy = sketchy.terminal.client:terminal_client

requirements:
  build:
      - {{ compiler('cxx') }}
      - rust >=1.39
  host:
      - python ==3.7
  run:
      - python ==3.7
      - mash ==2.2
      - wget
      - nextflow
      - tqdm
      - colorama
      - pandas
      - click
      - pytest
      - seaborn
      - scipy
      - python-dateutil
      - numpy
      - pysam
      - psutil
      - matplotlib-base
      - deprecation
      - braceexpand
      - networkx
      - pyfastx
      - watchdog
      - dendropy
test:
  imports:
    - sketchy
  commands:
    - sketchy --help
    - sketchy-rs -h

about:
  home: https://github.com/esteinig/sketchy
  license: MIT
  license_file: LICENSE
  summary: 'Real-time lineage hashing and genotyping of bacterial pathogens'

extra:
  recipe-maintainers:
    - esteinig
    - mbhall88
