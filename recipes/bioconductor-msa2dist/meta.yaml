{% set version = "1.14.0" %}
{% set name = "MSA2dist" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 43cbb6ef7cdd1a2827b085aea393670e

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-msa2dist", max_pin="x.x") }}'

# Suggests: rmarkdown, knitr, devtools, testthat, ggplot2, BiocStyle
# SystemRequirements: C++11
requirements:

  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make

  host:
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-pwalign >=1.6.0,<1.7.0
    - r-ape
    - r-base
    - r-doparallel
    - r-dplyr
    - r-foreach
    - r-rcpp
    - r-rcppthread
    - r-rlang
    - r-seqinr
    - r-stringi
    - r-stringr
    - r-tibble
    - r-tidyr
    - libblas
    - liblapack
    - zlib
    - liblzma-devel

  run:
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-pwalign >=1.6.0,<1.7.0
    - r-ape
    - r-base
    - r-doparallel
    - r-dplyr
    - r-foreach
    - r-rcpp
    - r-rcppthread
    - r-rlang
    - r-seqinr
    - r-stringi
    - r-stringr
    - r-tibble
    - r-tidyr

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3.0-only
  summary: MSA2dist calculates pairwise distances between all sequences of a DNAStringSet or a AAStringSet using a custom score matrix and conducts codon based analysis
  description: MSA2dist calculates pairwise distances between all sequences of a DNAStringSet or a AAStringSet using a custom score matrix and conducts codon based analysis. It uses scoring matrices to be used in these pairwise distance calculations which can be adapted to any scoring for DNA or AA characters. E.g. by using literal distances MSA2dist calculates pairwise IUPAC distances. DNAStringSet alignments can be analysed as codon alignments to look for synonymous and nonsynonymous substitutions (dN/dS) in a parallelised fashion using a variety of substitution models. Non-aligned coding sequences can be directly used to construct pairwise codon alignments (global/local) and calculate dN/dS without any external dependencies.
  license_file: LICENSE

extra:
  additional-platforms:
    - linux-aarch64

