{% set name = "metagraph" %}
{% set version = "0.1test3" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/ratschlab/metagraph/releases/download/v{{ version }}/v{{ version }}.tar.gz
  sha256: f78f68664078eca7f8515dd50f6c2959cce7d037d011a341e4bcc2006adebf0e

build:
  number: 0
  skip: true  # [not osx]

requirements:
  build:
    - {{ compiler('cxx') }}
    - cmake
    - llvm-openmp  # [osx]
    - libgomp  # [linux]
  host:
    - htslib
    - jemalloc
    - boost
    - bzip2
    - llvm-openmp  # [osx]
    - libgomp  # [linux]
  run:
    - htslib
    - jemalloc
    - bzip2
    - llvm-openmp  # [osx]
    - libgomp  # [linux]

test:
  commands:
    - metagraph_DNA --help

about:
  home: https://github.com/ratschlab/metagraph
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'Ultra Scalable Framework for DNA Search, Alignment, Assembly'
  description: |
    The MetaGraph framework allows for indexing and analysis of very large biological sequence collections, producing compressed indexes that can represent several petabases of input data. The indexes can be efficiently queried with any query sequence of interest.
  doc_url: https://metagraph.ethz.ch
  dev_url: https://github.com/ratschlab/metagraph

extra:
  recipe-maintainers:
    - izcram
