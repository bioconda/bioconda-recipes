{% set version = "1.16.0" %}
{% set name = "enhancerHomologSearch" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: a3e312f35077e7e4ac5be19d9f92a77d

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-enhancerhomologsearch", max_pin="x.x") }}'

# Suggests: GenomeInfoDb, knitr, rmarkdown, BSgenome.Drerio.UCSC.danRer10, BSgenome.Hsapiens.UCSC.hg38, BSgenome.Mmusculus.UCSC.mm10, TxDb.Hsapiens.UCSC.hg38.knownGene, org.Hs.eg.db, TxDb.Mmusculus.UCSC.mm10.knownGene, org.Mm.eg.db, MotifDb, testthat, TFBSTools
requirements:

  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make

  host:
    - bioconductor-biocfilecache >=3.0.0,<3.1.0
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bsgenome >=1.78.0,<1.79.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-motifmatchr >=1.32.0,<1.33.0
    - bioconductor-pwalign >=1.6.0,<1.7.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-seqinfo >=1.0.0,<1.1.0
    - r-base
    - r-httr
    - r-jsonlite
    - r-matrix
    - r-rcpp
    - libblas
    - liblapack
    - zlib
    - liblzma-devel

  run:
    - bioconductor-biocfilecache >=3.0.0,<3.1.0
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bsgenome >=1.78.0,<1.79.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-motifmatchr >=1.32.0,<1.33.0
    - bioconductor-pwalign >=1.6.0,<1.7.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-seqinfo >=1.0.0,<1.1.0
    - r-base
    - r-httr
    - r-jsonlite
    - r-matrix
    - r-rcpp

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL (>= 2)
  summary: Identification of putative mammalian orthologs to given enhancer
  description: Get ENCODE data of enhancer region via H3K4me1 peaks and search homolog regions for given sequences. The candidates of enhancer homolog regions can be filtered by distance to target TSS. The top candidates from human and mouse will be aligned to each other and then exported as multiple alignments with given enhancer.
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

