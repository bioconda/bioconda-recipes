{% set version = "1.20.0" %}
{% set name = "depmap" %}
{% set bioc = "3.20" %}

about:
  description: The depmap package is a data package that accesses datsets from the Broad Institute DepMap cancer dependency study using ExperimentHub. Datasets from the most current release are available, including RNAI and CRISPR-Cas9 gene knockout screens quantifying the genetic dependency for select cancer cell lines. Additional datasets are also available pertaining to the log copy number of genes for select cell lines, protein expression of cell lines as measured by reverse phase protein lysate microarray (RPPA), 'Transcript Per Million' (TPM) data, as well as supplementary datasets which contain metadata and mutation calls for the other datasets found in the current release. The 19Q3 release adds the drug_dependency dataset, that contains cancer cell line dependency data with respect to drug and drug-candidate compounds. The 20Q2 release adds the proteomic dataset that contains quantitative profiling of proteins via mass spectrometry. This package will be updated on a quarterly basis to incorporate the latest Broad Institute DepMap Public cancer dependency datasets. All data made available in this package was generated by the Broad Institute DepMap for research purposes and not intended for clinical use. This data is distributed under the Creative Commons license (Attribution 4.0 International (CC BY 4.0)).
  home: https://bioconductor.org/packages/{{ bioc }}/data/experiment/html/{{ name }}.html
  license: Artistic-2.0
  summary: Cancer Dependency Map Data Package

build:
  noarch: generic
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-depmap", max_pin="x.x") }}'

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

# Suggests: knitr, rmarkdown, BiocStyle, viridis, gridExtra, ggplot2, readr, stringr, tidyverse, magick
requirements:
  host:
    - bioconductor-annotationhub >=3.14.0,<3.15.0
    - bioconductor-biocfilecache >=2.14.0,<2.15.0
    - bioconductor-experimenthub >=2.14.0,<2.15.0
    - r-base
    - r-curl
    - r-dplyr
    - r-httr2
    - r-tibble
  run:
    - bioconductor-annotationhub >=3.14.0,<3.15.0
    - bioconductor-biocfilecache >=2.14.0,<2.15.0
    - bioconductor-experimenthub >=2.14.0,<2.15.0
    - r-base
    - r-curl
    - r-dplyr
    - r-httr2
    - r-tibble
    - curl
    - bioconductor-data-packages >=20241103

source:
  md5: 7570708bfa0edac82ad43e8f73600460
  url:
    - https://bioconductor.org/packages/{{ bioc }}/data/experiment/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name }}/bioconductor-{{ name }}_{{ version }}_src_all.tar.gz

test:
  commands:
    - $R -e "library('{{ name }}')"

