{% set version = "1.20.0" %}
{% set name = "POMA" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 2e2c8a7a8c49d1aaefcebddc1c32477f

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-poma", max_pin="x.x") }}'
  noarch: generic

# Suggests: BiocStyle, covr, ggraph, ggtext, knitr, patchwork, plotly, tidyverse, testthat (>= 2.3.2)
requirements:

  build:
    - {{ cdt('mesa-libgl-devel') }}  # [linux]
    - {{ cdt('mesa-dri-drivers') }}  # [linux]
    - {{ cdt('libselinux') }}  # [linux]
    - {{ cdt('libxdamage') }}  # [linux]
    - {{ cdt('libxxf86vm') }}  # [linux]
    - xorg-libxfixes  # [linux]

  host:
    - bioconductor-complexheatmap >=2.26.0,<2.27.0
    - bioconductor-deseq2 >=1.50.0,<1.51.0
    - bioconductor-fgsea >=1.36.0,<1.37.0
    - bioconductor-impute >=1.84.0,<1.85.0
    - bioconductor-limma >=3.66.0,<3.67.0
    - bioconductor-mixomics >=6.34.0,<6.35.0
    - bioconductor-rankprod >=3.36.0,<3.37.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - bioconductor-sva >=3.58.0,<3.59.0
    - r-base
    - r-broom
    - r-caret
    - r-dbscan
    - r-dplyr
    - r-fsa
    - r-ggcorrplot
    - r-ggplot2
    - r-ggrepel
    - r-glmnet
    - r-janitor
    - r-lme4
    - r-magrittr
    - r-mass
    - r-msigdbr
    - r-multcomp
    - r-purrr
    - r-randomforest
    - r-rlang
    - r-tibble
    - r-tidyr
    - r-uwot
    - r-vegan

  run:
    - bioconductor-complexheatmap >=2.26.0,<2.27.0
    - bioconductor-deseq2 >=1.50.0,<1.51.0
    - bioconductor-fgsea >=1.36.0,<1.37.0
    - bioconductor-impute >=1.84.0,<1.85.0
    - bioconductor-limma >=3.66.0,<3.67.0
    - bioconductor-mixomics >=6.34.0,<6.35.0
    - bioconductor-rankprod >=3.36.0,<3.37.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - bioconductor-sva >=3.58.0,<3.59.0
    - r-base
    - r-broom
    - r-caret
    - r-dbscan
    - r-dplyr
    - r-fsa
    - r-ggcorrplot
    - r-ggplot2
    - r-ggrepel
    - r-glmnet
    - r-janitor
    - r-lme4
    - r-magrittr
    - r-mass
    - r-msigdbr
    - r-multcomp
    - r-purrr
    - r-randomforest
    - r-rlang
    - r-tibble
    - r-tidyr
    - r-uwot
    - r-vegan

test:
  commands:
    - LD_LIBRARY_PATH="${BUILD_PREFIX}/x86_64-conda-linux-gnu/sysroot/usr/lib64:${BUILD_PREFIX}/lib" $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-3.0-only
  summary: Tools for Omics Data Analysis
  description: 'The POMA package offers a comprehensive toolkit designed for omics data analysis, streamlining the process from initial visualization to final statistical analysis. Its primary goal is to simplify and unify the various steps involved in omics data processing, making it more accessible and manageable within a single, intuitive R package. Emphasizing on reproducibility and user-friendliness, POMA leverages the standardized SummarizedExperiment class from Bioconductor, ensuring seamless integration and compatibility with a wide array of Bioconductor tools. This approach guarantees maximum flexibility and replicability, making POMA an essential asset for researchers handling omics datasets. See https://github.com/pcastellanoescuder/POMAShiny. Paper: Castellano-Escuder et al. (2021) <doi:10.1371/journal.pcbi.1009148> for more details.'
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  container:
    extended-base: yes

