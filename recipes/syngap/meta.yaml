{% set name = "syngap" %}
{% set version = "1.0.0" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/yanyew/bioconda/releases/download/v{{ version }}/syngap_v{{ version }}.tar.gz
  sha256: ff9bf89d3d23106f22981aba3322ceaec1fb62168a3a1808b5e9d69cc235f13b
  
build: 
  number: 0
  entry_points: 
    - syngap = SynGAP:main
  noarch: generic
  run_exports:
    - python
    - biopython
    - jcvi
    - bedtools
    - last
    - emboss
    - gffread
    - seqkit
    - diamond
    - perl-bioperl
    - kneed
    - numpy
    - pandas
    - matplotlib-base

requirements:
  bulid: 
    - python >=3.10
  run: 
    - python >=3.10
    - biopython >=1.81
    - jcvi >=1.3.6
    - bedtools >=2.31.0
    - last >=1454
    - emboss >=6.6.0
    - gffread >=0.12.7
    - seqkit >=2.4.0
    - diamond >=2.1.8
    - perl-bioperl >=1.7.8
    - kneed >=0.8.3
    - numpy >=1.26.0
    - pandas >=2.1.1
    - matplotlib-base >=3.8.0
  pip:
    - -r requirements.txt

test: 
  source_files: 
    - run_test.sh
    - SynGAP.py
    - dual.py
    - triple.py
    - custom.py
    - genepair.py
    - evi.py
    - eviplot.py
    - bin/*
    - scripts/*
  imports: 
    - SynGAP
  commands: 
    - syngap -h
    - syngap dual -h
    - syngap triple -h
    - syngap custom -h
    - syngap genepair -h
    - syngap evi -h
    - syngap eviplot -h

about: 
  home: https://github.com/yanyew/SynGAP
  license: CC BY-NC-SA 4.0
  summary: "SynGAP: Synteny-based Genome Annotations Polisher"
  dev_url: https://github.com/yanyew/SynGAP
