{% set version="1.1.2" %}

package:
  name: albatradis
  version: {{ version }}

source:
  url: https://github.com/quadram-institute-bioscience/albatradis/archive/{{ version }}.tar.gz
  sha256: 6f9d9e1bbd22916a5d52c76504dec14805e2dc19858dd8112f7e1bd0ff041c19

build:
  number: 0
  skip: True  # [py<30 or osx]
  script: python -m pip install --ignore-installed .

requirements:
  build:
    - {{ compiler('c') }}
  host:
    - python
    - cython
    - pip
  run:
    - python
    - cython
    - biopython >=1.68
    - pyfastaq >=3.12.0
    - scipy
    - numpy
    - dendropy
    - seaborn
    - pandas
    - graphviz
    - python-graphviz
    - quatradis >=0.8.3

test:
  commands:
    - albatradis --version
    - albatradis-presence_absence -h
    - albatradis-artemis_project -h

about:
  home: https://github.com/quadram-institute-bioscience/albatradis
  license: 'GNU General Public License v3 (GPLv3)'
  license_family: GPL3
  license_file: LICENSE
  summary: 'Comparative TraDIS analysis'

extra:
  skip-lints:
    # Uses pyximport
    - cython_must_be_in_host
  recipe-maintainers:
    - sbastkowski
    - thanhleviet
