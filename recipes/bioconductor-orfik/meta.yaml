{% set version = "1.30.2" %}
{% set name = "ORFik" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: f00f467e26e55807e5527dbb5020de3d

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-orfik", max_pin="x.x") }}'

# Suggests: testthat, rmarkdown, knitr, BiocStyle, BSgenome.Hsapiens.UCSC.hg19, GenomeInfoDbData
requirements:

  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make

  host:
    - bioconductor-annotationdbi >=1.72.0,<1.73.0
    - bioconductor-biocfilecache >=3.0.0,<3.1.0
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-biomart >=2.66.0,<2.67.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bsgenome >=1.78.0,<1.79.0
    - bioconductor-deseq2 >=1.50.0,<1.51.0
    - bioconductor-genomeinfodb >=1.46.0,<1.47.0
    - bioconductor-genomicalignments >=1.46.0,<1.47.0
    - bioconductor-genomicfeatures >=1.62.0,<1.63.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-rsamtools >=2.26.0,<2.27.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - bioconductor-txdbmaker >=1.6.0,<1.7.0
    - r-base
    - r-biomartr >=1.0.7
    - r-cowplot >=1.0.0
    - r-data.table >=1.11.8
    - r-fst >=0.9.2
    - r-ggplot2 >=2.2.1
    - r-gridextra >=2.3
    - r-httr >=1.3.0
    - r-jsonlite
    - r-qs2
    - r-r.utils
    - r-rcpp >=1.0.0
    - r-withr
    - r-xml
    - r-xml2 >=1.2.0
    - libblas
    - liblapack
    - zlib
    - liblzma-devel

  run:
    - bioconductor-annotationdbi >=1.72.0,<1.73.0
    - bioconductor-biocfilecache >=3.0.0,<3.1.0
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-biomart >=2.66.0,<2.67.0
    - bioconductor-biostrings >=2.78.0,<2.79.0
    - bioconductor-bsgenome >=1.78.0,<1.79.0
    - bioconductor-deseq2 >=1.50.0,<1.51.0
    - bioconductor-genomeinfodb >=1.46.0,<1.47.0
    - bioconductor-genomicalignments >=1.46.0,<1.47.0
    - bioconductor-genomicfeatures >=1.62.0,<1.63.0
    - bioconductor-genomicranges >=1.62.0,<1.63.0
    - bioconductor-iranges >=2.44.0,<2.45.0
    - bioconductor-rsamtools >=2.26.0,<2.27.0
    - bioconductor-rtracklayer >=1.70.0,<1.71.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - bioconductor-txdbmaker >=1.6.0,<1.7.0
    - r-base
    - r-biomartr >=1.0.7
    - r-cowplot >=1.0.0
    - r-data.table >=1.11.8
    - r-fst >=0.9.2
    - r-ggplot2 >=2.2.1
    - r-gridextra >=2.3
    - r-httr >=1.3.0
    - r-jsonlite
    - r-qs2
    - r-r.utils
    - r-rcpp >=1.0.0
    - r-withr
    - r-xml
    - r-xml2 >=1.2.0

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: MIT + file LICENSE
  summary: Open Reading Frames in Genomics
  description: R package for analysis of transcript and translation features through manipulation of sequence data and NGS data like Ribo-Seq, RNA-Seq, TCP-Seq and CAGE. It is generalized in the sense that any transcript region can be analysed, as the name hints to it was made with investigation of ribosomal patterns over Open Reading Frames (ORFs) as it's primary use case. ORFik is extremely fast through use of C++, data.table and GenomicRanges. Package allows to reassign starts of the transcripts with the use of CAGE-Seq data, automatic shifting of RiboSeq reads, finding of Open Reading Frames for whole genomes and much more.
  license_file: LICENSE

