{% set version='0.6.7' %}
{% set revision='223fa20' %}

package:
  name: sambamba
  version: {{ version }}-{{ revision }}

build:
  number: 0
  skip: True  # [osx]

extra:
  skip-lints:
    - uses_git_url

source:
#  fn: v{{ version }}.tar.bz2
#  url: https://github.com/biod/sambamba/archive/v{{ version }}.tar.gz
#  sha256: cbbc09662b6378d1171ca42456aaf1ba0cd693983c4094fa19519aff049c404c
  git_url: https://github.com/biod/sambamba
  git_rev: {{ revision }}
  md5: unused
  patches:
    - Makefile.patch

requirements:
  build:
    - gcc
    - bzip2 {{ CONDA_BZIP2 }}*
    - zlib {{ CONDA_ZLIB }}*
    - xz {{ CONDA_XZ }}*
  run:
    - libgcc
    - bzip2 {{ CONDA_BZIP2 }}*
    - zlib {{ CONDA_ZLIB }}*
    - xz {{ CONDA_XZ }}*

test:
  commands:
    - sambamba view

about:
  home: https://github.com/biod/sambamba
  license: GPLv2
  summary: Tools for working with SAM/BAM data
