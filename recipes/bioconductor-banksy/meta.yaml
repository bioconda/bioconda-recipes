{% set version = "1.6.0" %}
{% set name = "Banksy" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 7ae4066a2b7b3b480bb16e9cd16d46fd

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-banksy", max_pin="x.x") }}'
  noarch: generic

# Suggests: knitr, rmarkdown, pals, scuttle, scater, scran, cowplot, ggplot2, testthat (>= 3.0.0), harmony, Seurat, ExperimentHub, spatialLIBD, BiocStyle
requirements:
  host:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-genomeinfodb >=1.46.0,<1.47.0
    - bioconductor-matrixgenerics >=1.22.0,<1.23.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-singlecellexperiment >=1.32.0,<1.33.0
    - bioconductor-spatialexperiment >=1.20.0,<1.21.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-aricode
    - r-base
    - r-data.table
    - r-dbscan
    - r-igraph
    - r-irlba
    - r-leidenalg >=1.1.0
    - r-matrix
    - r-mclust
    - r-rcpphungarian
    - r-uwot
  run:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - bioconductor-genomeinfodb >=1.46.0,<1.47.0
    - bioconductor-matrixgenerics >=1.22.0,<1.23.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-singlecellexperiment >=1.32.0,<1.33.0
    - bioconductor-spatialexperiment >=1.20.0,<1.21.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-aricode
    - r-base
    - r-data.table
    - r-dbscan
    - r-igraph
    - r-irlba
    - r-leidenalg >=1.1.0
    - r-matrix
    - r-mclust
    - r-rcpphungarian
    - r-uwot

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: file LICENSE
  summary: Spatial transcriptomic clustering
  description: Banksy is an R package that incorporates spatial information to cluster cells in a feature space (e.g. gene expression). To incorporate spatial information, BANKSY computes the mean neighborhood expression and azimuthal Gabor filters that capture gene expression gradients. These features are combined with the cell's own expression to embed cells in a neighbor-augmented product space which can then be clustered, allowing for accurate and spatially-aware cell typing and tissue domain segmentation.
  license_file: LICENSE

