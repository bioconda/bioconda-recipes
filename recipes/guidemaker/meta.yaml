{% set version = "0.4.1" %}
{% set name = "GuideMaker" %}
{% set sha256 = "f26b4c98d3eede37dbc121087e9a38115612a7e7b3e3e04a2a6b02f1ed44e4be" %}
{% set user = "USDA-ARS-GBRU" %}

package:
  name: '{{ name|lower }}'
  version: '{{ version }}'

source:
  url: https://github.com/{{ user }}/{{ name }}/archive/v{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  noarch: python
  entry_points:
    - guidemaker=guidemaker.cli:main
  script: {{ PYTHON }} -m pip install --no-deps --ignore-installed .
  run_exports:
    - {{ pin_subpackage('guidemaker', max_pin="x") }}

requirements:
  host:
    - pip
    - python >=3.6
    - biopython >=1.79
  run:
    - pip
    - python >=3.6
    - biopython >=1.79
    - numpy >=1.11
    - pybedtools >=0.8.2
    - nmslib >=2.0.6
    - pandas >=1.0.0
    - pyyaml >=5.4.1
    - regex ==2020.11.13
    - altair
    - streamlit >=0.81.0
    - pytest >=4.6
    - pytest-cov
    - streamlit_tags >=1.2.6
    - pdoc3
    - onnxruntime >=1.8.1

test:
  commands:
    - guidemaker --version

about:
  home: https://github.com/USDA-ARS-GBRU/GuideMaker
  license: 'CC0-1.0'
  license_family: 'PUBLIC-DOMAIN'
  license_file: LICENSE.txt
  summary: 'GuideMaker: Software to design gRNAs pools in non-model genomes and CRISPR-Cas systems'

extra:
  recipe-maintainers:
    - arivers
    - ravinpoudel
  identifiers:
    - biotools:GuideMaker
    - doi:10.5281/zenodo.4849258
