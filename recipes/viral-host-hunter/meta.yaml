{% set name = "viral-host-hunter" %}
{% set version = "0.1.9" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/YuehuaOu/Viral-Host-Hunter/archive/refs/tags/v{{ version }}.tar.gz
  sha256: e7faf1e4c2a4155d06d894ba76813e132346cc5c79738379166e0de3a8a6b6be

build:
  number: 0
  noarch: python
  script: |
    $PYTHON -m pip install . -vv
  run_exports: []

requirements:
  build:
    - python >=3.8,<3.11
    - pip
    - setuptools >=64
    - wheel
  host:
    - python >=3.8,<3.11
    - pip
    - scikit-learn >=1.3.0,<1.4.0

  run:
    - python >=3.8,<3.11
    - pytorch >=2.0
    - transformers >=4.37
    - sentencepiece >=0.1.99
    - biopython >=1.81
    - scikit-learn >=1.3.0,<1.4.0
    - numpy >=1.24
    - pandas >=2.0
    - openpyxl >=3.1
    - tqdm >=4.60
    


test:
  commands:
    - vhh-predict --help
  requires:
    - pytest
  source_files:
    - viral_host_hunter/

about:
  home: https://github.com/YuehuaOu/Viral-Host-Hunter
  license: GPL-3.0
  license_file: LICENSE.txt
  summary: "Decrypting viral dark matter with predictive framework and therapeutic implications."
  description: |
    Viral-Host-Hunter (VHH) is a deep learning framework for predicting virus-host
    interactions across taxonomic levels, leveraging protein language models such
    as ProtT5-XL-UniRef50 for biological sequence embedding and host inference.
  doc_url: https://github.com/YuehuaOu/Viral-Host-Hunter
  dev_url: https://github.com/YuehuaOu/Viral-Host-Hunter

extra:
  recipe-maintainers:
    - YuehuaOu
