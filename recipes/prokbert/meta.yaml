{% set name = "prokbert" %}
{% set version = "0.0.40" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  git_rev: v0.0.40
  git_url: https://github.com/nbrg-ppcu/prokbert

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed -vvv"
channels:
  - conda-forge
  - pytorch
  - nvidia
  - bioconda
  - defaults

requirements:
  host:
    - python==3.10
    - pip
  run:
    - conda-forge::python==3.10
    - pytorch::pytorch
    - pytorch::torchvision
    - conda-forge::biopython
    - conda-forge::pandas>=2.0.0
    - conda-forge::datasets>=2.0.1
    - conda-forge::scikit-learn>=1.2.2
    - conda-forge::scipy>=1.10.0
    - conda-forge::transformers>=4.23
    - conda-forge::tables>=3.8.0
    - conda-forge::h5py>=3.7.0
test:
  imports:
    - prokbert

about:
  home: https://github.com/nbrg-ppcu/prokbert
  license: MIT
  license_family: MIT
  license_file: LICENSE  # ensure you have a LICENSE file in your repo
  summary: 'ProkBERT is a genomic language model specifically designed for microbiome applications. It leverages the power of machine learning to decipher complex microbial interactions, predict functionalities, and uncover novel patterns in extensive datasets. The ProkBERT model family, built on transfer learning and self-supervised methodologies, capitalizes on the abundant genomic data available.'

extra:
  authors:
    - name: nbrg-ppcu
      email: obalasz@gmail.com
  identifiers:
    - doi: 10.1101/2023.11.09.566411
