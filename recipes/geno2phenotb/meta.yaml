{% set version = "1.0.0" %}
{% set sha256 = "a1c1778761992f40f15c25efb2601118d0e6c7b53c17a697a290189393bbf146" %}

package:
  name: geno2phenotb
  version: "{{ version }}"

source:
  url: https://github.com/msmdev/geno2phenoTB/archive/refs/tags/{{ version }}.tar.gz
  sha256: "{{ sha256 }}"

build:
  number: 1
  noarch: python
  script: {{ PYTHON }} -m pip install --no-deps --ignore-installed .

requirements:
  host:
    - python =3.8.17
    - pip
    - setuptools
  run:
    - bwa =0.7.17
    - gatk =3.8
    - imbalanced-learn =0.8.1
    - joblib =1.1.1
    - mtbseq =1.0.4
    - numpy =1.21.5
    - numpy-base =1.21.5
    - packaging =21.3
    - pandas =0.25.3
    - perl-base =2.23
    - python =3.8.17
    - requests =2.28
    - samtools =1.6
    - scikit-learn =0.24.2
    - scipy =1.7.3
    - setuptools =65.5.0
    - tqdm =4.64
    - importlib_metadata
    - wheel =0.37.1

test:
  imports:
    - geno2phenotb
  commands:
    - geno2phenotb --help
    - geno2phenotb test -f

about:
  home: https://github.com/msmdev/geno2phenoTB
  license: LGPL-3.0-only
  license_file: LICENSE.txt
  summary: Prediction of Mycobacterium tuberculosis drug resistance from WGS data
  description: |
    geno2phenoTB is a machine learning based tool to predict resistance of Mycobacterium tuberculosis against antibiotics using whole-genome sequencing data.
  doc_url: https://geno2phenotb.readthedocs.io/en/latest
  dev_url: https://github.com/msmdev/geno2phenoTB

extra:
  recipe-maintainers:
    - msmdev
    - not_a_feature
