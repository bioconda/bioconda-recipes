{% set name = "tabixpp" %}
{% set version = "1.1.2" %}
{% set sha256 = "c850299c3c495221818a85c9205c60185c8ed9468d5ec2ed034470bb852229dc" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
- url: https://github.com/vcflib/tabixpp/archive/refs/tags/v{{version}}.tar.gz
  sha256: {{ sha256 }}
  patches:
    - shared_lib.patch
    - pkg-config.patch
#- url: https://github.com/samtools/htslib/releases/download/1.17/htslib-1.17.tar.bz2
  #sha256: 763779288c40f07646ec7ad98b96c378c739171d162ad98398868783b721839f
  #folder: htslib

build:
  number: 0

requirements:
  build:
    - {{ compiler('cxx') }}
    - make
    - pkg-config  # [osx]
  host:
    - zlib
    - bzip2
    - xz
    - bc
    - htslib
  run:
    - samtools

test:
  commands:
    - 'tabix++ 2>&1 | grep "Version"'

about:
  home: "https://github.com/vcflib/tabixpp"
  license: MIT
  license_file: LICENSE
  license_family: MIT
  summary: "This is a C++ wrapper around tabix project which abstracts some of the details of opening and jumping in tabix-indexed files."

extra:
  recipe-maintainers:
    - jpuritz
  identifiers:
    - biotools:tabixpp
