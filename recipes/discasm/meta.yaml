{% set version = "0.1.2" %}

package:
    name: discasm
    version: {{ version }}

source:
  fn: DISCASM-v{{ version }}.tar.gz # [unix]
  url: https://github.com/DISCASM/DISCASM/releases/download/DISCASM-v{{ version }}/DISCASM-v{{ version }}.tar.gz # [unix]
  md5: 571b2265018608298752f40f3f375b0f # [unix]

build:
    skip: true  # [py3k]
    number: 0

requirements:
    build:
    run:
        - python
        - perl
        - star >=2.4
        - trinity >=2.4
        - oases >=0.2

test:
    commands:
        - DISCASM --help > /dev/null 2>&1
        # DISCASM requires the environment variable TRINITY_HOME to be specified,
        # but can find it if it is in the PATH variable.

about:
    home: "https://github.com/DISCASM/DISCASM"
    license: "BSD 3-clause New or Revised License - https://github.com/DISCASM/DISCASM/blob/master/LICENSE"
    summary: "DISCASM aims to extract reads that map to reference genomes in a discordant fashion and optionally include reads that do not map to the genome at all, and perform a de novo transcriptome assembly of these reads. DISCASM relies on the output from STAR (as run via STAR-Fusion), and supports de novo transcriptome assembly using Trinity or Oases. - https://github.com/DISCASM/DISCASM/wiki"
