diff --git a/Makefile b/Makefile
index 5a4da2f..4c97c49 100644
--- a/Makefile
+++ b/Makefile
@@ -8,7 +8,7 @@ SUBDIRS := src src/hmm src/thirdparty src/thirdparty/scrappie src/common src/ali
 #
 
 #Basic flags every build needs
-LIBS = -lz
+LIBS = -lcrypto -lz -llzma -lbz2 -lcurl -ldeflate -ldl
 CXXFLAGS ?= -g -O3
 CXXFLAGS += -std=c++11 -fopenmp -fsigned-char -D_FILE_OFFSET_BITS=64 #D_FILE_OFFSET_BITS=64 makes nanopolish work in 32 bit systems
 CFLAGS ?= -O3 -std=c99 -fsigned-char -D_FILE_OFFSET_BITS=64 
@@ -51,17 +51,6 @@ else
     EIGEN_CHECK =
 endif
 
-# Default to build and link the libhts submodule
-ifeq ($(HTS), install)
-    HTS_LIB = ./htslib/libhts.a
-    HTS_INCLUDE = -I./htslib
-else
-    # Use system-wide htslib
-    HTS_LIB =
-    HTS_INCLUDE =
-    LIBS += -lhts
-endif
-
 # Default to build and link the libminimap2 submodule
 ifeq ($(MINIMAP2), install)
     MINIMAP2_LIB = ./minimap2/libminimap2.a
@@ -73,9 +62,6 @@ else
     LIBS += -lminimap2
 endif
 
-# Include the header-only fast5 library
-FAST5_INCLUDE = -I./fast5/include
-
 # Include the header-only eigen library
 EIGEN_INCLUDE = -I./eigen/
 
diff --git a/src/nanopolish_methyltrain.cpp b/src/nanopolish_methyltrain.cpp
index b97a2f9..436bf11 100644
--- a/src/nanopolish_methyltrain.cpp
+++ b/src/nanopolish_methyltrain.cpp
@@ -45,7 +45,7 @@
 #include "logger.hpp"
 
 #include "nanopolish_scorereads.h"
-#include "Eigen/Dense"
+#include <eigen3/Eigen/Dense>
 
 extern float g_p_skip, g_p_skip_self, g_p_bad, g_p_bad_self;
 
