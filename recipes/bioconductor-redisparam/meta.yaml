{% set version = "1.12.1" %}
{% set name = "RedisParam" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'
source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: 6a95a2f0e20094302a0f3664e3b237ab
build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-redisparam", max_pin="x.x") }}'
  noarch: generic
# Suggests: rmarkdown, knitr, testthat, BiocStyle
# SystemRequirements: hiredis
requirements:
  host:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - r-base
    - r-logger
    - r-redux
    - r-withr
  run:
    - bioconductor-biocparallel >=1.44.0,<1.45.0
    - r-base
    - r-logger
    - r-redux
    - r-withr
test:
  commands:
    - $R -e "library('{{ name }}')"
about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: Artistic-2.0
  summary: Provide a 'redis' back-end for BiocParallel
  description: This package provides a Redis-based back-end for BiocParallel, enabling an alternative mechanism for distributed computation. The The 'manager' distributes tasks to a 'worker' pool through a central Redis server, rather than directly to workers as with other BiocParallel implementations. This means that the worker pool can change dynamically during job evaluation. All features of BiocParallel are supported, including reproducible random number streams, logging to the manager, and alternative 'load balancing' task distributions.

