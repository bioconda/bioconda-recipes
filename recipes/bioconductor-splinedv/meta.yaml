{% set version = "1.2.0" %}
{% set name = "SplineDV" %}
{% set bioc = "3.22" %}

package:
  name: bioconductor-{{ name|lower }}
  version: '{{ version }}'

source:
  url:
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/{{ name }}_{{ version }}.tar.gz
    - https://bioconductor.org/packages/{{ bioc }}/bioc/src/contrib/Archive/{{ name }}/{{ name }}_{{ version }}.tar.gz
    - https://bioarchive.galaxyproject.org/{{ name }}_{{ version }}.tar.gz
    - https://depot.galaxyproject.org/software/bioconductor-{{ name|lower }}/bioconductor-{{ name|lower }}_{{ version }}_src_all.tar.gz
  md5: babbc83e5246cb8239959d75545a48bf

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  run_exports: '{{ pin_subpackage("bioconductor-splinedv", max_pin="x.x") }}'
  noarch: generic

# Suggests: knitr, DelayedMatrixStats, rmarkdown, BiocStyle, ggplot2, ggpubr, MASS, scales, scRNAseq, testthat (>= 3.0.0)
requirements:
  host:
    - bioconductor-biobase >=2.70.0,<2.71.0
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-scuttle >=1.20.0,<1.21.0
    - bioconductor-singlecellexperiment >=1.32.0,<1.33.0
    - bioconductor-sparsematrixstats >=1.22.0,<1.23.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-dplyr
    - r-matrix >=1.6.4
    - r-plotly
  run:
    - bioconductor-biobase >=2.70.0,<2.71.0
    - bioconductor-biocgenerics >=0.56.0,<0.57.0
    - bioconductor-s4vectors >=0.48.0,<0.49.0
    - bioconductor-scuttle >=1.20.0,<1.21.0
    - bioconductor-singlecellexperiment >=1.32.0,<1.33.0
    - bioconductor-sparsematrixstats >=1.22.0,<1.23.0
    - bioconductor-summarizedexperiment >=1.40.0,<1.41.0
    - r-base
    - r-dplyr
    - r-matrix >=1.6.4
    - r-plotly

test:
  commands:
    - $R -e "library('{{ name }}')"

about:
  home: https://bioconductor.org/packages/{{ bioc }}/bioc/html/{{ name }}.html
  license: GPL-2.0-only
  summary: Differential Variability (DV) analysis for single-cell RNA sequencing data. (e.g. Identify Differentially Variable Genes across two experimental conditions)
  description: 'A spline based scRNA-seq method for identifying differentially variable (DV) genes across two experimental conditions. Spline-DV constructs a 3D spline from 3 key gene statistics: mean expression, coefficient of variance, and dropout rate. This is done for both conditions. The 3D spline provides the “expected” behavior of genes in each condition. The distance of the observed mean, CV and dropout rate of each gene from the expected 3D spline is used to measure variability. As the final step, the spline-DV method compares the variabilities of each condition to identify differentially variable (DV) genes.'
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

