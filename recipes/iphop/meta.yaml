{% set name = "iphop" %}
  {% set version = "1.4.2" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://bitbucket.org/srouxjgi/iphop/downloads/{{ name }}-{{ version }}.tar.gz
  sha256: 26f6ee5b04d09d3a3558df4758d0ff69fda610f7c656048234e6057f9ff16b95

build:
  number: 0
  noarch: python
  run_exports:
    - {{ pin_subpackage('iphop', max_pin="x") }}

requirements:
  build:
    - python 3.8.*
    - pip
  run:
    - python 3.8.*
    - numpy 1.23.*
    - tensorflow 2.7.*
    - perl <6
    - perl-bioperl
    - blast 2.12.*
    - biopython 1.79.*
    - scikit-learn 0.22.*
    - click 8.0.*
    - pandas 1.3.*
    - joblib 1.0.*
    - diamond 2.0.*
    - prodigal 2.6.*
    - hmmer 3.3.2.*
    - r-base 4.0.*
    - r-ranger 0.13.*
    - piler-cr 1.06.*
    - crisper_recognition_tool 1.2.*

test:
  commands:
    - iphop --help

about:
  home: "https://bitbucket.org/srouxjgi/iphop/"
  license: Modified GPL v3
  license_family: GPL3
  license_file: LICENSE.txt
  summary: "Predict host genus from genomes of uncultivated phages."
  dev_url: "https://bitbucket.org/srouxjgi/iphop/"

extra:
  identifiers:
    - doi:10.1371/journal.pbio.3002083
  recipe-maintainers:
    - simroux
